parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"C4Nx":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var t={};!function(n){"use strict";n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var e=n["Control.Semigroupoid"],t=new function(n){this.compose=n}(function(n){return function(e){return function(t){return n(e(t))}}});e.compose=function(n){return n.compose},e.semigroupoidFn=t}(t),function(n){"use strict";n["Control.Category"]=n["Control.Category"]||{};var e=n["Control.Category"],t=n["Control.Semigroupoid"],r=new function(n,e){this.Semigroupoid0=n,this.identity=e}(function(){return t.semigroupoidFn},function(n){return n});e.identity=function(n){return n.identity},e.categoryFn=r}(t),function(n){"use strict";n["Data.Function"]=n["Data.Function"]||{};var e=n["Data.Function"];e.flip=function(n){return function(e){return function(t){return n(t)(e)}}},e.const=function(n){return function(e){return n}}}(t),function(n){"use strict";(t["Data.Functor"]=t["Data.Functor"]||{}).arrayMap=function(n){return function(e){for(var t=e.length,r=new Array(t),a=0;a<t;a++)r[a]=n(e[a]);return r}}}(),function(n){"use strict";(t["Data.Unit"]=t["Data.Unit"]||{}).unit={}}(),function(n){"use strict";n["Data.Unit"]=n["Data.Unit"]||{};var e=n["Data.Unit"],t=n["Data.Unit"];e.unit=t.unit}(t),function(n){"use strict";n["Data.Functor"]=n["Data.Functor"]||{};var e=n["Data.Functor"],t=n["Data.Functor"],r=n["Data.Function"],a=n["Data.Unit"],i=function(n){this.map=n},o=function(n){return n.map},u=new i(t.arrayMap);e.Functor=i,e.map=o,e.void=function(n){return o(n)(r.const(a.unit))},e.functorArray=u}(t),function(n){"use strict";n["Control.Apply"]=n["Control.Apply"]||{};var e=n["Control.Apply"],t=n["Control.Category"],r=n["Data.Function"],a=n["Data.Functor"],i=function(n){return n.apply};e.Apply=function(n,e){this.Functor0=n,this.apply=e},e.apply=i,e.applySecond=function(n){return function(e){return function(o){return i(n)(a.map(n.Functor0())(r.const(t.identity(t.categoryFn)))(e))(o)}}},e.lift2=function(n){return function(e){return function(t){return function(r){return i(n)(a.map(n.Functor0())(e)(t))(r)}}}}}(t),function(n){"use strict";n["Control.Applicative"]=n["Control.Applicative"]||{};var e=n["Control.Applicative"],t=n["Control.Apply"],r=function(n){return n.pure};e.Applicative=function(n,e){this.Apply0=n,this.pure=e},e.pure=r,e.liftA1=function(n){return function(e){return function(a){return t.apply(n.Apply0())(r(n)(e))(a)}}}}(t),function(n){"use strict";n["Control.Bind"]=n["Control.Bind"]||{};var e=n["Control.Bind"],t=n["Data.Function"],r=function(n){return n.bind},a=function(n){return t.flip(r(n))},i=new function(n){this.discard=n}(function(n){return r(n)});e.Bind=function(n,e){this.Apply0=n,this.bind=e},e.bind=r,e.bindFlipped=a,e.discard=function(n){return n.discard},e.composeKleisliFlipped=function(n){return function(e){return function(t){return function(r){return a(n)(e)(t(r))}}}},e.discardUnit=i}(t),function(n){"use strict";var e=function(n){return function(e){return n===e}};n.eqIntImpl=e,n.eqNumberImpl=e,n.eqStringImpl=e}(t["Data.Eq"]=t["Data.Eq"]||{}),function(n){"use strict";n["Data.Symbol"]=n["Data.Symbol"]||{};var e=n["Data.Symbol"],t=function(){function n(){}return n.value=new n,n}();e.IsSymbol=function(n){this.reflectSymbol=n},e.reflectSymbol=function(n){return n.reflectSymbol},e.SProxy=t}(t),function(n){"use strict";n.unsafeHas=function(n){return function(e){return{}.hasOwnProperty.call(e,n)}},n.unsafeGet=function(n){return function(e){return e[n]}},n.unsafeSet=function(n){return function(e){return function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r[n]=e,r}}}}(t["Record.Unsafe"]=t["Record.Unsafe"]||{}),function(n){"use strict";n["Record.Unsafe"]=n["Record.Unsafe"]||{};var e=n["Record.Unsafe"],t=n["Record.Unsafe"];e.unsafeHas=t.unsafeHas,e.unsafeGet=t.unsafeGet,e.unsafeSet=t.unsafeSet}(t),function(n){"use strict";n["Type.Proxy"]=n["Type.Proxy"]||{};var e=n["Type.Proxy"],t=function(){function n(){}return n.value=new n,n}();e.Proxy=t}(t),function(n){"use strict";n["Data.Eq"]=n["Data.Eq"]||{};var e=n["Data.Eq"],t=n["Data.Eq"],r=n["Data.Symbol"],a=n["Record.Unsafe"],i=n["Type.Proxy"],o=function(n){this.eqRecord=n},u=function(n){this.eq=n},c=new u(function(n){return function(n){return!0}}),l=new u(t.eqStringImpl),s=new o(function(n){return function(n){return function(n){return!0}}}),f=function(n){return n.eqRecord},d=new u(t.eqNumberImpl),v=new u(t.eqIntImpl),m=function(n){return n.eq};e.Eq=u,e.eq=m,e.eqInt=v,e.eqNumber=d,e.eqString=l,e.eqUnit=c,e.eqRec=function(n){return function(n){return new u(f(n)(i.Proxy.value))}},e.eqRowNil=s,e.eqRowCons=function(n){return function(e){return function(e){return function(t){return new o(function(o){return function(o){return function(u){var c=f(n)(i.Proxy.value)(o)(u),l=r.reflectSymbol(e)(i.Proxy.value),s=a.unsafeGet(l);return m(t)(s(o))(s(u))&&c}}})}}}}}(t),function(n){"use strict";n["Data.Maybe"]=n["Data.Maybe"]||{};var e=n["Data.Maybe"],t=n["Control.Apply"],r=n["Control.Bind"],a=n["Control.Category"],i=n["Data.Eq"],o=n["Data.Functor"],u=n["Data.Unit"],c=function(){function n(){}return n.value=new n,n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(n){return function(e){return function(t){if(t instanceof c)return n;if(t instanceof l)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 230, column 1 - line 230, column 51): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},f=new o.Functor(function(n){return function(e){return e instanceof l?new l(n(e.value0)):c.value}}),d=new t.Apply(function(){return f},function(n){return function(e){if(n instanceof l)return o.map(f)(n.value0)(e);if(n instanceof c)return c.value;throw new Error("Failed pattern match at Data.Maybe (line 68, column 1 - line 70, column 30): "+[n.constructor.name,e.constructor.name])}}),v=new r.Bind(function(){return d},function(n){return function(e){if(n instanceof l)return e(n.value0);if(n instanceof c)return c.value;throw new Error("Failed pattern match at Data.Maybe (line 126, column 1 - line 128, column 28): "+[n.constructor.name,e.constructor.name])}});e.Nothing=c,e.Just=l,e.maybe=s,e["maybe'"]=function(n){return function(e){return function(t){if(t instanceof c)return n(u.unit);if(t instanceof l)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 243, column 1 - line 243, column 62): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},e.fromMaybe=function(n){return s(n)(a.identity(a.categoryFn))},e.fromJust=function(n){return function(n){if(n instanceof l)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 281, column 1 - line 281, column 46): "+[n.constructor.name])}},e.functorMaybe=f,e.applyMaybe=d,e.bindMaybe=v,e.eqMaybe=function(n){return new i.Eq(function(e){return function(t){return e instanceof c&&t instanceof c||e instanceof l&&t instanceof l&&i.eq(n)(e.value0)(t.value0)}})}}(t),function(n){"use strict";n["Data.Either"]=n["Data.Either"]||{};var e=n["Data.Either"],t=n["Control.Applicative"],r=n["Control.Apply"],a=n["Data.Function"],i=n["Data.Functor"],o=n["Data.Maybe"],u=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),c=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=new i.Functor(function(n){return function(e){if(e instanceof u)return new u(e.value0);if(e instanceof c)return new c(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 31, column 1 - line 31, column 52): "+[e.constructor.name])}}),s=function(n){return function(e){return function(t){if(t instanceof u)return n(t.value0);if(t instanceof c)return e(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},f=s(a.const(o.Nothing.value))(o.Just.create),d=new r.Apply(function(){return l},function(n){return function(e){if(n instanceof u)return new u(n.value0);if(n instanceof c)return i.map(l)(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}}),v=new t.Applicative(function(){return d},c.create);e.Left=u,e.Right=c,e.either=s,e.hush=f,e.functorEither=l,e.applicativeEither=v}(t),function(n){"use strict";n["Control.Alt"]=n["Control.Alt"]||{};var e=n["Control.Alt"];e.Alt=function(n,e){this.Functor0=n,this.alt=e},e.alt=function(n){return n.alt}}(t),function(n){"use strict";n["Control.Plus"]=n["Control.Plus"]||{};var e=n["Control.Plus"];e.Plus=function(n,e){this.Alt0=n,this.empty=e},e.empty=function(n){return n.empty}}(t),function(n){"use strict";n.foldrArray=function(n){return function(e){return function(t){for(var r=e,a=t.length-1;a>=0;a--)r=n(t[a])(r);return r}}},n.foldlArray=function(n){return function(e){return function(t){for(var r=e,a=t.length,i=0;i<a;i++)r=n(r)(t[i]);return r}}}}(t["Data.Foldable"]=t["Data.Foldable"]||{}),function(n){"use strict";n["Data.Monoid"]=n["Data.Monoid"]||{};var e=n["Data.Monoid"];e.Monoid=function(n,e){this.Semigroup0=n,this.mempty=e},e.mempty=function(n){return n.mempty}}(t),function(n){"use strict";n["Data.Semigroup"]=n["Data.Semigroup"]||{};var e=n["Data.Semigroup"];e.Semigroup=function(n){this.append=n},e.append=function(n){return n.append}}(t),function(n){"use strict";n["Data.Foldable"]=n["Data.Foldable"]||{};var e=n["Data.Foldable"],t=n["Data.Foldable"],r=n["Control.Applicative"],a=n["Control.Apply"],i=n["Data.Either"],o=n["Data.Function"],u=n["Data.Maybe"],c=n["Data.Monoid"],l=n["Data.Semigroup"],s=n["Data.Unit"],f=function(n,e,t){this.foldMap=n,this.foldl=e,this.foldr=t},d=function(n){return n.foldr},v=function(n){return function(e){return function(t){return d(e)((i=a.applySecond(n.Apply0()),function(n){return i(t(n))}))(r.pure(n)(s.unit));var i}}},m=function(n){return n.foldl},p=new f(function(n){return function(e){return function(t){if(t instanceof u.Nothing)return c.mempty(n);if(t instanceof u.Just)return e(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,t.constructor.name])}}},function(n){return function(e){return function(t){if(t instanceof u.Nothing)return e;if(t instanceof u.Just)return n(e)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},function(n){return function(e){return function(t){if(t instanceof u.Nothing)return e;if(t instanceof u.Just)return n(t.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}),w=new f(function(n){return function(e){return function(t){if(t instanceof i.Left)return c.mempty(n);if(t instanceof i.Right)return e(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[e.constructor.name,t.constructor.name])}}},function(n){return function(e){return function(t){if(t instanceof i.Left)return e;if(t instanceof i.Right)return n(e)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},function(n){return function(e){return function(t){if(t instanceof i.Left)return e;if(t instanceof i.Right)return n(t.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}),y=new f(function(n){return(e=y,function(n){return function(t){return d(e)(function(e){return function(r){return l.append(n.Semigroup0())(t(e))(r)}})(c.mempty(n))}})(n);var e},t.foldlArray,t.foldrArray);e.Foldable=f,e.foldr=d,e.foldl=m,e.foldMap=function(n){return n.foldMap},e.traverse_=v,e.for_=function(n){return function(e){return o.flip(v(n)(e))}},e.find=function(n){return function(e){return m(n)(function(n){return function(t){return n instanceof u.Nothing&&e(t)?new u.Just(t):n}})(u.Nothing.value)}},e.foldableArray=y,e.foldableMaybe=p,e.foldableEither=w}(t),function(n){"use strict";(t["Data.FunctorWithIndex"]=t["Data.FunctorWithIndex"]||{}).mapWithIndexArray=function(n){return function(e){for(var t=e.length,r=Array(t),a=0;a<t;a++)r[a]=n(a)(e[a]);return r}}}(),function(n){"use strict";n["Data.FunctorWithIndex"]=n["Data.FunctorWithIndex"]||{};var e=n["Data.FunctorWithIndex"],t=n["Data.FunctorWithIndex"],r=n["Data.Functor"],a=new function(n,e){this.Functor0=n,this.mapWithIndex=e}(function(){return r.functorArray},t.mapWithIndexArray);e.mapWithIndex=function(n){return n.mapWithIndex},e.functorWithIndexArray=a}(t),function(n){"use strict";n["Data.Tuple"]=n["Data.Tuple"]||{};var e=n["Data.Tuple"],t=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}();e.Tuple=t,e.fst=function(n){return n.value0},e.snd=function(n){return n.value1}}(t),function(n){"use strict";n["Data.FoldableWithIndex"]=n["Data.FoldableWithIndex"]||{};var e=n["Data.FoldableWithIndex"],t=n["Data.Foldable"],r=n["Data.FunctorWithIndex"],a=n["Data.Monoid"],i=n["Data.Semigroup"],o=n["Data.Tuple"],u=function(n,e,t,r){this.Foldable0=n,this.foldMapWithIndex=e,this.foldlWithIndex=t,this.foldrWithIndex=r},c=new u(function(){return t.foldableArray},function(n){return(e=c,function(n){return function(t){return e.foldrWithIndex(function(e){return function(r){return function(a){return i.append(n.Semigroup0())(t(e)(r))(a)}}})(a.mempty(n))}})(n);var e},function(n){return function(e){var a=t.foldl(t.foldableArray)(function(e){return function(t){return n(t.value0)(e)(t.value1)}})(e),i=r.mapWithIndex(r.functorWithIndexArray)(o.Tuple.create);return function(n){return a(i(n))}}},function(n){return function(e){var a=t.foldr(t.foldableArray)(function(e){return function(t){return n(e.value0)(e.value1)(t)}})(e),i=r.mapWithIndex(r.functorWithIndexArray)(o.Tuple.create);return function(n){return a(i(n))}}});e.FoldableWithIndex=u,e.foldlWithIndex=function(n){return n.foldlWithIndex},e.foldableWithIndexArray=c}(t),function(n){"use strict";n["Data.NonEmpty"]=n["Data.NonEmpty"]||{};var e=n["Data.NonEmpty"],t=n["Control.Plus"],r=n["Data.Functor"],a=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}();e.NonEmpty=a,e.singleton=function(n){return function(e){return new a(e,t.empty(n))}},e.functorNonEmpty=function(n){return new r.Functor(function(e){return function(t){return new a(e(t.value0),r.map(n)(e)(t.value1))}})}}(t),function(n){"use strict";(t["Data.Traversable"]=t["Data.Traversable"]||{}).traverseArrayImpl=function(){function n(n){return[n]}function e(n){return function(e){return[n,e]}}function t(n){return function(e){return function(t){return[n,e,t]}}}function r(n){return function(e){return n.concat(e)}}return function(a){return function(i){return function(o){return function(u){return function(c){return function l(s,f){switch(f-s){case 0:return o([]);case 1:return i(n)(u(c[s]));case 2:return a(i(e)(u(c[s])))(u(c[s+1]));case 3:return a(a(i(t)(u(c[s])))(u(c[s+1])))(u(c[s+2]));default:var d=s+2*Math.floor((f-s)/4);return a(i(r)(l(s,d)))(l(d,f))}}(0,c.length)}}}}}}()}(),function(n){"use strict";n["Data.Traversable"]=n["Data.Traversable"]||{};var e=n["Data.Traversable"],t=n["Data.Traversable"],r=n["Control.Applicative"],a=n["Control.Apply"],i=n["Control.Category"],o=n["Data.Foldable"],u=n["Data.Functor"],c=function(n,e,t,r){this.Foldable1=n,this.Functor0=e,this.sequence=t,this.traverse=r},l=function(n){return n.traverse},s=new c(function(){return o.foldableArray},function(){return u.functorArray},function(n){return(e=s,function(n){return l(e)(n)(i.identity(i.categoryFn))})(n);var e},function(n){return t.traverseArrayImpl(a.apply(n.Apply0()))(u.map(n.Apply0().Functor0()))(r.pure(n))});e.Traversable=c,e.traverse=l,e.sequence=function(n){return n.sequence},e.for=function(n){return function(e){return function(t){return function(r){return l(e)(n)(r)(t)}}}},e.traversableArray=s}(t),function(n){"use strict";n["Data.Unfoldable"]=n["Data.Unfoldable"]||{};var e=n["Data.Unfoldable"];e.Unfoldable=function(n,e){this.Unfoldable10=n,this.unfoldr=e},e.unfoldr=function(n){return n.unfoldr}}(t),function(n){"use strict";n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{};n["Data.Unfoldable1"].Unfoldable1=function(n){this.unfoldr1=n}}(t),function(n){"use strict";n["Data.List.Types"]=n["Data.List.Types"]||{};var e,t=n["Data.List.Types"],r=n["Control.Alt"],a=n["Control.Applicative"],i=n["Control.Apply"],o=n["Control.Bind"],u=n["Control.Category"],c=n["Control.Plus"],l=n["Data.Foldable"],s=n["Data.FoldableWithIndex"],f=n["Data.Function"],d=n["Data.Functor"],v=n["Data.Maybe"],m=n["Data.Monoid"],p=n["Data.NonEmpty"],w=n["Data.Semigroup"],y=n["Data.Traversable"],g=n["Data.Tuple"],b=n["Data.Unfoldable"],h=n["Data.Unfoldable1"],S=function(){function n(){}return n.value=new n,n}(),C=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),I=function(n){return n},F=new d.Functor(function(n){var e;return e=S.value,function(t){var r,a=e,i=!1;function o(e,r){return r instanceof C&&r.value1 instanceof C&&r.value1.value1 instanceof C?(a=new C(r,e),void(t=r.value1.value1.value1)):(i=!0,(u=e,function(e){for(var t,r,a,i=u,o=!1;!o;)a=e,t=(r=i)instanceof C&&r.value0 instanceof C&&r.value0.value1 instanceof C&&r.value0.value1.value1 instanceof C?(i=r.value1,void(e=new C(n(r.value0.value0),new C(n(r.value0.value1.value0),new C(n(r.value0.value1.value1.value0),a))))):(o=!0,a);return t})((o=r)instanceof C&&o.value1 instanceof C&&o.value1.value1 instanceof S?new C(n(o.value0),new C(n(o.value1.value0),S.value)):o instanceof C&&o.value1 instanceof S?new C(n(o.value0),S.value):S.value));var o,u}for(;!i;)r=o(a,t);return r}}),E=p.functorNonEmpty(F),T=new l.Foldable(function(n){return function(e){return l.foldl(T)(function(t){var r=w.append(n.Semigroup0())(t);return function(n){return r(e(n))}})(m.mempty(n))}},function(n){return function(e){return function(t){var r,a=e,i=!1;function o(e,r){if(r instanceof S)return i=!0,e;if(r instanceof C)return a=n(e)(r.value0),void(t=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 112, column 12 - line 114, column 30): "+[r.constructor.name])}for(;!i;)r=o(a,t);return r}}},function(n){return function(e){var t,r=(t=S.value,function(n){var e,r=t,a=!1;function i(e,t){if(t instanceof S)return a=!0,e;if(t instanceof C)return r=new C(t.value0,e),void(n=t.value1);throw new Error("Failed pattern match at Data.List.Types (line 108, column 7 - line 108, column 23): "+[e.constructor.name,t.constructor.name])}for(;!a;)e=i(r,n);return e}),a=l.foldl(T)(f.flip(n))(e);return function(n){return a(r(n))}}}),D=new s.FoldableWithIndex(function(){return T},function(n){return function(e){return s.foldlWithIndex(D)(function(t){return function(r){var a=w.append(n.Semigroup0())(r),i=e(t);return function(n){return a(i(n))}}})(m.mempty(n))}},function(n){return function(e){var t=l.foldl(T)(function(e){return function(t){return new g.Tuple(e.value0+1|0,n(e.value0)(e.value1)(t))}})(new g.Tuple(0,e));return function(n){return g.snd(t(n))}}},function(n){return function(e){return function(t){var r=l.foldl(T)(function(n){return function(e){return new g.Tuple(n.value0+1|0,new C(e,n.value1))}})(new g.Tuple(0,S.value))(t);return g.snd(l.foldl(T)(function(e){return function(t){return new g.Tuple(e.value0-1|0,n(e.value0-1|0)(t)(e.value1))}})(new g.Tuple(r.value0,e))(r.value1))}}}),N=new w.Semigroup(function(n){return function(e){return l.foldr(T)(C.create)(e)(n)}}),x=new m.Monoid(function(){return N},S.value),R=new w.Semigroup(function(n){return function(e){return new p.NonEmpty(n.value0,w.append(N)(n.value1)(function(n){return new C(n.value0,n.value1)}(e)))}}),k=new y.Traversable(function(){return T},function(){return F},function(n){return y.traverse(k)(n)(u.identity(u.categoryFn))},function(n){return function(e){var t=d.map(n.Apply0().Functor0())(l.foldl(T)(f.flip(C.create))(S.value)),r=l.foldl(T)(function(t){var r=i.lift2(n.Apply0())(f.flip(C.create))(t);return function(n){return r(e(n))}})(a.pure(n)(S.value));return function(n){return t(r(n))}}}),P=new h.Unfoldable1(function(n){return function(e){var t;return(t=e,function(e){var r,a=t,i=!1;function o(t,r){var o=n(t);if(o.value1 instanceof v.Just)return a=o.value1.value0,void(e=new C(o.value0,r));if(o.value1 instanceof v.Nothing)return i=!0,l.foldl(T)(f.flip(C.create))(S.value)(new C(o.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 136, column 22 - line 138, column 61): "+[o.constructor.name])}for(;!i;)r=o(a,e);return r})(S.value)}}),M=new b.Unfoldable(function(){return P},function(n){return function(e){var t;return(t=e,function(e){var r,a=t,i=!1;function o(t,r){var o=n(t);if(o instanceof v.Nothing)return i=!0,l.foldl(T)(f.flip(C.create))(S.value)(r);if(o instanceof v.Just)return a=o.value0.value1,void(e=new C(o.value0.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 143, column 22 - line 145, column 52): "+[o.constructor.name])}for(;!i;)r=o(a,e);return r})(S.value)}}),q=new i.Apply(function(){return F},function(n){return function(e){if(n instanceof S)return S.value;if(n instanceof C)return w.append(N)(d.map(F)(n.value0)(e))(i.apply(q)(n.value1)(e));throw new Error("Failed pattern match at Data.List.Types (line 158, column 1 - line 160, column 48): "+[n.constructor.name,e.constructor.name])}}),W=new i.Apply(function(){return E},function(n){return function(e){return new p.NonEmpty(n.value0(e.value0),w.append(N)(i.apply(q)(n.value1)(new C(e.value0,S.value)))(i.apply(q)(new C(n.value0,n.value1))(e.value1)))}}),L=new o.Bind(function(){return q},function(n){return function(e){if(n instanceof S)return S.value;if(n instanceof C)return w.append(N)(e(n.value0))(o.bind(L)(n.value1)(e));throw new Error("Failed pattern match at Data.List.Types (line 165, column 1 - line 167, column 37): "+[n.constructor.name,e.constructor.name])}}),A=new a.Applicative(function(){return q},function(n){return new C(n,S.value)}),B=new r.Alt(function(){return F},w.append(N)),U=new c.Plus(function(){return B},S.value),O=new a.Applicative(function(){return W},(e=p.singleton(U),function(n){return I(e(n))}));t.Nil=S,t.Cons=C,t.NonEmptyList=I,t.semigroupList=N,t.monoidList=x,t.functorList=F,t.foldableList=T,t.foldableWithIndexList=D,t.unfoldableList=M,t.traversableList=k,t.applicativeList=A,t.bindList=L,t.altList=B,t.plusList=U,t.functorNonEmptyList=E,t.applicativeNonEmptyList=O,t.semigroupNonEmptyList=R}(t),function(n){"use strict";var e=function(n){return function(e){return function(t){return function(r){return function(a){return r<a?n:r===a?e:t}}}}};n.ordIntImpl=e,n.ordNumberImpl=e,n.ordStringImpl=e}(t["Data.Ord"]=t["Data.Ord"]||{}),function(n){"use strict";n["Data.Ordering"]=n["Data.Ordering"]||{};var e=n["Data.Ordering"],t=function(){function n(){}return n.value=new n,n}(),r=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}();e.LT=t,e.GT=r,e.EQ=a}(t),function(n){"use strict";n["Data.Ord"]=n["Data.Ord"]||{};var e=n["Data.Ord"],t=n["Data.Ord"],r=n["Data.Eq"],a=n["Data.Ordering"],i=function(n,e){this.Eq0=n,this.compare=e},o=new i(function(){return r.eqString},t.ordStringImpl(a.LT.value)(a.EQ.value)(a.GT.value)),u=new i(function(){return r.eqNumber},t.ordNumberImpl(a.LT.value)(a.EQ.value)(a.GT.value)),c=new i(function(){return r.eqInt},t.ordIntImpl(a.LT.value)(a.EQ.value)(a.GT.value)),l=function(n){return n.compare};e.compare=l,e.min=function(n){return function(e){return function(t){var r=l(n)(e)(t);if(r instanceof a.LT)return e;if(r instanceof a.EQ)return e;if(r instanceof a.GT)return t;throw new Error("Failed pattern match at Data.Ord (line 167, column 3 - line 170, column 12): "+[r.constructor.name])}}},e.max=function(n){return function(e){return function(t){var r=l(n)(e)(t);if(r instanceof a.LT)return t;if(r instanceof a.EQ)return e;if(r instanceof a.GT)return e;throw new Error("Failed pattern match at Data.Ord (line 176, column 3 - line 179, column 12): "+[r.constructor.name])}}},e.ordInt=c,e.ordNumber=u,e.ordString=o}(t),function(n){"use strict";n["Data.Map.Internal"]=n["Data.Map.Internal"]||{};var e=n["Data.Map.Internal"],t=n["Control.Applicative"],r=n["Control.Apply"],a=n["Control.Category"],i=n["Data.Foldable"],o=n["Data.Functor"],u=n["Data.List.Types"],c=n["Data.Maybe"],l=n["Data.Ord"],s=n["Data.Ordering"],f=n["Data.Semigroup"],d=n["Data.Traversable"],v=n["Data.Tuple"],m=n["Data.Unfoldable"],p=function(){function n(){}return n.value=new n,n}(),w=function(){function n(n,e,t,r){this.value0=n,this.value1=e,this.value2=t,this.value3=r}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n}(),y=function(){function n(n,e,t,r,a,i,o){this.value0=n,this.value1=e,this.value2=t,this.value3=r,this.value4=a,this.value5=i,this.value6=o}return n.create=function(e){return function(t){return function(r){return function(a){return function(i){return function(o){return function(u){return new n(e,t,r,a,i,o,u)}}}}}}},n}(),g=function(){function n(n,e,t){this.value0=n,this.value1=e,this.value2=t}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n}(),b=function(){function n(n,e,t){this.value0=n,this.value1=e,this.value2=t}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n}(),h=function(){function n(n,e,t,r,a,i){this.value0=n,this.value1=e,this.value2=t,this.value3=r,this.value4=a,this.value5=i}return n.create=function(e){return function(t){return function(r){return function(a){return function(i){return function(o){return new n(e,t,r,a,i,o)}}}}}},n}(),S=function(){function n(n,e,t,r,a,i){this.value0=n,this.value1=e,this.value2=t,this.value3=r,this.value4=a,this.value5=i}return n.create=function(e){return function(t){return function(r){return function(a){return function(i){return function(o){return new n(e,t,r,a,i,o)}}}}}},n}(),C=function(){function n(n,e,t,r,a,i){this.value0=n,this.value1=e,this.value2=t,this.value3=r,this.value4=a,this.value5=i}return n.create=function(e){return function(t){return function(r){return function(a){return function(i){return function(o){return new n(e,t,r,a,i,o)}}}}}},n}(),I=function(){function n(n,e,t,r){this.value0=n,this.value1=e,this.value2=t,this.value3=r}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n}(),F=function n(e){if(e instanceof p)return u.Nil.value;if(e instanceof w)return f.append(u.semigroupList)(n(e.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(e.value2))(n(e.value3)));if(e instanceof y)return f.append(u.semigroupList)(n(e.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(e.value2))(f.append(u.semigroupList)(n(e.value3))(f.append(u.semigroupList)(t.pure(u.applicativeList)(e.value5))(n(e.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 626, column 1 - line 626, column 40): "+[e.constructor.name])},E=function(n){return function(e){return new w(p.value,n,e,p.value)}},T=function(n){return function(e){var t=l.compare(n);return function(n){var r,a=!1;function i(r){if(r instanceof p)return a=!0,c.Nothing.value;if(r instanceof w){var i=t(e)(r.value1);return i instanceof s.EQ?(a=!0,new c.Just(r.value2)):i instanceof s.LT?void(n=r.value0):void(n=r.value3)}if(r instanceof y){var o=t(e)(r.value1);if(o instanceof s.EQ)return a=!0,new c.Just(r.value2);var u=t(e)(r.value4);return u instanceof s.EQ?(a=!0,new c.Just(r.value5)):o instanceof s.LT?void(n=r.value0):u instanceof s.GT?void(n=r.value6):void(n=r.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 211, column 5 - line 211, column 22): "+[r.constructor.name])}for(;!a;)r=i(n);return r}}},D=new o.Functor(function(n){return function(e){if(e instanceof p)return p.value;if(e instanceof w)return new w(o.map(D)(n)(e.value0),e.value1,n(e.value2),o.map(D)(n)(e.value3));if(e instanceof y)return new y(o.map(D)(n)(e.value0),e.value1,n(e.value2),o.map(D)(n)(e.value3),e.value4,n(e.value5),o.map(D)(n)(e.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 101, column 1 - line 104, column 110): "+[n.constructor.name,e.constructor.name])}}),N=function(n){return function(e){return function(t){var r,a=n,i=e,o=!1;function c(n,e,r){if(e instanceof u.Nil)return o=!0,r;if(e instanceof u.Cons){if(e.value0 instanceof g)return a=n,i=e.value1,void(t=new w(r,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof b)return a=n,i=e.value1,void(t=new w(e.value0.value0,e.value0.value1,e.value0.value2,r));if(e.value0 instanceof h)return a=n,i=e.value1,void(t=new y(r,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S)return a=n,i=e.value1,void(t=new y(e.value0.value0,e.value0.value1,e.value0.value2,r,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof C)return a=n,i=e.value1,void(t=new y(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5,r));throw new Error("Failed pattern match at Data.Map.Internal (line 432, column 3 - line 437, column 88): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 429, column 1 - line 429, column 80): "+[e.constructor.name,r.constructor.name])}for(;!o;)r=c(a,i,t);return r}}},x=function(n){return function(e){return function(t){var r,a=function(e){return function(t){var r,a=e,i=!1;function o(e,r){if(e instanceof u.Nil)return i=!0,new w(r.value0,r.value1,r.value2,r.value3);if(e instanceof u.Cons){if(e.value0 instanceof g)return i=!0,N(n)(e.value1)(new y(r.value0,r.value1,r.value2,r.value3,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof b)return i=!0,N(n)(e.value1)(new y(e.value0.value0,e.value0.value1,e.value0.value2,r.value0,r.value1,r.value2,r.value3));if(e.value0 instanceof h)return a=e.value1,void(t=new I(new w(r.value0,r.value1,r.value2,r.value3),e.value0.value0,e.value0.value1,new w(e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof S)return a=e.value1,void(t=new I(new w(e.value0.value0,e.value0.value1,e.value0.value2,r.value0),r.value1,r.value2,new w(r.value3,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof C)return a=e.value1,void(t=new I(new w(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3),e.value0.value4,e.value0.value5,new w(r.value0,r.value1,r.value2,r.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 5 - line 473, column 108): "+[e.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 465, column 3 - line 465, column 56): "+[e.constructor.name,r.constructor.name])}for(;!i;)r=o(a,t);return r}},i=l.compare(n);return r=u.Nil.value,function(o){var c,l=r,f=!1;function d(r,c){if(c instanceof p)return f=!0,a(r)(new I(p.value,e,t,p.value));if(c instanceof w){var d=i(e)(c.value1);return d instanceof s.EQ?(f=!0,N(n)(r)(new w(c.value0,e,t,c.value3))):d instanceof s.LT?(l=new u.Cons(new g(c.value1,c.value2,c.value3),r),void(o=c.value0)):(l=new u.Cons(new b(c.value0,c.value1,c.value2),r),void(o=c.value3))}if(c instanceof y){var v=i(e)(c.value1);if(v instanceof s.EQ)return f=!0,N(n)(r)(new y(c.value0,e,t,c.value3,c.value4,c.value5,c.value6));var m=i(e)(c.value4);return m instanceof s.EQ?(f=!0,N(n)(r)(new y(c.value0,c.value1,c.value2,c.value3,e,t,c.value6))):v instanceof s.LT?(l=new u.Cons(new h(c.value1,c.value2,c.value3,c.value4,c.value5,c.value6),r),void(o=c.value0)):v instanceof s.GT&&m instanceof s.LT?(l=new u.Cons(new S(c.value0,c.value1,c.value2,c.value4,c.value5,c.value6),r),void(o=c.value3)):(l=new u.Cons(new C(c.value0,c.value1,c.value2,c.value3,c.value4,c.value5),r),void(o=c.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 448, column 3 - line 448, column 55): "+[r.constructor.name,c.constructor.name])}for(;!f;)c=d(l,o);return c}}}},R=new i.Foldable(function(n){return function(e){return function(t){return i.foldMap(u.foldableList)(n)(e)(F(t))}}},function(n){return function(e){return function(t){return i.foldl(u.foldableList)(n)(e)(F(t))}}},function(n){return function(e){return function(t){return i.foldr(u.foldableList)(n)(e)(F(t))}}}),k=new d.Traversable(function(){return R},function(){return D},function(n){return d.traverse(k)(n)(a.identity(a.categoryFn))},function(n){return function(e){return function(a){if(a instanceof p)return t.pure(n)(p.value);if(a instanceof w)return r.apply(n.Apply0())(r.apply(n.Apply0())(r.apply(n.Apply0())(o.map(n.Apply0().Functor0())(w.create)(d.traverse(k)(n)(e)(a.value0)))(t.pure(n)(a.value1)))(e(a.value2)))(d.traverse(k)(n)(e)(a.value3));if(a instanceof y)return r.apply(n.Apply0())(r.apply(n.Apply0())(r.apply(n.Apply0())(r.apply(n.Apply0())(r.apply(n.Apply0())(r.apply(n.Apply0())(o.map(n.Apply0().Functor0())(y.create)(d.traverse(k)(n)(e)(a.value0)))(t.pure(n)(a.value1)))(e(a.value2)))(d.traverse(k)(n)(e)(a.value3)))(t.pure(n)(a.value4)))(e(a.value5)))(d.traverse(k)(n)(e)(a.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 127, column 1 - line 142, column 31): "+[e.constructor.name,a.constructor.name])}}}),P=p.value,M=function(n){return function(e){return function(t){return c.maybe(t)(v.snd)(function(n){return function(e){var t,r=function(e){return function(t){var r,a=e,i=!1;function o(e,r){if(e instanceof u.Nil)return i=!0,r;if(e instanceof u.Cons){if(e.value0 instanceof g&&e.value0.value2 instanceof p&&r instanceof p)return i=!0,N(n)(e.value1)(new w(p.value,e.value0.value0,e.value0.value1,p.value));if(e.value0 instanceof b&&e.value0.value0 instanceof p&&r instanceof p)return i=!0,N(n)(e.value1)(new w(p.value,e.value0.value1,e.value0.value2,p.value));if(e.value0 instanceof g&&e.value0.value2 instanceof w)return a=e.value1,void(t=new y(r,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3));if(e.value0 instanceof b&&e.value0.value0 instanceof w)return a=e.value1,void(t=new y(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,r));if(e.value0 instanceof g&&e.value0.value2 instanceof y)return i=!0,N(n)(e.value1)(new w(new w(r,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new w(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6)));if(e.value0 instanceof b&&e.value0.value0 instanceof y)return i=!0,N(n)(e.value1)(new w(new w(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new w(e.value0.value0.value6,e.value0.value1,e.value0.value2,r)));if(e.value0 instanceof h&&e.value0.value2 instanceof p&&e.value0.value5 instanceof p&&r instanceof p)return i=!0,N(n)(e.value1)(new y(p.value,e.value0.value0,e.value0.value1,p.value,e.value0.value3,e.value0.value4,p.value));if(e.value0 instanceof S&&e.value0.value0 instanceof p&&e.value0.value5 instanceof p&&r instanceof p)return i=!0,N(n)(e.value1)(new y(p.value,e.value0.value1,e.value0.value2,p.value,e.value0.value3,e.value0.value4,p.value));if(e.value0 instanceof C&&e.value0.value0 instanceof p&&e.value0.value3 instanceof p&&r instanceof p)return i=!0,N(n)(e.value1)(new y(p.value,e.value0.value1,e.value0.value2,p.value,e.value0.value4,e.value0.value5,p.value));if(e.value0 instanceof h&&e.value0.value2 instanceof w)return i=!0,N(n)(e.value1)(new w(new y(r,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S&&e.value0.value0 instanceof w)return i=!0,N(n)(e.value1)(new w(new y(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,r),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S&&e.value0.value5 instanceof w)return i=!0,N(n)(e.value1)(new w(e.value0.value0,e.value0.value1,e.value0.value2,new y(r,e.value0.value3,e.value0.value4,e.value0.value5.value0,e.value0.value5.value1,e.value0.value5.value2,e.value0.value5.value3)));if(e.value0 instanceof C&&e.value0.value3 instanceof w)return i=!0,N(n)(e.value1)(new w(e.value0.value0,e.value0.value1,e.value0.value2,new y(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3,e.value0.value4,e.value0.value5,r)));if(e.value0 instanceof h&&e.value0.value2 instanceof y)return i=!0,N(n)(e.value1)(new y(new w(r,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new w(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S&&e.value0.value0 instanceof y)return i=!0,N(n)(e.value1)(new y(new w(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new w(e.value0.value0.value6,e.value0.value1,e.value0.value2,r),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S&&e.value0.value5 instanceof y)return i=!0,N(n)(e.value1)(new y(e.value0.value0,e.value0.value1,e.value0.value2,new w(r,e.value0.value3,e.value0.value4,e.value0.value5.value0),e.value0.value5.value1,e.value0.value5.value2,new w(e.value0.value5.value3,e.value0.value5.value4,e.value0.value5.value5,e.value0.value5.value6)));if(e.value0 instanceof C&&e.value0.value3 instanceof y)return i=!0,N(n)(e.value1)(new y(e.value0.value0,e.value0.value1,e.value0.value2,new w(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3),e.value0.value3.value4,e.value0.value3.value5,new w(e.value0.value3.value6,e.value0.value4,e.value0.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 9 - line 542, column 136): "+[e.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 522, column 5 - line 542, column 136): "+[e.constructor.name])}for(;!i;)r=o(a,t);return r}},a=function(n){return function(e){var t,a=n,i=!1;function o(n,t){if(t instanceof w&&t.value0 instanceof p&&t.value3 instanceof p)return i=!0,r(n)(p.value);if(t instanceof w)return a=new u.Cons(new b(t.value0,t.value1,t.value2),n),void(e=t.value3);if(t instanceof y&&t.value0 instanceof p&&t.value3 instanceof p&&t.value6 instanceof p)return i=!0,r(new u.Cons(new b(p.value,t.value1,t.value2),n))(p.value);if(t instanceof y)return a=new u.Cons(new C(t.value0,t.value1,t.value2,t.value3,t.value4,t.value5),n),void(e=t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 554, column 5 - line 558, column 107): "+[t.constructor.name])}for(;!i;)t=o(a,e);return t}},i=function(n){var e,t=!1;function r(e){if(e instanceof w&&e.value3 instanceof p)return t=!0,{key:e.value1,value:e.value2};if(e instanceof w)n=e.value3;else{if(e instanceof y&&e.value6 instanceof p)return t=!0,{key:e.value4,value:e.value5};if(!(e instanceof y))throw new Error("Failed pattern match at Data.Map.Internal (line 545, column 33 - line 549, column 45): "+[e.constructor.name]);n=e.value6}}for(;!t;)e=r(n);return e},o=l.compare(n);return t=u.Nil.value,function(l){var f,d=t,m=!1;function I(t,f){if(f instanceof p)return m=!0,c.Nothing.value;if(f instanceof w){var I=o(e)(f.value1);if(f.value3 instanceof p&&I instanceof s.EQ)return m=!0,new c.Just(new v.Tuple(f.value2,r(t)(p.value)));if(I instanceof s.EQ){var F=i(f.value0);return m=!0,new c.Just(new v.Tuple(f.value2,a(new u.Cons(new g(F.key,F.value,f.value3),t))(f.value0)))}return I instanceof s.LT?(d=new u.Cons(new g(f.value1,f.value2,f.value3),t),void(l=f.value0)):(d=new u.Cons(new b(f.value0,f.value1,f.value2),t),void(l=f.value3))}if(f instanceof y){var E=f.value0 instanceof p&&f.value3 instanceof p&&f.value6 instanceof p,T=(I=o(e)(f.value4),o(e)(f.value1));return E&&T instanceof s.EQ?(m=!0,new c.Just(new v.Tuple(f.value2,N(n)(t)(new w(p.value,f.value4,f.value5,p.value))))):E&&I instanceof s.EQ?(m=!0,new c.Just(new v.Tuple(f.value5,N(n)(t)(new w(p.value,f.value1,f.value2,p.value))))):T instanceof s.EQ?(F=i(f.value0),m=!0,new c.Just(new v.Tuple(f.value2,a(new u.Cons(new h(F.key,F.value,f.value3,f.value4,f.value5,f.value6),t))(f.value0)))):I instanceof s.EQ?(F=i(f.value3),m=!0,new c.Just(new v.Tuple(f.value5,a(new u.Cons(new S(f.value0,f.value1,f.value2,F.key,F.value,f.value6),t))(f.value3)))):T instanceof s.LT?(d=new u.Cons(new h(f.value1,f.value2,f.value3,f.value4,f.value5,f.value6),t),void(l=f.value0)):T instanceof s.GT&&I instanceof s.LT?(d=new u.Cons(new S(f.value0,f.value1,f.value2,f.value4,f.value5,f.value6),t),void(l=f.value3)):(d=new u.Cons(new C(f.value0,f.value1,f.value2,f.value3,f.value4,f.value5),t),void(l=f.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 34 - line 518, column 80): "+[f.constructor.name])}for(;!m;)f=I(d,l);return f}}}(n)(e)(t))}}};e.empty=P,e.insert=x,e.lookup=T,e.fromFoldable=function(n){return function(e){return i.foldl(e)(function(e){return function(t){return x(n)(t.value0)(t.value1)(e)}})(P)}},e.toUnfoldableUnordered=function(n){return function(e){return m.unfoldr(n)(function(n){var e,t=!1;function r(e){if(e instanceof u.Nil)return t=!0,c.Nothing.value;if(e instanceof u.Cons){if(e.value0 instanceof p)return void(n=e.value1);if(e.value0 instanceof w)return t=!0,c.Just.create(new v.Tuple(new v.Tuple(e.value0.value1,e.value0.value2),new u.Cons(e.value0.value0,new u.Cons(e.value0.value3,e.value1))));if(e.value0 instanceof y)return t=!0,c.Just.create(new v.Tuple(new v.Tuple(e.value0.value1,e.value0.value2),new u.Cons(E(e.value0.value4)(e.value0.value5),new u.Cons(e.value0.value0,new u.Cons(e.value0.value3,new u.Cons(e.value0.value6,e.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 612, column 18 - line 617, column 77): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 611, column 3 - line 611, column 19): "+[e.constructor.name])}for(;!t;)e=r(n);return e})(new u.Cons(e,u.Nil.value))}},e.delete=M,e.update=function(n){return function(e){return function(t){return function(r){return function(n){return function(e){return function(t){return function(r){var a=e(T(n)(t)(r));if(a instanceof c.Nothing)return M(n)(t)(r);if(a instanceof c.Just)return x(n)(t)(a.value0)(r);throw new Error("Failed pattern match at Data.Map.Internal (line 563, column 15 - line 565, column 25): "+[a.constructor.name])}}}}(n)(c.maybe(c.Nothing.value)(e))(t)(r)}}}},e.values=F,e.size=function n(e){if(e instanceof p)return 0;if(e instanceof w)return(1+n(e.value0)|0)+n(e.value3)|0;if(e instanceof y)return((2+n(e.value0)|0)+n(e.value3)|0)+n(e.value6)|0;throw new Error("Failed pattern match at Data.Map.Internal (line 676, column 1 - line 676, column 35): "+[e.constructor.name])},e.foldableMap=R,e.traversableMap=k}(t),function(n){"use strict";var e=function(){var n={},e="Pure",t="Throw",r="Catch",a="Sync",i="Async",o="Bind",u="Bracket",c="Fork",l="Sequential",s="Map",f="Apply",d="Alt",v="Cons",m="Resume",p="Release",w="Finalizer",y="Finalized",g="Forked";function b(n,e,t,r){this.tag=n,this._1=e,this._2=t,this._3=r}function h(n){var e=function(e,t,r){return new b(n,e,t,r)};return e.tag=n,e}function S(n){return new b(e,void 0)}function C(n){try{n()}catch(e){setTimeout(function(){throw e},0)}}function I(n,e,t){try{return e(t())}catch(r){return n(r)}}function F(n,e,t){try{return e(t)()}catch(r){return t(n(r))(),S}}var E=function(){var n=1024,e=0,t=0,r=new Array(n),a=!1;function i(){var i;for(a=!0;0!==e;)e--,i=r[t],r[t]=void 0,t=(t+1)%n,i();a=!1}return{isDraining:function(){return a},enqueue:function(o){var u;e===n&&(u=a,i(),a=u),r[(t+e)%n]=o,e++,a||i()}}}();var T=0,D=1,N=2,x=3,R=4,k=5,P=6;function M(n,s,f){var d=0,g=T,h=f,S=null,q=null,L=null,A=null,B=null,U=0,O=0,_=null,V=!0;function G(f){for(var O,J,H;;)switch(O=null,J=null,H=null,g){case N:g=D;try{h=L(h),null===A?L=null:(L=A._1,A=A._2)}catch(Q){g=k,S=n.left(Q),h=null}break;case x:n.isLeft(h)?(g=k,S=h,h=null):null===L?g=k:(g=N,h=n.fromRight(h));break;case D:switch(h.tag){case o:L&&(A=new b(v,L,A)),L=h._2,g=D,h=h._1;break;case e:null===L?(g=k,h=n.right(h._1)):(g=N,h=h._1);break;case a:g=x,h=I(n.left,n.right,h._1);break;case i:return g=R,void(h=F(n.left,h._1,function(n){return function(){d===f&&(d++,E.enqueue(function(){d===f+1&&(g=x,h=n,G(d))}))}}));case t:g=k,S=n.left(h._1),h=null;break;case r:B=new b(v,h,null===L?B:new b(v,new b(m,L,A),B,q),q),L=null,A=null,g=D,h=h._1;break;case u:U++,B=new b(v,h,null===L?B:new b(v,new b(m,L,A),B,q),q),L=null,A=null,g=D,h=h._1;break;case c:g=x,O=M(n,s,h._2),s&&s.register(O),h._1&&O.run(),h=n.right(O);break;case l:g=D,h=W(n,s,h._1)}break;case k:if(L=null,A=null,null===B)g=P,h=q||S||h;else switch(O=B._3,H=B._1,B=B._2,H.tag){case r:q&&q!==O&&0===U?g=k:S&&(g=D,h=H._2(n.fromLeft(S)),S=null);break;case m:q&&q!==O&&0===U||S?g=k:(L=H._1,A=H._2,g=N,h=n.fromRight(h));break;case u:U--,null===S&&(J=n.fromRight(h),B=new b(v,new b(p,H._2,J),B,O),(q===O||U>0)&&(g=D,h=H._3(J)));break;case p:B=new b(v,new b(y,h,S),B,q),g=D,h=q&&q!==O&&0===U?H._1.killed(n.fromLeft(q))(H._2):S?H._1.failed(n.fromLeft(S))(H._2):H._1.completed(n.fromRight(h))(H._2),S=null,U++;break;case w:U++,B=new b(v,new b(y,h,S),B,q),g=D,h=H._1;break;case y:U--,g=k,h=H._1,S=H._2}break;case P:for(var j in _)_.hasOwnProperty(j)&&(V=V&&_[j].rethrow,C(_[j].handler(h)));return _=null,void(q&&S?setTimeout(function(){throw n.fromLeft(S)},0):n.isLeft(h)&&V&&setTimeout(function(){if(V)throw n.fromLeft(h)},0));case T:g=D;break;case R:return}}function J(n){return function(){if(g===P)return V=V&&n.rethrow,n.handler(h)(),function(){};var e=O++;return(_=_||{})[e]=n,function(){null!==_&&delete _[e]}}}return{kill:function(e,t){return function(){if(g===P)return t(n.right(void 0))(),function(){};var r=J({rethrow:!1,handler:function(){return t(n.right(void 0))}})();switch(g){case T:q=n.left(e),g=P,h=q,G(d);break;case R:null===q&&(q=n.left(e)),0===U&&(g===R&&(B=new b(v,new b(w,h(e)),B,q)),g=k,h=null,S=null,G(++d));break;default:null===q&&(q=n.left(e)),0===U&&(g=k,h=null,S=null)}return r}},join:function(n){return function(){var e=J({rethrow:!1,handler:n})();return g===T&&G(d),e}},onComplete:J,isSuspended:function(){return g===T},run:function(){g===T&&(E.isDraining()?G(d):E.enqueue(function(){G(d)}))}}}function q(e,t,r,a){var o=0,u={},c=0,l={},m=new Error("[ParAff] Early exit"),p=null,w=n;function y(t,r,a){var i,o,c=r,l=null,m=null,p=0,w={};n:for(;;)switch(i=null,c.tag){case g:if(c._3===n&&(i=u[c._1],w[p++]=i.kill(t,function(n){return function(){0===--p&&a(n)()}})),null===l)break n;c=l._2,null===m?l=null:(l=m._1,m=m._2);break;case s:c=c._2;break;case f:case d:l&&(m=new b(v,l,m)),l=c,c=c._1}if(0===p)a(e.right(void 0))();else for(o=0,i=p;o<i;o++)w[o]=w[o]();return w}function h(t){return function(r){return function(){delete u[t._1],t._3=r,function t(r,i,o){var u,v,w,g,b,h;for(e.isLeft(r)?(u=r,v=null):(v=r,u=null);;){if(w=null,g=null,b=null,h=null,null!==p)return;if(null===i)return void a(u||v)();if(i._3!==n)return;switch(i.tag){case s:null===u?(i._3=e.right(i._1(e.fromRight(v))),v=i._3):i._3=u;break;case f:if(w=i._1._3,g=i._2._3,u){if(i._3=u,b=!0,h=c++,l[h]=y(m,u===w?i._2:i._1,function(){return function(){delete l[h],b?b=!1:null===o?t(u,null,null):t(u,o._1,o._2)}}),b)return void(b=!1)}else{if(w===n||g===n)return;v=e.right(e.fromRight(w)(e.fromRight(g))),i._3=v}break;case d:if(w=i._1._3,g=i._2._3,w===n&&e.isLeft(g)||g===n&&e.isLeft(w))return;if(w!==n&&e.isLeft(w)&&g!==n&&e.isLeft(g))u=v===w?g:w,v=null,i._3=u;else if(i._3=v,b=!0,h=c++,l[h]=y(m,v===w?i._2:i._1,function(){return function(){delete l[h],b?b=!1:null===o?t(v,null,null):t(v,o._1,o._2)}}),b)return void(b=!1)}null===o?i=null:(i=o._1,o=o._2)}}(r,t._2._1,t._2._2)}}}return function(){var a,i,c=D,l=r,m=null,p=null;n:for(;;)switch(a=null,i=null,c){case D:switch(l.tag){case s:m&&(p=new b(v,m,p)),m=new b(s,l._1,n,n),l=l._2;break;case f:m&&(p=new b(v,m,p)),m=new b(f,n,l._2,n),l=l._1;break;case d:m&&(p=new b(v,m,p)),m=new b(d,n,l._2,n),l=l._1;break;default:i=o++,c=k,a=l,l=new b(g,i,new b(v,m,p),n),(a=M(e,t,a)).onComplete({rethrow:!1,handler:h(l)})(),u[i]=a,t&&t.register(a)}break;case k:if(null===m)break n;m._1===n?(m._1=l,c=D,l=m._2,m._2=n):(m._2=l,l=m,null===p?m=null:(m=p._1,p=p._2))}for(w=l,i=0;i<o;i++)u[i].run()}(),function(n){return new b(i,function(t){return function(){return function(n,t){var r;for(var a in p=e.left(n),l)if(l.hasOwnProperty(a))for(a in r=l[a])r.hasOwnProperty(a)&&r[a]();l=null;var o=y(n,w,t);return function(n){return new b(i,function(n){return function(){for(var n in o)o.hasOwnProperty(n)&&o[n]();return S}})}}(n,t)}})}}function W(n,e,t){return new b(i,function(r){return function(){return q(n,e,t,r)}})}return b.EMPTY=n,b.Pure=h(e),b.Throw=h(t),b.Catch=h(r),b.Sync=h(a),b.Async=h(i),b.Bind=h(o),b.Bracket=h(u),b.Fork=h(c),b.Seq=h(l),b.ParMap=h(s),b.ParApply=h(f),b.ParAlt=h(d),b.Fiber=M,b.Supervisor=function(n){var e={},t=0,r=0;return{register:function(n){var a=t++;n.onComplete({rethrow:!0,handler:function(n){return function(){r--,delete e[a]}}})(),e[a]=n,r++},isEmpty:function(){return 0===r},killAll:function(i,o){return function(){if(0===r)return o();var u=0,c={};function l(t){c[t]=e[t].kill(i,function(e){return function(){delete c[t],u--,n.isLeft(e)&&n.fromLeft(e)&&setTimeout(function(){throw n.fromLeft(e)},0),0===u&&o()}})()}for(var s in e)e.hasOwnProperty(s)&&(u++,l(s));return e={},t=0,r=0,function(n){return new b(a,function(){for(var n in c)c.hasOwnProperty(n)&&c[n]()})}}}}},b.Scheduler=E,b.nonCanceler=S,b}();n._pure=e.Pure,n._throwError=e.Throw,n._catchError=function(n){return function(t){return e.Catch(n,t)}},n._map=function(n){return function(t){return t.tag===e.Pure.tag?e.Pure(n(t._1)):e.Bind(t,function(t){return e.Pure(n(t))})}},n._bind=function(n){return function(t){return e.Bind(n,t)}},n._liftEffect=e.Sync,n._parAffMap=function(n){return function(t){return e.ParMap(n,t)}},n._parAffApply=function(n){return function(t){return e.ParApply(n,t)}},n.makeAff=e.Async,n._makeFiber=function(n,t){return function(){return e.Fiber(n,null,t)}},n._sequential=e.Seq}(t["Effect.Aff"]=t["Effect.Aff"]||{}),function(n){"use strict";n["Control.Monad"]=n["Control.Monad"]||{};var e=n["Control.Monad"],t=n["Control.Applicative"],r=n["Control.Bind"];e.Monad=function(n,e){this.Applicative0=n,this.Bind1=e},e.ap=function(n){return function(e){return function(a){return r.bind(n.Bind1())(e)(function(e){return r.bind(n.Bind1())(a)(function(r){return t.pure(n.Applicative0())(e(r))})})}}}}(t),function(n){"use strict";n["Control.Monad.Error.Class"]=n["Control.Monad.Error.Class"]||{};var e=n["Control.Monad.Error.Class"],t=n["Control.Applicative"],r=n["Data.Either"],a=n["Data.Functor"];e.throwError=function(n){return n.throwError},e.MonadThrow=function(n,e){this.Monad0=n,this.throwError=e},e.MonadError=function(n,e){this.MonadThrow0=n,this.catchError=e},e.try=function(n){return function(e){return n.catchError(a.map(n.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(r.Right.create)(e))((i=t.pure(n.MonadThrow0().Monad0().Applicative0()),function(n){return i(r.Left.create(n))}));var i}}}(t),function(n){"use strict";n["Control.Parallel.Class"]=n["Control.Parallel.Class"]||{};var e=n["Control.Parallel.Class"];e.parallel=function(n){return n.parallel},e.sequential=function(n){return n.sequential},e.Parallel=function(n,e,t,r){this.Applicative1=n,this.Monad0=e,this.parallel=t,this.sequential=r}}(t),function(n){"use strict";n["Control.Parallel"]=n["Control.Parallel"]||{};var e=n["Control.Parallel"],t=n["Control.Category"],r=n["Control.Parallel.Class"],a=n["Data.Foldable"];e.parSequence_=function(n){return function(e){return function(n){return function(e){return function(t){var i,o=r.sequential(n),u=a.traverse_(n.Applicative1())(e)((i=r.parallel(n),function(n){return i(t(n))}));return function(n){return o(u(n))}}}}(n)(e)(t.identity(t.categoryFn))}}}(t),function(n){"use strict";n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(e){return function(){return e(n())()}}}}(t.Effect=t.Effect||{}),function(n){"use strict";n.Effect=n.Effect||{};var e=n.Effect,t=n.Effect,r=n["Control.Applicative"],a=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Data.Functor"],c=new o.Monad(function(){return f},function(){return l}),l=new i.Bind(function(){return s},t.bindE),s=new a.Apply(function(){return d},o.ap(c)),f=new r.Applicative(function(){return s},t.pureE),d=new u.Functor(r.liftA1(f));e.functorEffect=d,e.applicativeEffect=f,e.bindEffect=l}(t),function(n){"use strict";n["Effect.Class"]=n["Effect.Class"]||{};var e=n["Effect.Class"];e.liftEffect=function(n){return n.liftEffect},e.MonadEffect=function(n,e){this.Monad0=n,this.liftEffect=e}}(t),function(n){"use strict";(t["Partial.Unsafe"]=t["Partial.Unsafe"]||{})._unsafePartial=function(n){return n()}}(),function(n){"use strict";(t["Partial"]=t["Partial"]||{})._crashWith=function(n){throw new Error(n)}}(),function(n){"use strict";n.Partial=n.Partial||{};var e=n.Partial,t=n.Partial;e.crashWith=function(n){return t._crashWith}}(t),function(n){"use strict";n["Partial.Unsafe"]=n["Partial.Unsafe"]||{};var e=n["Partial.Unsafe"],t=n["Partial.Unsafe"],r=n.Partial,a=t._unsafePartial;e.unsafeCrashWith=function(n){return a(function(e){return r.crashWith()(n)})}}(t),function(n){"use strict";(t["Unsafe.Coerce"]=t["Unsafe.Coerce"]||{}).unsafeCoerce=function(n){return n}}(),function(n){"use strict";n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var e=n["Unsafe.Coerce"],t=n["Unsafe.Coerce"];e.unsafeCoerce=t.unsafeCoerce}(t),function(n){"use strict";n["Effect.Aff"]=n["Effect.Aff"]||{};var e,t,r=n["Effect.Aff"],a=n["Effect.Aff"],i=n["Control.Applicative"],o=n["Control.Apply"],u=n["Control.Bind"],c=n["Control.Monad"],l=n["Control.Monad.Error.Class"],s=n["Control.Parallel"],f=n["Control.Parallel.Class"],d=n["Data.Either"],v=n["Data.Foldable"],m=n["Data.Function"],p=n["Data.Functor"],w=n["Data.Monoid"],y=n["Data.Semigroup"],g=n["Data.Unit"],b=n.Effect,h=n["Effect.Class"],S=n["Partial.Unsafe"],C=n["Unsafe.Coerce"],I=new p.Functor(a._parAffMap),F=new p.Functor(a._map),E={isLeft:function(n){if(n instanceof d.Left)return!0;if(n instanceof d.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 394, column 12 - line 396, column 20): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof d.Left)return n.value0;if(n instanceof d.Right)return S.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 399, column 20 - line 401, column 54): "+[n.constructor.name])},fromRight:function(n){if(n instanceof d.Right)return n.value0;if(n instanceof d.Left)return S.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 404, column 21 - line 406, column 54): "+[n.constructor.name])},left:d.Left.create,right:d.Right.create},T=function(n){return function(){var e=function(n){return a._makeFiber(E,n)}(n)();return e.run(),e}},D=new o.Apply(function(){return I},a._parAffApply),N=new c.Monad(function(){return k},function(){return x}),x=new u.Bind(function(){return R},a._bind),R=new o.Apply(function(){return F},c.ap(N)),k=new i.Applicative(function(){return R},a._pure),P=new h.MonadEffect(function(){return N},a._liftEffect),M=new l.MonadThrow(function(){return N},a._throwError),q=new l.MonadError(function(){return M},a._catchError),W=new f.Parallel(function(){return L},function(){return N},C.unsafeCoerce,a._sequential),L=new i.Applicative(function(){return D},(e=f.parallel(W),t=i.pure(k),function(n){return e(t(n))})),A=new y.Semigroup(function(n){return function(e){return function(t){return s.parSequence_(W)(v.foldableArray)([n(t),e(t)])}}}),B=m.const(i.pure(k)(g.unit)),U=new w.Monoid(function(){return A},B);r.runAff_=function(n){return function(e){return p.void(b.functorEffect)(function(n){return function(e){return T(u.bindFlipped(x)((t=h.liftEffect(P),function(e){return t(n(e))}))(l.try(q)(e)));var t}}(n)(e))}},r.applicativeAff=k,r.bindAff=x,r.monoidCanceler=U,r.makeAff=a.makeAff}(t),function(n){"use strict";n.error=function(n){return new Error(n)},n.message=function(n){return n.message},n.catchException=function(n){return function(e){return function(){try{return e()}catch(t){return t instanceof Error||"[object Error]"===Object.prototype.toString.call(t)?n(t)():n(new Error(t.toString()))()}}}}}(t["Effect.Exception"]=t["Effect.Exception"]||{}),function(n){"use strict";n["Effect.Exception"]=n["Effect.Exception"]||{};var e=n["Effect.Exception"],t=n["Effect.Exception"],r=n["Control.Applicative"],a=n["Data.Either"],i=n["Data.Functor"],o=n.Effect;e.try=function(n){return t.catchException((e=r.pure(o.applicativeEffect),function(n){return e(a.Left.create(n))}))(i.map(o.functorEffect)(a.Right.create)(n));var e},e.error=t.error,e.message=t.message}(t),function(n){"use strict";n.canvasElementToImageSource=function(n){return n},n.tryLoadImageImpl=function(n){return function(e){return function(t){return function(){var r=new Image;r.src=n,r.addEventListener("load",function(){t(r)()},!1),r.addEventListener("error",function(n){e()},!1)}}}},n.getCanvasElementByIdImpl=function(n,e,t){return function(){var r=document.getElementById(n);return r&&r instanceof HTMLCanvasElement?e(r):t}},n.getContext2D=function(n){return function(){return n.getContext("2d")}},n.getCanvasWidth=function(n){return function(){return n.width}},n.getCanvasHeight=function(n){return function(){return n.height}},n.setLineWidth=function(n){return function(e){return function(){n.lineWidth=e}}},n.setFillStyle=function(n){return function(e){return function(){n.fillStyle=e}}},n.beginPath=function(n){return function(){n.beginPath()}},n.stroke=function(n){return function(){n.stroke()}},n.fill=function(n){return function(){n.fill()}},n.lineTo=function(n){return function(e){return function(t){return function(){n.lineTo(e,t)}}}},n.moveTo=function(n){return function(e){return function(t){return function(){n.moveTo(e,t)}}}},n.arc=function(n){return function(e){return function(){n.arc(e.x,e.y,e.radius,e.start,e.end)}}},n.fillRect=function(n){return function(e){return function(){n.fillRect(e.x,e.y,e.width,e.height)}}},n.clearRect=function(n){return function(e){return function(){n.clearRect(e.x,e.y,e.width,e.height)}}},n.scale=function(n){return function(e){return function(){n.scale(e.scaleX,e.scaleY)}}},n.rotate=function(n){return function(e){return function(){n.rotate(e)}}},n.translate=function(n){return function(e){return function(){n.translate(e.translateX,e.translateY)}}},n.save=function(n){return function(){n.save()}},n.restore=function(n){return function(){n.restore()}},n.drawImage=function(n){return function(e){return function(t){return function(r){return function(){n.drawImage(e,t,r)}}}}},n.drawImageScale=function(n){return function(e){return function(t){return function(r){return function(a){return function(i){return function(){n.drawImage(e,t,r,a,i)}}}}}}},n.createRadialGradient=function(n){return function(e){return function(){return n.createRadialGradient(e.x0,e.y0,e.r0,e.x1,e.y1,e.r1)}}},n.addColorStop=function(n){return function(e){return function(t){return function(){n.addColorStop(e,t)}}}}}(t["Graphics.Canvas"]=t["Graphics.Canvas"]||{}),function(n){"use strict";n["Graphics.Canvas"]=n["Graphics.Canvas"]||{};var e=n["Graphics.Canvas"],t=n["Graphics.Canvas"],r=n["Data.Maybe"];e.getCanvasElementById=function(n){return t.getCanvasElementByIdImpl(n,r.Just.create,r.Nothing.value)},e.withContext=function(n){return function(e){return function(){t.save(n)();var r=e();return t.restore(n)(),r}}},e.tryLoadImage=function(n){return function(e){return t.tryLoadImageImpl(n)(e(r.Nothing.value))(function(n){return e(r.Just.create(n))})}},e.getContext2D=t.getContext2D,e.getCanvasWidth=t.getCanvasWidth,e.getCanvasHeight=t.getCanvasHeight,e.setLineWidth=t.setLineWidth,e.setFillStyle=t.setFillStyle,e.beginPath=t.beginPath,e.stroke=t.stroke,e.fill=t.fill,e.lineTo=t.lineTo,e.moveTo=t.moveTo,e.arc=t.arc,e.fillRect=t.fillRect,e.clearRect=t.clearRect,e.scale=t.scale,e.rotate=t.rotate,e.translate=t.translate,e.save=t.save,e.restore=t.restore,e.canvasElementToImageSource=t.canvasElementToImageSource,e.drawImage=t.drawImage,e.drawImageScale=t.drawImageScale,e.createRadialGradient=t.createRadialGradient,e.addColorStop=t.addColorStop}(t),function(n){"use strict";n.Assets=n.Assets||{};var e=n.Assets,t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Data.Either"],i=n["Data.List.Types"],o=n["Data.Map.Internal"],u=n["Data.Maybe"],c=n["Data.Monoid"],l=n["Data.Ord"],s=n["Data.Tuple"],f=n["Effect.Aff"],d=n["Effect.Exception"],v=n["Graphics.Canvas"],m=function(n){return f.makeAff(function(e){return function(){return v.tryLoadImage(n)(function(t){return e(u.maybe(a.Left.create(d.error("Could not load "+n)))(a.Right.create)(t))})(),c.mempty(f.monoidCanceler)}})},p=r.bind(f.bindAff)(m("/art/ship.png"))(function(n){return r.bind(f.bindAff)(m("/art/shield.png"))(function(e){return t.pure(f.applicativeAff)(o.fromFoldable(l.ordString)(i.foldableList)(new i.Cons(new s.Tuple("ship",n),new i.Cons(new s.Tuple("shield",e),i.Nil.value))))})});e.load=p}(t),function(n){"use strict";n["Control.Monad.Except.Trans"]=n["Control.Monad.Except.Trans"]||{};var e=n["Control.Monad.Except.Trans"],t=n["Control.Alt"],r=n["Control.Applicative"],a=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Control.Monad.Error.Class"],c=n["Data.Either"],l=n["Data.Functor"],s=n["Data.Semigroup"],f=function(n){return n},d=function(n){return function(e){return n(e)}},v=function(n){return new l.Functor(function(e){return d(l.map(n)(l.map(c.functorEither)(e)))})},m=function(n){return new o.Monad(function(){return y(n)},function(){return p(n)})},p=function(n){return new i.Bind(function(){return w(n)},function(e){return function(t){return i.bind(n.Bind1())(e)(c.either((a=r.pure(n.Applicative0()),function(n){return a(c.Left.create(n))}))(function(n){return t(n)}));var a}})},w=function(n){return new a.Apply(function(){return v(n.Bind1().Apply0().Functor0())},o.ap(m(n)))},y=function(n){return new r.Applicative(function(){return w(n)},(e=r.pure(n.Applicative0()),function(n){return f(e(c.Right.create(n)))}));var e};e.ExceptT=f,e.runExceptT=function(n){return n},e.withExceptT=function(n){return function(e){return function(t){var r;return f(l.map(n)((r=e,function(n){if(n instanceof c.Right)return new c.Right(n.value0);if(n instanceof c.Left)return new c.Left(r(n.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 43, column 3 - line 43, column 32): "+[r.constructor.name,n.constructor.name])}))(t))}}},e.mapExceptT=d,e.functorExceptT=v,e.applicativeExceptT=y,e.bindExceptT=p,e.altExceptT=function(n){return function(e){return new t.Alt(function(){return v(e.Bind1().Apply0().Functor0())},function(t){return function(a){return i.bind(e.Bind1())(t)(function(t){if(t instanceof c.Right)return r.pure(e.Applicative0())(new c.Right(t.value0));if(t instanceof c.Left)return i.bind(e.Bind1())(a)(function(a){if(a instanceof c.Right)return r.pure(e.Applicative0())(new c.Right(a.value0));if(a instanceof c.Left)return r.pure(e.Applicative0())(new c.Left(s.append(n)(t.value0)(a.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[a.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[t.constructor.name])})}})}},e.monadThrowExceptT=function(n){return new u.MonadThrow(function(){return m(n)},(e=r.pure(n.Applicative0()),function(n){return f(e(c.Left.create(n)))}));var e}}(t),function(n){"use strict";n["Data.Identity"]=n["Data.Identity"]||{};var e=n["Data.Identity"],t=n["Control.Applicative"],r=n["Control.Apply"],a=n["Control.Bind"],i=n["Control.Monad"],o=function(n){return n},u=new n["Data.Functor"].Functor(function(n){return function(e){return n(e)}}),c=new r.Apply(function(){return u},function(n){return function(e){return n(e)}}),l=new a.Bind(function(){return c},function(n){return function(e){return e(n)}}),s=new t.Applicative(function(){return c},o),f=new i.Monad(function(){return s},function(){return l});e.Identity=o,e.functorIdentity=u,e.applicativeIdentity=s,e.monadIdentity=f}(t),function(n){"use strict";n["Safe.Coerce"]=n["Safe.Coerce"]||{};var e=n["Safe.Coerce"],t=n["Unsafe.Coerce"];e.coerce=function(n){return t.unsafeCoerce}}(t),function(n){"use strict";n["Data.Newtype"]=n["Data.Newtype"]||{};var e=n["Data.Newtype"],t=n["Safe.Coerce"];e.wrap=function(n){return t.coerce()},e.unwrap=function(n){return t.coerce()}}(t),function(n){"use strict";n["Control.Monad.Except"]=n["Control.Monad.Except"]||{};var e,t=n["Control.Monad.Except"],r=n["Control.Monad.Except.Trans"],a=n["Data.Identity"],i=n["Data.Newtype"],o=r.withExceptT(a.functorIdentity),u=(e=i.unwrap(),function(n){return e(r.runExceptT(n))});t.runExcept=u,t.withExcept=o}(t),function(n){"use strict";n["Control.Monad.State"]=n["Control.Monad.State"]||{};var e=n["Control.Monad.State"],t=n["Data.Newtype"];e.runState=function(n){var e=t.unwrap();return function(t){return e(n(t))}}}(t),function(n){"use strict";n["Control.Monad.State.Class"]=n["Control.Monad.State.Class"]||{};var e=n["Control.Monad.State.Class"],t=n["Data.Tuple"],r=n["Data.Unit"],a=function(n){return n.state};e.MonadState=function(n,e){this.Monad0=n,this.state=e},e.gets=function(n){return function(e){return a(n)(function(n){return new t.Tuple(e(n),n)})}},e.modify_=function(n){return function(e){return a(n)(function(n){return new t.Tuple(r.unit,e(n))})}}}(t),function(n){"use strict";n["Control.Monad.State.Trans"]=n["Control.Monad.State.Trans"]||{};var e=n["Control.Monad.State.Trans"],t=n["Control.Applicative"],r=n["Control.Apply"],a=n["Control.Bind"],i=n["Control.Monad"],o=n["Control.Monad.State.Class"],u=n["Data.Functor"],c=n["Data.Tuple"],l=function(n){return new i.Monad(function(){return d(n)},function(){return s(n)})},s=function(n){return new a.Bind(function(){return f(n)},function(e){return function(t){return function(r){return a.bind(n.Bind1())(e(r))(function(n){return t(n.value0)(n.value1)})}}})},f=function(n){return new r.Apply(function(){return e=n.Bind1().Apply0().Functor0(),new u.Functor(function(n){return function(t){return function(r){return u.map(e)(function(e){return new c.Tuple(n(e.value0),e.value1)})(t(r))}}});var e},i.ap(l(n)))},d=function(n){return new t.Applicative(function(){return f(n)},function(e){return function(r){return t.pure(n.Applicative0())(new c.Tuple(e,r))}})};e.applicativeStateT=d,e.bindStateT=s,e.monadStateStateT=function(n){return new o.MonadState(function(){return l(n)},function(e){return r=t.pure(n.Applicative0()),function(n){return r(e(n))};var r})}}(t),function(n){"use strict";(t["Data.Array"]=t["Data.Array"]||{}).range=function(n){return function(e){for(var t=n>e?-1:1,r=new Array(t*(e-n)+1),a=n,i=0;a!==e;)r[i++]=a,a+=t;return r[i]=a,r}}}(),function(n){"use strict";n["Data.Array"]=n["Data.Array"]||{};var e=n["Data.Array"],t=n["Data.Array"],r=n["Data.Foldable"],a=r.foldl(r.foldableArray);e.foldl=a,e.range=t.range}(t),function(n){"use strict";n["Data.Bifunctor"]=n["Data.Bifunctor"]||{};var e=n["Data.Bifunctor"],t=n["Control.Category"],r=n["Data.Either"],a=n["Data.Tuple"],i=function(n){this.bimap=n},o=function(n){return n.bimap},u=new i(function(n){return function(e){return function(t){return new a.Tuple(n(t.value0),e(t.value1))}}}),c=new i(function(n){return function(e){return function(t){if(t instanceof r.Left)return new r.Left(n(t.value0));if(t instanceof r.Right)return new r.Right(e(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}});e.lmap=function(n){return function(e){return o(n)(e)(t.identity(t.categoryFn))}},e.rmap=function(n){return o(n)(t.identity(t.categoryFn))},e.bifunctorEither=c,e.bifunctorTuple=u}(t),function(n){"use strict";n["Data.Boolean"]=n["Data.Boolean"]||{};n["Data.Boolean"].otherwise=!0}(t),function(n){"use strict";n.topInt=2147483647,n.bottomInt=-2147483648}(t["Data.Bounded"]=t["Data.Bounded"]||{}),function(n){"use strict";n["Data.Bounded"]=n["Data.Bounded"]||{};var e=n["Data.Bounded"],t=n["Data.Bounded"],r=n["Data.Ord"],a=new function(n,e,t){this.Ord0=n,this.bottom=e,this.top=t}(function(){return r.ordInt},t.bottomInt,t.topInt);e.bottom=function(n){return n.bottom},e.top=function(n){return n.top},e.boundedInt=a}(t),function(n){"use strict";n.intSub=function(n){return function(e){return n-e|0}},n.numSub=function(n){return function(e){return n-e}}}(t["Data.Ring"]=t["Data.Ring"]||{}),function(n){"use strict";n.intAdd=function(n){return function(e){return n+e|0}},n.intMul=function(n){return function(e){return n*e|0}},n.numAdd=function(n){return function(e){return n+e}},n.numMul=function(n){return function(e){return n*e}}}(t["Data.Semiring"]=t["Data.Semiring"]||{}),function(n){"use strict";n["Data.Semiring"]=n["Data.Semiring"]||{};var e=n["Data.Semiring"],t=n["Data.Semiring"],r=n["Data.Symbol"],a=n["Record.Unsafe"],i=n["Type.Proxy"],o=function(n,e,t,r){this.addRecord=n,this.mulRecord=e,this.oneRecord=t,this.zeroRecord=r},u=function(n,e,t,r){this.add=n,this.mul=e,this.one=t,this.zero=r},c=function(n){return n.zeroRecord},l=new o(function(n){return function(n){return function(n){return{}}}},function(n){return function(n){return function(n){return{}}}},function(n){return function(n){return{}}},function(n){return function(n){return{}}}),s=new u(t.numAdd,t.numMul,1,0),f=new u(t.intAdd,t.intMul,1,0),d=function(n){return n.oneRecord},v=function(n){return n.mulRecord},m=function(n){return n.addRecord},p=function(n){return n.add};e.add=p,e.semiringInt=f,e.semiringNumber=s,e.semiringRecord=function(n){return function(n){return new u(m(n)(i.Proxy.value),v(n)(i.Proxy.value),d(n)(i.Proxy.value)(i.Proxy.value),c(n)(i.Proxy.value)(i.Proxy.value))}},e.semiringRecordNil=l,e.semiringRecordCons=function(n){return function(e){return function(e){return function(t){return new o(function(o){return function(o){return function(u){var c=m(e)(i.Proxy.value)(o)(u),l=r.reflectSymbol(n)(i.Proxy.value),s=a.unsafeSet(l),f=a.unsafeGet(l);return s(p(t)(f(o))(f(u)))(c)}}},function(o){return function(o){return function(u){var c=v(e)(i.Proxy.value)(o)(u),l=r.reflectSymbol(n)(i.Proxy.value),s=a.unsafeSet(l),f=a.unsafeGet(l);return s(t.mul(f(o))(f(u)))(c)}}},function(o){return function(o){var u=d(e)(i.Proxy.value)(i.Proxy.value),c=r.reflectSymbol(n)(i.Proxy.value);return a.unsafeSet(c)(t.one)(u)}},function(o){return function(o){var u=c(e)(i.Proxy.value)(i.Proxy.value),l=r.reflectSymbol(n)(i.Proxy.value);return a.unsafeSet(l)(t.zero)(u)}})}}}}}(t),function(n){"use strict";n["Data.Ring"]=n["Data.Ring"]||{};var e=n["Data.Ring"],t=n["Data.Ring"],r=n["Data.Semiring"],a=n["Data.Symbol"],i=n["Record.Unsafe"],o=n["Type.Proxy"],u=function(n,e){this.SemiringRecord0=n,this.subRecord=e},c=function(n,e){this.Semiring0=n,this.sub=e},l=function(n){return n.subRecord},s=function(n){return n.sub},f=new u(function(){return r.semiringRecordNil},function(n){return function(n){return function(n){return{}}}}),d=new c(function(){return r.semiringNumber},t.numSub),v=new c(function(){return r.semiringInt},t.intSub);e.sub=s,e.ringInt=v,e.ringNumber=d,e.ringRecord=function(n){return function(n){return new c(function(){return r.semiringRecord()(n.SemiringRecord0())},l(n)(o.Proxy.value))}},e.ringRecordNil=f,e.ringRecordCons=function(n){return function(e){return function(e){return function(t){return new u(function(){return r.semiringRecordCons(n)()(e.SemiringRecord0())(t.Semiring0())},function(r){return function(r){return function(u){var c=l(e)(o.Proxy.value)(r)(u),f=a.reflectSymbol(n)(o.Proxy.value),d=i.unsafeSet(f),v=i.unsafeGet(f);return d(s(t)(v(r))(v(u)))(c)}}})}}}}}(t),function(n){"use strict";n["Data.CommutativeRing"]=n["Data.CommutativeRing"]||{};var e=n["Data.CommutativeRing"],t=n["Data.Ring"],r=new function(n){this.Ring0=n}(function(){return t.ringInt});e.commutativeRingInt=r}(t),function(n){"use strict";n["Data.List"]=n["Data.List"]||{};var e,t=n["Data.List"],r=n["Control.Bind"],a=n["Control.Category"],i=n["Data.Boolean"],o=n["Data.Foldable"],u=n["Data.List.Types"],c=n["Data.Maybe"],l=(e=u.Nil.value,function(n){var t,r=e,a=!1;function i(e,t){if(t instanceof u.Nil)return a=!0,e;if(t instanceof u.Cons)return r=new u.Cons(t.value0,e),void(n=t.value1);throw new Error("Failed pattern match at Data.List (line 372, column 3 - line 372, column 19): "+[e.constructor.name,t.constructor.name])}for(;!a;)t=i(r,n);return t}),s=function(n){var e;return e=u.Nil.value,function(t){var r,a=e,i=!1;function o(e,r){if(r instanceof u.Nil)return i=!0,l(e);if(r instanceof u.Cons){var o=n(r.value0);if(o instanceof c.Nothing)return a=e,void(t=r.value1);if(o instanceof c.Just)return a=new u.Cons(o.value0,e),void(t=r.value1);throw new Error("Failed pattern match at Data.List (line 423, column 5 - line 425, column 32): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.List (line 421, column 3 - line 421, column 27): "+[e.constructor.name,r.constructor.name])}for(;!i;)r=o(a,t);return r}},f=s(a.identity(a.categoryFn));t.range=function(n){return function(e){if(n===e)return t=n,new u.Cons(t,u.Nil.value);var t,r;if(i.otherwise)return(r=e,function(n){return function(e){return function(t){var a,o=r,c=n,l=e,s=!1;function f(n,e,r,a){if(n===e)return s=!0,new u.Cons(n,a);if(i.otherwise)return o=n+r|0,c=e,l=r,void(t=new u.Cons(n,a));throw new Error("Failed pattern match at Data.List (line 152, column 3 - line 153, column 65): "+[n.constructor.name,e.constructor.name,r.constructor.name,a.constructor.name])}for(;!s;)a=f(o,c,l,t);return a}}})(n)(n>e?1:-1)(u.Nil.value);throw new Error("Failed pattern match at Data.List (line 148, column 1 - line 148, column 32): "+[n.constructor.name,e.constructor.name])}},t.snoc=function(n){return function(e){return o.foldr(u.foldableList)(u.Cons.create)(new u.Cons(e,u.Nil.value))(n)}},t.head=function(n){if(n instanceof u.Nil)return c.Nothing.value;if(n instanceof u.Cons)return new c.Just(n.value0);throw new Error("Failed pattern match at Data.List (line 234, column 1 - line 234, column 22): "+[n.constructor.name])},t.concat=function(n){return r.bind(u.bindList)(n)(a.identity(a.categoryFn))},t.filter=function(n){var e;return e=u.Nil.value,function(t){var r,a=e,o=!1;function c(e,r){if(r instanceof u.Nil)return o=!0,l(e);if(r instanceof u.Cons){if(n(r.value0))return a=new u.Cons(r.value0,e),void(t=r.value1);if(i.otherwise)return a=e,void(t=r.value1)}throw new Error("Failed pattern match at Data.List (line 394, column 3 - line 394, column 27): "+[e.constructor.name,r.constructor.name])}for(;!o;)r=c(a,t);return r}},t.mapMaybe=s,t.catMaybes=f}(t),function(n){"use strict";n["Data.Compactable"]=n["Data.Compactable"]||{};var e=n["Data.Compactable"],t=n["Control.Alt"],r=n["Control.Applicative"],a=n["Control.Plus"],i=n["Data.Either"],o=n["Data.Foldable"],u=n["Data.List"],c=n["Data.List.Types"],l=new function(n,e){this.compact=n,this.separate=e}(u.catMaybes,o.foldl(c.foldableList)(function(n){return function(e){if(e instanceof i.Left)return{left:t.alt(c.altList)(n.left)(r.pure(c.applicativeList)(e.value0)),right:n.right};if(e instanceof i.Right)return{right:t.alt(c.altList)(n.right)(r.pure(c.applicativeList)(e.value0)),left:n.left};throw new Error("Failed pattern match at Data.Compactable (line 131, column 14 - line 133, column 54): "+[e.constructor.name])}})({left:a.empty(c.plusList),right:a.empty(c.plusList)}));e.compactableList=l}(t),function(n){"use strict";n["Data.DateTime.Instant"]=n["Data.DateTime.Instant"]||{};n["Data.DateTime.Instant"].unInstant=function(n){return n}}(t),function(n){"use strict";n.intDegree=function(n){return Math.min(Math.abs(n),2147483647)},n.intDiv=function(n){return function(e){return 0===e?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},n.intMod=function(n){return function(e){if(0===e)return 0;var t=Math.abs(e);return(n%t+t)%t}}}(t["Data.EuclideanRing"]=t["Data.EuclideanRing"]||{}),function(n){"use strict";n["Data.EuclideanRing"]=n["Data.EuclideanRing"]||{};var e=n["Data.EuclideanRing"],t=n["Data.EuclideanRing"],r=n["Data.CommutativeRing"],a=new function(n,e,t,r){this.CommutativeRing0=n,this.degree=e,this.div=t,this.mod=r}(function(){return r.commutativeRingInt},t.intDegree,t.intDiv,t.intMod);e.div=function(n){return n.div},e.euclideanRingInt=a}(t),function(n){"use strict";n["Data.Exists"]=n["Data.Exists"]||{};var e=n["Data.Exists"],t=n["Unsafe.Coerce"],r=t.unsafeCoerce,a=t.unsafeCoerce;e.mkExists=a,e.runExists=r}(t),function(n){"use strict";n["Data.Filterable"]=n["Data.Filterable"]||{};var e=n["Data.Filterable"],t=n["Data.Compactable"],r=n["Data.Either"],a=n["Data.Foldable"],i=n["Data.List"],o=n["Data.List.Types"],u=new function(n,e,t,r,a,i){this.Compactable0=n,this.Functor1=e,this.filter=t,this.filterMap=r,this.partition=a,this.partitionMap=i}(function(){return t.compactableList},function(){return o.functorList},i.filter,function(n){return i.mapMaybe(n)},function(n){return function(e){return a.foldr(o.foldableList)(function(e){return function(t){return n(e)?{no:t.no,yes:new o.Cons(e,t.yes)}:{no:new o.Cons(e,t.no),yes:t.yes}}})({no:o.Nil.value,yes:o.Nil.value})(e)}},function(n){return function(e){return a.foldr(o.foldableList)(function(e){return function(t){var a=n(e);if(a instanceof r.Left)return{left:new o.Cons(a.value0,t.left),right:t.right};if(a instanceof r.Right)return{left:t.left,right:new o.Cons(a.value0,t.right)};throw new Error("Failed pattern match at Data.Filterable (line 190, column 36 - line 192, column 83): "+[a.constructor.name])}})({left:o.Nil.value,right:o.Nil.value})(e)}});e.filterMap=function(n){return n.filterMap},e.filter=function(n){return n.filter},e.filterableList=u}(t),function(n){"use strict";n["Data.Generic.Rep"]=n["Data.Generic.Rep"]||{};var e=n["Data.Generic.Rep"],t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=function(){function n(){}return n.value=new n,n}();e.Generic=function(n,e){this.from=n,this.to=e},e.to=function(n){return n.to},e.from=function(n){return n.from},e.NoArguments=a,e.Inl=t,e.Inr=r,e.Constructor=function(n){return n},e.Argument=function(n){return n}}(t),function(n){"use strict";n.fromNumberImpl=function(n){return function(e){return function(t){return(0|t)===t?n(t):e}}},n.toNumber=function(n){return n}}(t["Data.Int"]=t["Data.Int"]||{}),function(n){"use strict";(t["Data.Number"]=t["Data.Number"]||{}).isFinite=isFinite}(),function(n){"use strict";n["Data.Number"]=n["Data.Number"]||{};var e=n["Data.Number"],t=n["Data.Number"];e.isFinite=t.isFinite}(t),function(n){"use strict";n.abs=Math.abs,n.ceil=Math.ceil,n.cos=Math.cos,n.floor=Math.floor,n.min=function(n){return function(e){return Math.min(n,e)}},n.sin=Math.sin,n.sqrt=Math.sqrt,n.tan=Math.tan,n.pi=Math.PI}(t.Math=t.Math||{}),function(n){"use strict";n.Math=n.Math||{};var e=n.Math,t=n.Math;e.abs=t.abs,e.ceil=t.ceil,e.cos=t.cos,e.floor=t.floor,e.min=t.min,e.sin=t.sin,e.sqrt=t.sqrt,e.tan=t.tan,e.pi=t.pi}(t),function(n){"use strict";n["Data.Int"]=n["Data.Int"]||{};var e=n["Data.Int"],t=n["Data.Int"],r=n["Data.Boolean"],a=n["Data.Bounded"],i=n["Data.Maybe"],o=n["Data.Number"],u=n.Math,c=t.fromNumberImpl(i.Just.create)(i.Nothing.value),l=function(n){if(!o.isFinite(n))return 0;if(n>=t.toNumber(a.top(a.boundedInt)))return a.top(a.boundedInt);if(n<=t.toNumber(a.bottom(a.boundedInt)))return a.bottom(a.boundedInt);if(r.otherwise)return i.fromMaybe(0)(c(n));throw new Error("Failed pattern match at Data.Int (line 66, column 1 - line 66, column 29): "+[n.constructor.name])};e.fromNumber=c,e.ceil=function(n){return l(u.ceil(n))},e.floor=function(n){return l(u.floor(n))},e.toNumber=t.toNumber}(t),function(n){"use strict";n["Data.List.NonEmpty"]=n["Data.List.NonEmpty"]||{};var e,t=n["Data.List.NonEmpty"],r=n["Data.List.Types"],a=n["Data.NonEmpty"],i=(e=a.singleton(r.plusList),function(n){return r.NonEmptyList(e(n))});t.singleton=i}(t),function(n){"use strict";(t["Data.Nullable"]=t["Data.Nullable"]||{}).nullable=function(n,e,t){return null==n?e:t(n)}}(),function(n){"use strict";n["Data.Nullable"]=n["Data.Nullable"]||{};var e=n["Data.Nullable"],t=n["Data.Nullable"],r=n["Data.Maybe"];e.toMaybe=function(n){return t.nullable(n,r.Nothing.value,r.Just.create)}}(t),function(n){"use strict";n.showIntImpl=function(n){return n.toString()},n.showNumberImpl=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"}}(t["Data.Show"]=t["Data.Show"]||{}),function(n){"use strict";n["Data.Show"]=n["Data.Show"]||{};var e=n["Data.Show"],t=n["Data.Show"],r=function(n){this.show=n},a=new r(t.showNumberImpl),i=new r(t.showIntImpl);e.show=function(n){return n.show},e.showInt=i,e.showNumber=a}(t),function(n){"use strict";n["Data.TraversableWithIndex"]=n["Data.TraversableWithIndex"]||{};var e=n["Data.TraversableWithIndex"],t=n["Data.FoldableWithIndex"],r=n["Data.FunctorWithIndex"],a=n["Data.Traversable"],i=new function(n,e,t,r){this.FoldableWithIndex1=n,this.FunctorWithIndex0=e,this.Traversable2=t,this.traverseWithIndex=r}(function(){return t.foldableWithIndexArray},function(){return r.functorWithIndexArray},function(){return a.traversableArray},function(n){return(e=i,function(n){return function(t){var i=a.sequence(e.Traversable2())(n),o=r.mapWithIndex(e.FunctorWithIndex0())(t);return function(n){return i(o(n))}}})(n);var e});e.traverseWithIndex=function(n){return n.traverseWithIndex},e.traversableWithIndexArray=i}(t),function(n){"use strict";n["Data.Variant.Internal"]=n["Data.Variant.Internal"]||{};var e=n["Data.Variant.Internal"],t=n["Data.Boolean"],r=n["Data.List.Types"],a=n["Data.Symbol"],i=n["Partial.Unsafe"],o=n["Type.Proxy"],u=function(n){this.variantTags=n},c=new u(function(n){return r.Nil.value}),l=function(n){return n.variantTags},s=function(n){return i.unsafeCrashWith("Data.Variant: impossible `"+n+"`")};e.variantTags=l,e.lookupEq=function(n){return function(e){return function(a){return function(i){if(a.type===i.type)return(o="eq",function(n){return function(e){return function(a){var i,u=e,c=!1;function l(e,i){if(e instanceof r.Cons&&i instanceof r.Cons){if(e.value0===n)return c=!0,i.value0;if(t.otherwise)return u=e.value1,void(a=i.value1)}return c=!0,s(o)}for(;!c;)i=l(u,a);return i}}})(a.type)(n)(e)(a.value)(i.value);var o;if(t.otherwise)return!1;throw new Error("Failed pattern match at Data.Variant.Internal (line 96, column 1 - line 101, column 12): "+[n.constructor.name,e.constructor.name,a.constructor.name,i.constructor.name])}}}},e.variantTagsNil=c,e.variantTagsCons=function(n){return function(e){return new u(function(t){return new r.Cons(a.reflectSymbol(e)(o.Proxy.value),l(n)(o.Proxy.value))})}}}(t),function(n){"use strict";n["Data.Variant"]=n["Data.Variant"]||{};var e=n["Data.Variant"],t=n["Data.Eq"],r=n["Data.List.Types"],a=n["Data.Symbol"],i=n["Data.Variant.Internal"],o=n["Record.Unsafe"],u=n["Type.Proxy"],c=n["Unsafe.Coerce"],l=function(n){this.variantEqs=n},s=function(n){return n.variantEqs},f=new l(function(n){return r.Nil.value});e.inj=function(n){return function(n){return function(e){return function(t){return{type:a.reflectSymbol(n)(e),value:t}}}}},e.onMatch=function(n){return function(n){return function(n){return function(n){return function(e){return function(t){return o.unsafeHas(t.type)(n)?o.unsafeGet(t.type)(n)(t.value):e(t)}}}}}},e.default=function(n){return function(e){return n}},e.expand=function(n){return c.unsafeCoerce},e.eqVariantNil=f,e.eqVariantCons=function(n){return function(e){return new l(function(a){return new r.Cons(t.eq(e),s(n)(u.Proxy.value))})}},e.eqVariant=function(n){return function(n){return function(e){return new t.Eq(function(t){return function(r){var a=i.variantTags(n)(u.Proxy.value),o=s(e)(u.Proxy.value);return i.lookupEq(a)(o)(t)(r)}})}}}}(t),function(n){"use strict";(t["Effect.Now"]=t["Effect.Now"]||{}).now=function(){return Date.now()}}(),function(n){"use strict";n["Effect.Now"]=n["Effect.Now"]||{};var e=n["Effect.Now"],t=n["Effect.Now"];e.now=t.now}(t),function(n){"use strict";(t["Effect.Uncurried"]=t["Effect.Uncurried"]||{}).runEffectFn1=function(n){return function(e){return function(){return n(e)}}}}(),function(n){"use strict";n["Effect.Uncurried"]=n["Effect.Uncurried"]||{};var e=n["Effect.Uncurried"],t=n["Effect.Uncurried"];e.runEffectFn1=t.runEffectFn1}(t),function(n){"use strict";(t["Effect.Unsafe"]=t["Effect.Unsafe"]||{}).unsafePerformEffect=function(n){return n()}}(),function(n){"use strict";n["Effect.Unsafe"]=n["Effect.Unsafe"]||{};var e=n["Effect.Unsafe"],t=n["Effect.Unsafe"];e.unsafePerformEffect=t.unsafePerformEffect}(t),function(n){"use strict";n.typeOf=function(n){return e(n)},n.tagOf=function(n){return Object.prototype.toString.call(n).slice(8,-1)},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n},n.isArray=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}}(t.Foreign=t.Foreign||{}),function(n){"use strict";n.Foreign=n.Foreign||{};var e=n.Foreign,t=n.Foreign,r=n["Control.Applicative"],a=n["Control.Monad.Error.Class"],i=n["Control.Monad.Except.Trans"],o=n["Data.Boolean"],u=n["Data.Either"],c=n["Data.Function"],l=n["Data.Functor"],s=n["Data.Int"],f=n["Data.List.NonEmpty"],d=n["Data.Maybe"],v=n["Unsafe.Coerce"],m=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),y=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),g=v.unsafeCoerce,b=v.unsafeCoerce,h=function(n){var e=a.throwError(i.monadThrowExceptT(n));return function(n){return e(f.singleton(n))}},S=function(n){return function(e){return function(a){if(t.tagOf(a)===e)return r.pure(i.applicativeExceptT(n))(b(a));if(o.otherwise)return h(n)(new p(e,t.tagOf(a)));throw new Error("Failed pattern match at Foreign (line 110, column 1 - line 110, column 71): "+[e.constructor.name,a.constructor.name])}}},C=function(n){return S(n)("Number")};e.ForeignError=m,e.TypeMismatch=p,e.ErrorAtIndex=w,e.ErrorAtProperty=y,e.unsafeToForeign=g,e.readString=function(n){return S(n)("String")},e.readNumber=C,e.readInt=function(n){return function(e){var a,o=u.Left.create(f.singleton(new p("Int",t.tagOf(e)))),v=(a=d.maybe(o)(r.pure(u.applicativeEither)),function(n){return a(s.fromNumber(n))});return i.mapExceptT(l.map(n.Bind1().Apply0().Functor0())(u.either(c.const(o))(v)))(C(n)(e))}},e.readArray=function(n){return function(e){if(t.isArray(e))return r.pure(i.applicativeExceptT(n))(b(e));if(o.otherwise)return h(n)(new p("array",t.tagOf(e)));throw new Error("Failed pattern match at Foreign (line 151, column 1 - line 151, column 66): "+[e.constructor.name])}},e.fail=h,e.typeOf=t.typeOf,e.isNull=t.isNull,e.isUndefined=t.isUndefined}(t),function(n){"use strict";(t["Foreign.Index"]=t["Foreign.Index"]||{}).unsafeReadPropImpl=function(n,e,t,r){return null==r?n:e(r[t])}}(),function(n){"use strict";n["Foreign.Index"]=n["Foreign.Index"]||{};var e=n["Foreign.Index"],t=n["Foreign.Index"],r=n["Control.Applicative"],a=n["Control.Monad.Except.Trans"],i=n.Foreign;e.readProp=function(n){return function(n){return function(e){return function(o){return t.unsafeReadPropImpl(i.fail(n)(new i.TypeMismatch("object",i.typeOf(o))),r.pure(a.applicativeExceptT(n)),e,o)}}}(n)}}(t),function(n){"use strict";(t["Record.Unsafe.Union"]=t["Record.Unsafe.Union"]||{}).unsafeUnionFn=function(n,e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}}(),function(n){"use strict";n["Record.Unsafe.Union"]=n["Record.Unsafe.Union"]||{};var e=n["Record.Unsafe.Union"],t=n["Record.Unsafe.Union"];e.unsafeUnionFn=t.unsafeUnionFn}(t),function(n){"use strict";n.Record=n.Record||{};var e=n.Record,t=n["Data.Symbol"],r=n["Record.Unsafe"],a=n["Record.Unsafe.Union"];e.get=function(n){return function(e){return function(e){return function(a){return r.unsafeGet(t.reflectSymbol(n)(e))(a)}}}},e.union=function(n){return function(n){return function(e){return a.unsafeUnionFn(n,e)}}}}(t),function(n){n._parseJSON=JSON.parse,n._undefined=void 0,n._unsafeStringify=JSON.stringify}(t["Simple.JSON"]=t["Simple.JSON"]||{}),function(n){"use strict";n.copyRecord=function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},n.unsafeInsert=function(n){return function(e){return function(t){return t[n]=e,t}}}}(t["Record.Builder"]=t["Record.Builder"]||{}),function(n){"use strict";n["Record.Builder"]=n["Record.Builder"]||{};var e=n["Record.Builder"],t=n["Record.Builder"],r=n["Control.Category"],a=n["Control.Semigroupoid"],i=n["Data.Symbol"],o=a.semigroupoidFn,u=r.categoryFn;e.build=function(n){return function(e){return n(t.copyRecord(e))}},e.insert=function(n){return function(n){return function(n){return function(e){return function(r){return function(a){return t.unsafeInsert(i.reflectSymbol(n)(e))(r)(a)}}}}}},e.semigroupoidBuilder=o,e.categoryBuilder=u}(t),function(n){"use strict";n["Simple.JSON"]=n["Simple.JSON"]||{};var e,t,r,a=n["Simple.JSON"],i=n["Simple.JSON"],o=n["Control.Applicative"],u=n["Control.Apply"],c=n["Control.Bind"],l=n["Control.Category"],s=n["Control.Monad.Except"],f=n["Control.Monad.Except.Trans"],d=n["Control.Semigroupoid"],v=n["Data.Bifunctor"],m=n["Data.Either"],p=n["Data.Function"],w=n["Data.Functor"],y=n["Data.Identity"],g=n["Data.List.Types"],b=n["Data.Maybe"],h=n["Data.Semigroup"],S=n["Data.Symbol"],C=n["Data.TraversableWithIndex"],I=n["Effect.Exception"],F=n["Effect.Uncurried"],E=n["Effect.Unsafe"],T=n.Foreign,D=n["Foreign.Index"],N=n.Record,x=n["Record.Builder"],R=n["Type.Proxy"],k=function(n){this.writeImplFields=n},P=function(n){this.writeImpl=n},M=function(n){this.getFields=n},q=function(n){this.readImpl=n},W=function(n){return n.writeImplFields},L=function(n){return n.writeImpl},A=new P(T.unsafeToForeign),B=new P(T.unsafeToForeign),U=new P(T.unsafeToForeign),O=new P(l.identity(l.categoryFn)),_=i._undefined,V=new q(T.readString(y.monadIdentity)),G=new q(T.readNumber(y.monadIdentity)),J=new q(T.readInt(y.monadIdentity)),H=function(n){return n.readImpl},j=new q(o.pure(f.applicativeExceptT(y.monadIdentity))),Q=new M(function(n){return function(n){return o.pure(f.applicativeExceptT(y.monadIdentity))(l.identity(x.categoryBuilder))}}),z=(t=v.lmap(v.bifunctorEither)((e=o.pure(g.applicativeNonEmptyList),function(n){return e(T.ForeignError.create(I.message(n)))})),r=F.runEffectFn1(i._parseJSON),function(n){return f.ExceptT(y.Identity(t(E.unsafePerformEffect(I.try(r(n))))))}),Y=new k(function(n){return function(n){return l.identity(x.categoryBuilder)}}),X=function(n){return n.getFields},K=function(n){return function(e){return function(t){return function(r){return f.ExceptT(u.apply(e.Apply0())(w.map(e.Apply0().Functor0())(function(n){return function(e){return function(t){if(e instanceof m.Left&&t instanceof m.Right)return new m.Left(e.value0);if(e instanceof m.Left&&t instanceof m.Left)return new m.Left(h.append(n)(e.value0)(t.value0));if(e instanceof m.Right&&t instanceof m.Left)return new m.Left(t.value0);if(e instanceof m.Right&&t instanceof m.Right)return new m.Right(e.value0(t.value0));throw new Error("Failed pattern match at Simple.JSON (line 241, column 1 - line 241, column 90): "+[e.constructor.name,t.constructor.name])}}}(n))(f.runExceptT(t)))(f.runExceptT(r)))}}}};a.readJSON=function(n){var e=c.composeKleisliFlipped(f.bindExceptT(y.monadIdentity))(H(n))(z);return function(n){return s.runExcept(e(n))}},a.writeJSON=function(n){var e=L(n);return function(n){return i._unsafeStringify(e(n))}},a.write=function(n){return L(n)},a["read'"]=function(n){return H(n)},a.ReadForeign=q,a.readImpl=H,a.WriteForeign=P,a.writeImpl=L,a.readForeign=j,a.readNumber=G,a.readInt=J,a.readString=V,a.readArray=function(n){return new q(c.composeKleisliFlipped(f.bindExceptT(y.monadIdentity))(C.traverseWithIndex(C.traversableWithIndexArray)(f.applicativeExceptT(y.monadIdentity))(function(e){return function(t){return s.withExcept(w.map(g.functorNonEmptyList)(T.ErrorAtIndex.create(e)))(H(n)(t))}}))(T.readArray(y.monadIdentity)))},a.readMaybe=function(n){return new q((e=H(n),function(n){return T.isNull(n)||T.isUndefined(n)?o.pure(f.applicativeExceptT(y.monadIdentity))(b.Nothing.value):w.map(f.functorExceptT(y.functorIdentity))(b.Just.create)(e(n))}));var e},a.readRecord=function(n){return function(n){return new q(function(e){return w.map(f.functorExceptT(y.functorIdentity))(p.flip(x.build)({}))(X(n)(R.Proxy.value)(e))})}},a.readFieldsCons=function(n){return function(e){return function(t){return function(r){return function(r){return new M(function(r){return function(r){var a=X(t)(R.Proxy.value)(r),i=S.reflectSymbol(n)(S.SProxy.value),u=s.withExcept(w.map(g.functorNonEmptyList)(T.ErrorAtProperty.create(i))),l=c.bind(f.bindExceptT(y.monadIdentity))(u(c.bindFlipped(f.bindExceptT(y.monadIdentity))(H(e))(D.readProp(y.monadIdentity)(i)(r))))(function(e){return o.pure(f.applicativeExceptT(y.monadIdentity))(x.insert()()(n)(S.SProxy.value)(e))});return K(g.semigroupNonEmptyList)(y.applicativeIdentity)(w.map(f.functorExceptT(y.functorIdentity))(d.compose(x.semigroupoidBuilder))(l))(a)}})}}}}},a.readFieldsNil=Q,a.writeForeignForeign=O,a.writeForeignString=A,a.writeForeignInt=U,a.writeForeignNumber=B,a.writeForeignArray=function(n){return new P(function(e){return T.unsafeToForeign(w.map(w.functorArray)(L(n))(e))})},a.writeForeignMaybe=function(n){return new P(b.maybe(_)(L(n)))},a.recordWriteForeign=function(n){return function(n){return new P(function(e){var t=W(n)(R.Proxy.value)(e);return T.unsafeToForeign(x.build(t)({}))})}},a.consWriteForeignFields=function(n){return function(e){return function(t){return function(r){return function(r){return function(r){return new k(function(r){return function(r){var a=W(t)(R.Proxy.value)(r),i=L(e)(N.get(n)()(S.SProxy.value)(r));return d.compose(x.semigroupoidBuilder)(x.insert()()(n)(S.SProxy.value)(i))(a)}})}}}}}},a.nilWriteForeignFields=Y}(t),function(n){"use strict";n.GenericJSON=n.GenericJSON||{};var e=n.GenericJSON,t=n["Control.Alt"],r=n["Control.Applicative"],a=n["Control.Bind"],i=n["Control.Monad.Except"],o=n["Control.Monad.Except.Trans"],u=n["Data.Functor"],c=n["Data.Generic.Rep"],l=n["Data.Identity"],s=n["Data.List.Types"],f=n["Data.Symbol"],d=n.Foreign,v=n.Record,m=n["Simple.JSON"],p=function(n,e){this.genericTaggedSumRep=n,this.writeGenericTaggedSumRep=e},w=function(n){return n.writeGenericTaggedSumRep},y=function(n){return n.genericTaggedSumRep};e.taggedSumRep=function(n){return function(e){return function(t){return u.map(o.functorExceptT(l.functorIdentity))(c.to(n))(y(e)(t))}}},e.writeTaggedSumRep=function(n){return function(e){return function(t){return w(e)(c.from(n)(t))}}},e.taggedSumRepSum=function(n){return function(e){return new p(function(r){return t.alt(o.altExceptT(s.semigroupNonEmptyList)(l.monadIdentity))(u.map(o.functorExceptT(l.functorIdentity))(c.Inl.create)(y(n)(r)))(u.map(o.functorExceptT(l.functorIdentity))(c.Inr.create)(y(e)(r)))},function(t){if(t instanceof c.Inl)return w(n)(t.value0);if(t instanceof c.Inr)return w(e)(t.value0);throw new Error("Failed pattern match at GenericJSON (line 44, column 32 - line 46, column 47): "+[t.constructor.name])})}},e.taggedSumRepConstructorRecord=function(n){return function(e){return function(t){return function(t){return new p(function(t){var r=f.reflectSymbol(e)(f.SProxy.value);return a.bind(o.bindExceptT(l.monadIdentity))(m["read'"](m.readRecord()(m.readFieldsCons(new f.IsSymbol(function(){return"__type"}))(m.readString)(m.readFieldsNil)()()))(t))(function(e){return e.__type===r?i.withExcept(u.map(s.functorNonEmptyList)(d.ErrorAtProperty.create(r)))(u.map(o.functorExceptT(l.functorIdentity))(c.Constructor)(y(n)(t))):d.fail(l.monadIdentity)(d.ForeignError.create("Wrong type tag "+e.__type+" where "+r+" was expected."))})},function(t){var r=f.reflectSymbol(e)(f.SProxy.value),a=m.write(m.writeForeignForeign)(w(n)(t)),i=v.union()({__type:r})(a);return d.unsafeToForeign(i)})}}}},e.taggedSumRepNoArguments=function(n){return new p(function(e){var t=f.reflectSymbol(n)(f.SProxy.value);return a.bind(o.bindExceptT(l.monadIdentity))(m["read'"](m.readString)(e))(function(n){return n===t?r.pure(o.applicativeExceptT(l.monadIdentity))(c.NoArguments.value):d.fail(l.monadIdentity)(d.ForeignError.create("Unknown string tag "+t))})},function(e){var t=f.reflectSymbol(n)(f.SProxy.value);return m.write(m.writeForeignString)(t)})},e.taggedSumRepConstructor=function(n){return function(e){return new p(function(t){var r=f.reflectSymbol(e)(f.SProxy.value);return a.bind(o.bindExceptT(l.monadIdentity))(m["read'"](m.readRecord()(m.readFieldsCons(new f.IsSymbol(function(){return"__type"}))(m.readString)(m.readFieldsCons(new f.IsSymbol(function(){return"value"}))(m.readForeign)(m.readFieldsNil)()())()()))(t))(function(e){return e.__type===r?i.withExcept(u.map(s.functorNonEmptyList)(d.ErrorAtProperty.create(r)))(u.map(o.functorExceptT(l.functorIdentity))(c.Constructor)(y(n)(e.value))):d.fail(l.monadIdentity)(d.ForeignError.create("Wrong type tag "+e.__type+" where "+r+" was expected."))})},function(t){var r=f.reflectSymbol(e)(f.SProxy.value);return d.unsafeToForeign({__type:r,value:m.write(m.writeForeignForeign)(w(n)(t))})})}},e.taggedSumRepArgument=function(n){return function(e){return new p(function(e){return u.map(o.functorExceptT(l.functorIdentity))(c.Argument)(m.readImpl(n)(e))},function(n){return m.writeImpl(e)(n)})}}}(t),(t["Pure.Background"]=t["Pure.Background"]||{}).setGradientStrokeStyle=function(n){return function(e){return function(){n.strokeStyle=e}}},function(n){"use strict";n["Pure.Background"]=n["Pure.Background"]||{};var e=n["Pure.Background"],t=n["Pure.Background"],r=n["Data.Int"],a=n["Data.List"],i=n["Data.List.Types"],o=n["Data.Ord"],u=n["Data.Traversable"],c=n["Data.Unit"],l=n.Effect,s=n["Graphics.Canvas"];e.render=function(n){return function(e){return function(f){var d=o.max(o.ordInt)(0)(r.floor((n.top-e.world.y)/100)),v=function(n){return 100*r.toNumber(n)+e.world.y},m=function(n){return 100*r.toNumber(n)+e.world.x},p=r.ceil((o.min(o.ordNumber)(n.right)(e.world.x+e.world.width)-e.world.x)/100),w=o.max(o.ordInt)(0)(r.floor((n.left-e.world.x)/100)),y=a.range(w)(p),g=r.ceil((o.min(o.ordNumber)(n.bottom)(e.world.y+e.world.height)-e.world.y)/100),b=a.range(d)(g);return function(){var n=s.createRadialGradient(f)({x0:0,y0:0,r0:200,x1:0,y1:0,r1:2e3})();return s.addColorStop(n)(0)("#fff")(),s.addColorStop(n)(.5)("#00f")(),s.addColorStop(n)(1)("#f00")(),t.setGradientStrokeStyle(f)(n)(),s.setLineWidth(f)(2)(),s.beginPath(f)(),u.traverse(i.traversableList)(l.applicativeEffect)(function(n){var e=m(n);return function(){return u.traverse(i.traversableList)(l.applicativeEffect)(function(n){var t=v(n)-10,r=t+20;return function(){return s.moveTo(f)(e)(t)(),s.lineTo(f)(e)(r)(),c.unit}})(b)(),c.unit}})(y)(),u.traverse(i.traversableList)(l.applicativeEffect)(function(n){var e=v(n);return function(){return u.traverse(i.traversableList)(l.applicativeEffect)(function(n){var t=m(n)-10,r=t+20;return function(){return s.moveTo(f)(t)(e)(),s.lineTo(f)(r)(e)(),c.unit}})(y)(),c.unit}})(b)(),s.stroke(f)(),c.unit}}}}}(t),function(n){"use strict";n["Pure.Behaviour"]=n["Pure.Behaviour"]||{};var e=n["Pure.Behaviour"],t=n["Control.Monad.State.Class"],r=n["Control.Monad.State.Trans"],a=n["Data.Identity"],i=n["Data.List.Types"],o=t.gets(r.monadStateStateT(a.monadIdentity))(function(n){return n.entity});e.entity=o,e.updateEntity=function(n){return t.modify_(r.monadStateStateT(a.monadIdentity))(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.entity=n(e.entity),t})},e.raiseEvent=function(n){return t.modify_(r.monadStateStateT(a.monadIdentity))(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.events=new i.Cons(n,e.events),t})},e.rotate=function(n){return t.modify_(r.monadStateStateT(a.monadIdentity))(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.entity=function(){var t={};for(var r in e.entity)({}).hasOwnProperty.call(e.entity,r)&&(t[r]=e.entity[r]);return t.rotation=e.entity.rotation+n,t}(),t})}}(t),function(n){"use strict";n["Pure.Entity"]=n["Pure.Entity"]||{};var e=n["Pure.Entity"],t=n["Control.Monad.State"],r=n["Data.Eq"],a=n["Data.Exists"],i=n["Data.Foldable"],o=n["Data.List"],u=n["Data.List.Types"],c=n["Data.Maybe"],l=n["Data.Ord"],s=n["Data.Tuple"],f=n["Simple.JSON"],d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),v=f.writeForeignString,m={transform:{x:0,y:0,width:0,height:0},color:"#fff",image:c.Nothing.value,rotation:0,visible:!0,id:"anon"},p=f.readString,w=l.ordString,y=r.eqString;e.sprite=m,e.EntityBehaviour=d,e.processCommand=function(n){return function(e){return i.foldr(u.foldableList)(function(n){return function(r){var i=a.runExists(function(n){return function(r){var i=t.runState(r.value0.handleCommand(e)(r.value0.state))({entity:n,events:u.Nil.value});return new s.Tuple(function(){var e={};for(var t in i.value1.entity)({}).hasOwnProperty.call(i.value1.entity,t)&&(e[t]=i.value1.entity[t]);return e.behaviour=new u.Cons(a.mkExists(new d({state:i.value0,handleCommand:r.value0.handleCommand})),n.behaviour),e}(),i.value1.events)}}(r.value0))(n);return new s.Tuple(s.fst(i),o.concat(new u.Cons(s.snd(i),new u.Cons(r.value1,u.Nil.value))))}})(new s.Tuple(function(){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.behaviour=u.Nil.value,e}(),u.Nil.value))(n.behaviour)}},e.eqEntityId=y,e.readEntityId=p,e.writeEntityId=v,e.ordEntityId=w}(t),function(n){"use strict";n["Pure.Math"]=n["Pure.Math"]||{};var e=n["Pure.Math"],t=n.Math;e.point=function(n){return function(e){return{x:n,y:e}}},e.scalePoint=function(n){return function(e){return{x:e.x*n,y:e.y*n}}},e.lerp=function(n){return function(e){return function(t){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}}},e.rotationToVector=function(n){var e=n*t.pi*2;return{x:t.cos(e),y:t.sin(e)}}}(t),function(n){"use strict";n["Pure.Behaviours.BasicBitchPhysics"]=n["Pure.Behaviours.BasicBitchPhysics"]||{};var e=n["Pure.Behaviours.BasicBitchPhysics"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Class"],i=n["Control.Monad.State.Trans"],o=n["Data.Exists"],u=n["Data.Identity"],c=n["Data.Semiring"],l=n["Data.Symbol"],s=n["Data.Unit"],f=n["Data.Variant"],d=n["Pure.Behaviour"],v=n["Pure.Entity"],m=n["Pure.Math"],p=o.mkExists(new v.EntityBehaviour({state:s.unit,handleCommand:function(n){return function(e){return f.onMatch()()()({tick:function(n){return d.updateEntity(function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.location=c.add(c.semiringRecord()(c.semiringRecordCons(new l.IsSymbol(function(){return"x"}))()(c.semiringRecordCons(new l.IsSymbol(function(){return"y"}))()(c.semiringRecordNil)(c.semiringNumber))(c.semiringNumber)))(n.location)(n.velocity),e.velocity=m.scalePoint(n.friction)(n.velocity),e})}})(f.default(t.pure(i.applicativeStateT(u.monadIdentity))(s.unit)))(n)}}})),w=function(n){return function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.velocity=c.add(c.semiringRecord()(c.semiringRecordCons(new l.IsSymbol(function(){return"x"}))()(c.semiringRecordCons(new l.IsSymbol(function(){return"y"}))()(c.semiringRecordNil)(c.semiringNumber))(c.semiringNumber)))(e.velocity)(m.scalePoint(n.force/e.mass)(n.direction)),t}};e.init=p,e.applyForce=w,e.applyThrust=function(n){return function(e){return r.bind(i.bindStateT(u.monadIdentity))(a.gets(i.monadStateStateT(u.monadIdentity))(function(n){return n.entity}))(function(e){var t=w({direction:m.rotationToVector(e.rotation),force:n})(e);return a.modify_(i.monadStateStateT(u.monadIdentity))(function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.entity=t,e})})}}}(t),function(n){"use strict";n["Pure.Types"]=n["Pure.Types"]||{};var e=n["Pure.Types"],t=n["Data.Generic.Rep"],r=n["Data.Symbol"],a=n.GenericJSON,i=n["Pure.Entity"],o=n["Simple.JSON"],u=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),c=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=new t.Generic(function(n){if(n instanceof u)return new t.Inl(n.value0);if(n instanceof c)return new t.Inr(new t.Inl(n.value0));if(n instanceof l)return new t.Inr(new t.Inr(new t.Inl(n.value0)));if(n instanceof s)return new t.Inr(new t.Inr(new t.Inr(new t.Inl(n.value0))));if(n instanceof f)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(n.value0))));throw new Error("Failed pattern match at Pure.Types (line 58, column 1 - line 58, column 56): "+[n.constructor.name])},function(n){if(n instanceof t.Inl)return new u(n.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inl)return new c(n.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inl)return new l(n.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inl)return new s(n.value0.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inr)return new f(n.value0.value0.value0.value0);throw new Error("Failed pattern match at Pure.Types (line 58, column 1 - line 58, column 56): "+[n.constructor.name])}),v=new o.ReadForeign(a.taggedSumRep(d)(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"owner"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"power"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"owner"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"power"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())))(new r.IsSymbol(function(){return"BulletFired"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"force"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"left"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"right"}))(i.readEntityId)(o.readFieldsNil)()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"force"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"left"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"right"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())()()())))(new r.IsSymbol(function(){return"EntityCollided"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"bullet"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"age"}))(o.readInt)(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"owner"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"power"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"entity"}))(i.readEntityId)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"bullet"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"age"}))(o.writeForeignInt)(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"owner"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"power"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"entity"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"BulletHit"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"destroyer"}))(o.readMaybe(i.readEntityId))(o.readFieldsCons(new r.IsSymbol(function(){return"entity"}))(i.readEntityId)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"destroyer"}))(o.writeForeignMaybe(i.writeEntityId))(o.consWriteForeignFields(new r.IsSymbol(function(){return"entity"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"EntityDestroyed"}))()())(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()())()()())))(new r.IsSymbol(function(){return"PlayerSpawn"}))()())))))),m=new o.WriteForeign(a.writeTaggedSumRep(d)(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"owner"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"power"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"owner"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"power"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())))(new r.IsSymbol(function(){return"BulletFired"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"force"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"left"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"right"}))(i.readEntityId)(o.readFieldsNil)()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"force"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"left"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"right"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())()()())))(new r.IsSymbol(function(){return"EntityCollided"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"bullet"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"age"}))(o.readInt)(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"owner"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"power"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"entity"}))(i.readEntityId)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"bullet"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"age"}))(o.writeForeignInt)(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"owner"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"power"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"entity"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"BulletHit"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"destroyer"}))(o.readMaybe(i.readEntityId))(o.readFieldsCons(new r.IsSymbol(function(){return"entity"}))(i.readEntityId)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"destroyer"}))(o.writeForeignMaybe(i.writeEntityId))(o.consWriteForeignFields(new r.IsSymbol(function(){return"entity"}))(i.writeEntityId)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"EntityDestroyed"}))()())(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()())()()())))(new r.IsSymbol(function(){return"PlayerSpawn"}))()()))))));e.BulletFired=u,e.EntityCollided=c,e.BulletHit=l,e.EntityDestroyed=s,e.PlayerSpawn=f,e.writeForeignGameEvent=m,e.readForeignGameEvent=v}(t),function(n){"use strict";n["Pure.Behaviours.Damageable"]=n["Pure.Behaviours.Damageable"]||{};var e=n["Pure.Behaviours.Damageable"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Trans"],i=n["Data.Exists"],o=n["Data.Functor"],u=n["Data.Identity"],c=n["Data.List.Types"],l=n["Data.Variant"],s=n["Pure.Behaviour"],f=n["Pure.Entity"],d=n["Pure.Types"],v=i.mkExists(new f.EntityBehaviour({state:{shieldVisible:!0},handleCommand:function(n){return function(e){return l.onMatch()()()({damage:function(n){return r.bind(a.bindStateT(u.monadIdentity))(s.entity)(function(i){var o=i.shield>0?i.shield-n.amount:0,c=i.shield<=0?i.health-n.amount:i.health;return r.discard(r.discardUnit)(a.bindStateT(u.monadIdentity))(s.updateEntity(function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.health=c,e.shield=o,e}))(function(){return c<=0?r.discard(r.discardUnit)(a.bindStateT(u.monadIdentity))(s.raiseEvent(new d.EntityDestroyed({entity:i.id,destroyer:n.source})))(function(){return t.pure(a.applicativeStateT(u.monadIdentity))(e)}):t.pure(a.applicativeStateT(u.monadIdentity))(e)})})},tick:function(n){return r.bind(a.bindStateT(u.monadIdentity))(s.entity)(function(n){return n.shield<=0&&e.shieldVisible?r.discard(r.discardUnit)(a.bindStateT(u.monadIdentity))(s.updateEntity(function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.renderables=o.map(c.functorList)(function(n){return"shield"===n.id?{visible:!1,id:n.id,color:n.color,image:n.image,rotation:n.rotation,transform:n.transform}:n})(n.renderables),e}))(function(){return t.pure(a.applicativeStateT(u.monadIdentity))({shieldVisible:!1})}):n.shield>0&&!e.shieldVisible?r.discard(r.discardUnit)(a.bindStateT(u.monadIdentity))(s.updateEntity(function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.renderables=o.map(c.functorList)(function(n){return"shield"===n.id?{visible:!0,id:n.id,color:n.color,image:n.image,rotation:n.rotation,transform:n.transform}:n})(n.renderables),e}))(function(){return t.pure(a.applicativeStateT(u.monadIdentity))({shieldVisible:!0})}):t.pure(a.applicativeStateT(u.monadIdentity))(e)})}})(l.default(t.pure(a.applicativeStateT(u.monadIdentity))(e)))(n)}}}));e.init=v}(t),function(n){"use strict";n["Pure.Behaviours.Driven"]=n["Pure.Behaviours.Driven"]||{};var e=n["Pure.Behaviours.Driven"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Trans"],i=n["Data.Exists"],o=n["Data.Identity"],u=n["Data.Unit"],c=n["Data.Variant"],l=n["Pure.Behaviour"],s=n["Pure.Behaviours.BasicBitchPhysics"],f=n["Pure.Entity"];e.init=function(n){return i.mkExists(new f.EntityBehaviour({state:{forward:!1,backward:!1,left:!1,right:!1},handleCommand:function(e){return function(i){return c.onMatch()()()({tick:function(e){return r.discard(r.discardUnit)(a.bindStateT(o.monadIdentity))(i.forward?s.applyThrust(n.acceleration)(n.maxSpeed):i.backward?s.applyThrust(-n.acceleration)(n.maxSpeed):t.pure(a.applicativeStateT(o.monadIdentity))(u.unit))(function(){return r.discard(r.discardUnit)(a.bindStateT(o.monadIdentity))(i.left?l.rotate(-n.turningSpeed):i.right?l.rotate(n.turningSpeed):t.pure(a.applicativeStateT(o.monadIdentity))(u.unit))(function(){return t.pure(a.applicativeStateT(o.monadIdentity))(i)})})},pushForward:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({forward:!0,backward:i.backward,left:i.left,right:i.right})},pushBackward:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({backward:!0,forward:i.forward,left:i.left,right:i.right})},turnLeft:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({left:!0,backward:i.backward,forward:i.forward,right:i.right})},turnRight:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({right:!0,backward:i.backward,forward:i.forward,left:i.left})},stopPushForward:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({forward:!1,backward:i.backward,left:i.left,right:i.right})},stopPushBackward:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({backward:!1,forward:i.forward,left:i.left,right:i.right})},stopTurnLeft:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({left:!1,backward:i.backward,forward:i.forward,right:i.right})},stopTurnRight:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({right:!1,backward:i.backward,forward:i.forward,left:i.left})}})(c.default(t.pure(a.applicativeStateT(o.monadIdentity))(i)))(e)}}}))}}(t),function(n){"use strict";n["Pure.Behaviours.FiresBullets"]=n["Pure.Behaviours.FiresBullets"]||{};var e=n["Pure.Behaviours.FiresBullets"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Trans"],i=n["Data.Exists"],o=n["Data.Identity"],u=n["Data.Semiring"],c=n["Data.Symbol"],l=n["Data.Variant"],s=n["Pure.Behaviour"],f=n["Pure.Entity"],d=n["Pure.Math"],v=n["Pure.Types"];e.init=function(n){return i.mkExists(new f.EntityBehaviour({state:{firingTimer:0,coolOffTimer:0,bulletsFired:0,power:n.power,firing:!1},handleCommand:function(e){return function(i){var f=function(n){return d.rotationToVector(n.rotation)},m=function(n){return u.add(u.semiringRecord()(u.semiringRecordCons(new c.IsSymbol(function(){return"x"}))()(u.semiringRecordCons(new c.IsSymbol(function(){return"y"}))()(u.semiringRecordNil)(u.semiringNumber))(u.semiringNumber)))(n.location)(d.scalePoint(n.width)(f(n)))},p=function(e){return d.scalePoint(n.speed)(f(e))};return r.bind(a.bindStateT(o.monadIdentity))(s.entity)(function(u){return l.onMatch()()()({startFireBullet:function(n){return i.coolOffTimer<=0?t.pure(a.applicativeStateT(o.monadIdentity))({firing:!0,coolOffTimer:i.coolOffTimer,firingTimer:i.firingTimer,bulletsFired:i.bulletsFired,power:i.power}):t.pure(a.applicativeStateT(o.monadIdentity))(i)},stopFireBullet:function(e){return i.firing?t.pure(a.applicativeStateT(o.monadIdentity))({firing:!1,coolOffTimer:n.coolOffPeriod,firingTimer:0,bulletsFired:0,power:i.power}):t.pure(a.applicativeStateT(o.monadIdentity))(i)},tick:function(e){return i.firingTimer<=0&&i.firing&&i.bulletsFired<n.max?r.discard(r.discardUnit)(a.bindStateT(o.monadIdentity))(s.raiseEvent(new v.BulletFired({owner:u.id,location:m(u),velocity:p(u),power:n.power})))(function(){return t.pure(a.applicativeStateT(o.monadIdentity))({firingTimer:n.rate,bulletsFired:i.bulletsFired+1|0,coolOffTimer:i.coolOffTimer,firing:i.firing,power:i.power})}):i.firing?t.pure(a.applicativeStateT(o.monadIdentity))({firingTimer:i.firingTimer-1|0,bulletsFired:i.bulletsFired,coolOffTimer:i.coolOffTimer,firing:i.firing,power:i.power}):!i.firing&&i.coolOffTimer>0?t.pure(a.applicativeStateT(o.monadIdentity))({coolOffTimer:i.coolOffTimer-1|0,bulletsFired:i.bulletsFired,firing:i.firing,firingTimer:i.firingTimer,power:i.power}):t.pure(a.applicativeStateT(o.monadIdentity))(i)}})(l.default(t.pure(a.applicativeStateT(o.monadIdentity))(i)))(e)})}}}))}}(t),function(n){"use strict";n["Pure.Behaviours.NetworkSync"]=n["Pure.Behaviours.NetworkSync"]||{};var e=n["Pure.Behaviours.NetworkSync"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Trans"],i=n["Data.Exists"],o=n["Data.Identity"],u=n["Data.Ring"],c=n["Data.Semiring"],l=n["Data.Symbol"],s=n["Data.Variant"],f=n["Pure.Behaviour"],d=n["Pure.Entity"],v=n["Pure.Math"];e.init=function(n){return i.mkExists(new d.EntityBehaviour({state:{force:n.force,location:{x:0,y:0},rotation:0,velocity:{x:0,y:0},oldLocation:{x:0,y:0},oldRotation:0,active:!1},handleCommand:function(n){return function(e){return r.bind(a.bindStateT(o.monadIdentity))(f.entity)(function(i){return s.onMatch()()()({updateServerState:function(n){return t.pure(a.applicativeStateT(o.monadIdentity))({oldLocation:i.location,oldRotation:i.rotation,location:n.location,rotation:n.rotation,active:!0,force:e.force,velocity:e.velocity})},tick:function(n){if(!e.active)return t.pure(a.applicativeStateT(o.monadIdentity))(e);var s=e.rotation+(i.rotation-e.oldRotation),d=c.add(c.semiringRecord()(c.semiringRecordCons(new l.IsSymbol(function(){return"x"}))()(c.semiringRecordCons(new l.IsSymbol(function(){return"y"}))()(c.semiringRecordNil)(c.semiringNumber))(c.semiringNumber)))(e.location)(u.sub(u.ringRecord()(u.ringRecordCons(new l.IsSymbol(function(){return"x"}))()(u.ringRecordCons(new l.IsSymbol(function(){return"y"}))()(u.ringRecordNil)(u.ringNumber))(u.ringNumber)))(i.location)(e.oldLocation)),m=i.rotation+e.force*(s-i.rotation),p=v.lerp(i.location)(d)(e.force);return r.bind(a.bindStateT(o.monadIdentity))(f.updateEntity(function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.location=p,e.rotation=m,e}))(function(){return t.pure(a.applicativeStateT(o.monadIdentity))({rotation:s,location:d,oldRotation:m,oldLocation:p,active:e.active,force:e.force,velocity:e.velocity})})}})(s.default(t.pure(a.applicativeStateT(o.monadIdentity))(e)))(n)})}}}))}}(t),function(n){"use strict";n["Pure.Behaviours.Regenerates"]=n["Pure.Behaviours.Regenerates"]||{};var e=n["Pure.Behaviours.Regenerates"],t=n["Control.Applicative"],r=n["Control.Bind"],a=n["Control.Monad.State.Trans"],i=n["Data.Exists"],o=n["Data.Identity"],u=n["Data.Unit"],c=n["Data.Variant"],l=n.Math,s=n["Pure.Behaviour"],f=n["Pure.Entity"];e.init=function(n){return i.mkExists(new f.EntityBehaviour({state:{shieldRegenCountdown:0,healthRegenCountdown:0},handleCommand:function(e){return function(i){return c.onMatch()()()({damage:function(e){return t.pure(a.applicativeStateT(o.monadIdentity))({shieldRegenCountdown:n.shieldDelay,healthRegenCountdown:n.healthDelay})},tick:function(e){return r.bind(a.bindStateT(o.monadIdentity))(s.entity)(function(e){return r.bind(a.bindStateT(o.monadIdentity))(i.shieldRegenCountdown<=0&&e.shield<n.maxShield?s.updateEntity(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.shield=l.min(e.shield+n.shieldRegen)(n.maxShield),t}):t.pure(a.applicativeStateT(o.monadIdentity))(u.unit))(function(){return r.bind(a.bindStateT(o.monadIdentity))(i.healthRegenCountdown<=0&&e.health<n.maxHealth?s.updateEntity(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.health=l.min(e.health+n.healthRegen)(n.maxHealth),t}):t.pure(a.applicativeStateT(o.monadIdentity))(u.unit))(function(){return t.pure(a.applicativeStateT(o.monadIdentity))({shieldRegenCountdown:i.shieldRegenCountdown-1|0,healthRegenCountdown:i.healthRegenCountdown-1|0})})})})}})(c.default(t.pure(a.applicativeStateT(o.monadIdentity))(i)))(e)}}}))}}(t),function(n){"use strict";n["Pure.BuiltIn.Bullets"]=n["Pure.BuiltIn.Bullets"]||{};var e=n["Pure.BuiltIn.Bullets"],t=n["Data.Bifunctor"],r=n["Data.Boolean"],a=n["Data.Eq"],i=n["Data.Foldable"],o=n["Data.List"],u=n["Data.List.Types"],c=n["Data.Map.Internal"],l=n["Data.Maybe"],s=n["Data.Ord"],f=n["Data.Semiring"],d=n["Data.Symbol"],v=n["Data.Tuple"],m=n["Pure.Entity"],p=function(n){return function(e){return function(t){if(e.age>150)return new v.Tuple(l.Nothing.value,l.Nothing.value);var o,u=i.find(c.foldableMap)((o=e,function(n){if(a.eq(m.eqEntityId)(o.owner)(n.id))return!1;if(r.otherwise){var e=.5*s.max(s.ordNumber)(n.width)(n.height);return(o.location.x-n.location.x)*(o.location.x-n.location.x)+(o.location.y-n.location.y)*(o.location.y-n.location.y)<e*e}throw new Error("Failed pattern match at Pure.BuiltIn.Bullets (line 78, column 1 - line 78, column 94): "+[o.constructor.name,n.constructor.name])}))(t.entities);if(u instanceof l.Nothing)return new v.Tuple(l.Just.create({age:e.age+1|0,location:f.add(f.semiringRecord()(f.semiringRecordCons(new d.IsSymbol(function(){return"x"}))()(f.semiringRecordCons(new d.IsSymbol(function(){return"y"}))()(f.semiringRecordNil)(f.semiringNumber))(f.semiringNumber)))(e.location)(e.velocity),owner:e.owner,power:e.power,velocity:e.velocity}),l.Nothing.value);if(u instanceof l.Just)return v.Tuple.create(l.Nothing.value)(l.Just.create(n.liftEvent({entity:u.value0.id,bullet:e})));throw new Error("Failed pattern match at Pure.BuiltIn.Bullets (line 64, column 8 - line 74, column 91): "+[u.constructor.name])}}};e.init=function(n){return{bullets:u.Nil.value,liftEvent:n}},e.fireBullet=function(n){return function(e){return function(t){return function(r){return function(a){return{bullets:new u.Cons({location:e,velocity:t,age:0,owner:n,power:r},a.bullets),liftEvent:a.liftEvent}}}}}},e.tick=function(n){return function(e){return t.lmap(t.bifunctorTuple)(function(e){return{bullets:e,liftEvent:n.liftEvent}})(i.foldl(u.foldableList)(function(r){return function(a){var i=p(n)(a)(e);return t.lmap(t.bifunctorTuple)(l.maybe(r.value0)(o.snoc(r.value0)))(t.rmap(t.bifunctorTuple)(l.maybe(r.value1)(o.snoc(r.value1)))(i))}})(new v.Tuple(u.Nil.value,u.Nil.value))(n.bullets))}}}(t),function(n){"use strict";n["Pure.BuiltIn.Collider"]=n["Pure.BuiltIn.Collider"]||{};var e=n["Pure.BuiltIn.Collider"],t=n["Control.Apply"],r=n["Data.Array"],a=n["Data.Boolean"],i=n["Data.List.Types"],o=n["Data.Map.Internal"],u=n["Data.Maybe"],c=n["Data.Ord"],l=n["Data.Ring"],s=n["Data.Symbol"],f=n.Math,d=n["Pure.Behaviours.BasicBitchPhysics"],v=function(n){return f.sqrt(n.x*n.x+n.y*n.y)},m=function(n){return function(e){return t=l.sub(l.ringRecord()(l.ringRecordCons(new s.IsSymbol(function(){return"x"}))()(l.ringRecordCons(new s.IsSymbol(function(){return"y"}))()(l.ringRecordNil)(l.ringNumber))(l.ringNumber)))(e)(n),r=v(t),{x:t.x/r,y:t.y/r};var t,r}},p=function(n){return function(e){return function(r){return function(l){return u.fromMaybe(r)(t.lift2(u.applyMaybe)(function(t){return function(u){var s;if((s=t,function(n){if(s.location.x>n.location.x+n.width)return!1;if(s.location.y>n.location.y+n.height)return!1;if(n.location.x>s.location.x+s.width)return!1;if(n.location.y>s.location.y+s.height)return!1;if(a.otherwise)return!0;throw new Error("Failed pattern match at Pure.BuiltIn.Collider (line 78, column 1 - line 78, column 93): "+[s.constructor.name,n.constructor.name])})(u)){var f=v(u.velocity)*u.mass,p=d.applyForce({direction:m(u.location)(t.location),force:f})(t),w=v(t.velocity)*t.mass,y=d.applyForce({direction:m(t.location)(u.location),force:w})(u);return{entities:o.insert(c.ordInt)(l)(y)(o.insert(c.ordInt)(e)(p)(r.entities)),events:new i.Cons(new i.Cons(n({left:t.id,right:u.id,force:w}),new i.Cons(n({left:u.id,right:t.id,force:f}),i.Nil.value)),r.events),entityCount:r.entityCount,entityRange:r.entityRange}}return r}})(o.lookup(c.ordInt)(e)(r.entities))(o.lookup(c.ordInt)(l)(r.entities)))}}}};e.onTick=function(n){return function(e){return r.foldl(function(n){return function(e){return function(t){return function(i){if(i===e)return t;if(a.otherwise)return r.foldl(p(n)(i))(t)(r.range(i+1|0)(e));throw new Error("Failed pattern match at Pure.BuiltIn.Collider (line 28, column 1 - line 30, column 150): "+[n.constructor.name,e.constructor.name,t.constructor.name,i.constructor.name])}}}}(n)(e.entityCount))(e)(e.entityRange)}}}(t),function(n){"use strict";n["Pure.BuiltIn.Explosions"]=n["Pure.BuiltIn.Explosions"]||{};var e=n["Pure.BuiltIn.Explosions"],t=n["Data.Boolean"],r=n["Data.Filterable"],a=n["Data.List.Types"],i=n["Data.Maybe"],o=function(n){if(n.age>90)return i.Nothing.value;if(t.otherwise)return i.Just.create({age:n.age+1|0,location:n.location,owner:n.owner,velocity:n.velocity});throw new Error("Failed pattern match at Pure.BuiltIn.Explosions (line 44, column 1 - line 44, column 60): "+[n.constructor.name])},u={explosions:a.Nil.value};e.init=u,e.createExplosion=function(n){return function(e){return function(t){return function(r){return{explosions:new a.Cons({location:e,velocity:t,age:0,owner:n},r.explosions)}}}}},e.tick=function(n){return{explosions:r.filterMap(r.filterableList)(o)(n.explosions)}}}(t),function(n){"use strict";n["Pure.Camera"]=n["Pure.Camera"]||{};var e=n["Pure.Camera"],t=n["Data.Unit"],r=n["Graphics.Canvas"],a=n.Math,i=n["Pure.Math"],o=function(n){var e=n.distance*a.tan(n.fieldOfView),t=n.lookAt.x-e/2,r=t+e,o=n.target.width/n.target.height,u=e/o,c=n.lookAt.y-u/2;return{aspectRatio:o,width:e,height:u,left:t,top:c,right:r,bottom:c+u,scale:i.point(n.target.width/e)(n.target.height/u)}};e.setupCamera=function(n){var e={lookAt:i.point(0)(0),distance:1e3,fieldOfView:.78525,target:n};return{config:e,viewport:o(e)}},e.applyViewport=function(n){return function(e){return function(){return r.scale(e)({scaleX:n.scale.x,scaleY:n.scale.y})(),r.translate(e)({translateX:-n.left,translateY:-n.top})(),t.unit}}},e.viewportFromConfig=o}(t),function(n){"use strict";n["Pure.Game.Entities.Classes"]=n["Pure.Game.Entities.Classes"]||{};var e=n["Pure.Game.Entities.Classes"],t=n["Data.Generic.Rep"],r=n["Data.Symbol"],a=n.GenericJSON,i=n["Simple.JSON"],o=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),c=new t.Generic(function(n){if(n instanceof o)return new t.Inl(t.NoArguments.value);if(n instanceof u)return new t.Inr(t.NoArguments.value);throw new Error("Failed pattern match at Pure.Game.Entities.Classes (line 28, column 1 - line 28, column 60): "+[n.constructor.name])},function(n){if(n instanceof t.Inl)return o.value;if(n instanceof t.Inr)return u.value;throw new Error("Failed pattern match at Pure.Game.Entities.Classes (line 28, column 1 - line 28, column 60): "+[n.constructor.name])}),l=new i.ReadForeign(a.taggedSumRep(c)(a.taggedSumRepSum(a.taggedSumRepNoArguments(new r.IsSymbol(function(){return"Tank"})))(a.taggedSumRepNoArguments(new r.IsSymbol(function(){return"Bullet"}))))),s=new i.WriteForeign(a.writeTaggedSumRep(c)(a.taggedSumRepSum(a.taggedSumRepNoArguments(new r.IsSymbol(function(){return"Tank"})))(a.taggedSumRepNoArguments(new r.IsSymbol(function(){return"Bullet"})))));e.Tank=o,e.Bullet=u,e.writeForeignEntityClass=s,e.readForeignEntityClass=l}(t),function(n){"use strict";n["Pure.Comms"]=n["Pure.Comms"]||{};var e=n["Pure.Comms"],t=n["Data.Generic.Rep"],r=n["Data.Symbol"],a=n.GenericJSON,i=n["Pure.Entity"],o=n["Pure.Game.Entities.Classes"],u=n["Pure.Types"],c=n["Simple.JSON"],l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),v=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),m=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),p=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),y=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),g=function(){function n(){}return n.value=new n,n}(),b=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=new c.WriteForeign(1),S=new c.ReadForeign(1),C=new t.Generic(function(n){if(n instanceof l)return new t.Inl(n.value0);if(n instanceof s)return new t.Inr(new t.Inl(n.value0));if(n instanceof f)return new t.Inr(new t.Inr(new t.Inl(n.value0)));if(n instanceof d)return new t.Inr(new t.Inr(new t.Inr(new t.Inl(n.value0))));if(n instanceof v)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(n.value0)))));if(n instanceof m)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(n.value0))))));if(n instanceof p)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(n.value0)))))));if(n instanceof w)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(n.value0)))))));throw new Error("Failed pattern match at Pure.Comms (line 69, column 1 - line 69, column 56): "+[n.constructor.name])},function(n){if(n instanceof t.Inl)return new l(n.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inl)return new s(n.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inl)return new f(n.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inl)return new d(n.value0.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0 instanceof t.Inl)return new v(n.value0.value0.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0.value0 instanceof t.Inl)return new m(n.value0.value0.value0.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0.value0.value0 instanceof t.Inl)return new p(n.value0.value0.value0.value0.value0.value0.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr&&n.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0.value0 instanceof t.Inr&&n.value0.value0.value0.value0.value0.value0 instanceof t.Inr)return new w(n.value0.value0.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at Pure.Comms (line 69, column 1 - line 69, column 56): "+[n.constructor.name])}),I=new c.ReadForeign(a.taggedSumRep(C)(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"entities"}))(c.readArray(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"class"}))(o.readForeignEntityClass)(c.readFieldsCons(new r.IsSymbol(function(){return"health"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(c.readFieldsCons(new r.IsSymbol(function(){return"location"}))(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"x"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"y"}))(c.readNumber)(c.readFieldsNil)()())()()))(c.readFieldsCons(new r.IsSymbol(function(){return"rotation"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"shield"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"x"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"y"}))(c.readNumber)(c.readFieldsNil)()())()()))(c.readFieldsNil)()())()())()())()())()())()())()())))(c.readFieldsCons(new r.IsSymbol(function(){return"players"}))(c.readArray(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(c.readFieldsCons(new r.IsSymbol(function(){return"lastTick"}))(c.readInt)(c.readFieldsCons(new r.IsSymbol(function(){return"score"}))(c.readInt)(c.readFieldsNil)()())()())()())))(c.readFieldsCons(new r.IsSymbol(function(){return"tick"}))(c.readInt)(c.readFieldsCons(new r.IsSymbol(function(){return"world"}))(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"height"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"width"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"x"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"y"}))(c.readNumber)(c.readFieldsNil)()())()())()())()()))(c.readFieldsNil)()())()())()())()()))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"entities"}))(c.writeForeignArray(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"class"}))(o.writeForeignEntityClass)(c.consWriteForeignFields(new r.IsSymbol(function(){return"health"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(c.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(c.writeForeignNumber)(c.nilWriteForeignFields)()()())()()()))(c.consWriteForeignFields(new r.IsSymbol(function(){return"rotation"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"shield"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(c.writeForeignNumber)(c.nilWriteForeignFields)()()())()()()))(c.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())))(c.consWriteForeignFields(new r.IsSymbol(function(){return"players"}))(c.writeForeignArray(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(c.consWriteForeignFields(new r.IsSymbol(function(){return"lastTick"}))(c.writeForeignInt)(c.consWriteForeignFields(new r.IsSymbol(function(){return"score"}))(c.writeForeignInt)(c.nilWriteForeignFields)()()())()()())()()())))(c.consWriteForeignFields(new r.IsSymbol(function(){return"tick"}))(c.writeForeignInt)(c.consWriteForeignFields(new r.IsSymbol(function(){return"world"}))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"height"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"width"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(c.writeForeignNumber)(c.nilWriteForeignFields)()()())()()())()()())()()()))(c.nilWriteForeignFields)()()())()()())()()())()()())))(new r.IsSymbol(function(){return"Sync"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(i.readEntityId)(i.writeEntityId))(new r.IsSymbol(function(){return"PlayerAdded"})))(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(i.readEntityId)(i.writeEntityId))(new r.IsSymbol(function(){return"PlayerRemoved"})))(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"class"}))(o.readForeignEntityClass)(c.readFieldsCons(new r.IsSymbol(function(){return"health"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(c.readFieldsCons(new r.IsSymbol(function(){return"location"}))(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"x"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"y"}))(c.readNumber)(c.readFieldsNil)()())()()))(c.readFieldsCons(new r.IsSymbol(function(){return"rotation"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"shield"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"x"}))(c.readNumber)(c.readFieldsCons(new r.IsSymbol(function(){return"y"}))(c.readNumber)(c.readFieldsNil)()())()()))(c.readFieldsNil)()())()())()())()())()())()())()()))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"class"}))(o.writeForeignEntityClass)(c.consWriteForeignFields(new r.IsSymbol(function(){return"health"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(c.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(c.writeForeignNumber)(c.nilWriteForeignFields)()()())()()()))(c.consWriteForeignFields(new r.IsSymbol(function(){return"rotation"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"shield"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(c.writeForeignNumber)(c.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(c.writeForeignNumber)(c.nilWriteForeignFields)()()())()()()))(c.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())))(new r.IsSymbol(function(){return"PlayerSync"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"gameUrl"}))(c.readString)(c.readFieldsCons(new r.IsSymbol(function(){return"playerId"}))(c.readString)(c.readFieldsNil)()())()()))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"gameUrl"}))(c.writeForeignString)(c.consWriteForeignFields(new r.IsSymbol(function(){return"playerId"}))(c.writeForeignString)(c.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"Welcome"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(c.readRecord()(c.readFieldsCons(new r.IsSymbol(function(){return"cmd"}))(S)(c.readFieldsCons(new r.IsSymbol(function(){return"id"}))(i.readEntityId)(c.readFieldsNil)()())()()))(c.recordWriteForeign()(c.consWriteForeignFields(new r.IsSymbol(function(){return"cmd"}))(h)(c.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(i.writeEntityId)(c.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"ServerCommand"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(c.readArray(u.readForeignGameEvent))(c.writeForeignArray(u.writeForeignGameEvent)))(new r.IsSymbol(function(){return"ServerEvents"})))(a.taggedSumRepConstructor(a.taggedSumRepArgument(c.readInt)(c.writeForeignInt))(new r.IsSymbol(function(){return"Pong"}))))))))))),F=new t.Generic(function(n){if(n instanceof y)return new t.Inl(n.value0);if(n instanceof g)return new t.Inr(new t.Inl(t.NoArguments.value));if(n instanceof b)return new t.Inr(new t.Inr(n.value0));throw new Error("Failed pattern match at Pure.Comms (line 89, column 1 - line 89, column 56): "+[n.constructor.name])},function(n){if(n instanceof t.Inl)return new y(n.value0);if(n instanceof t.Inr&&n.value0 instanceof t.Inl)return g.value;if(n instanceof t.Inr&&n.value0 instanceof t.Inr)return new b(n.value0.value0);throw new Error("Failed pattern match at Pure.Comms (line 89, column 1 - line 89, column 56): "+[n.constructor.name])}),E=new c.WriteForeign(a.writeTaggedSumRep(F)(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(S)(h))(new r.IsSymbol(function(){return"ClientCommand"})))(a.taggedSumRepSum(a.taggedSumRepNoArguments(new r.IsSymbol(function(){return"Quit"})))(a.taggedSumRepConstructor(a.taggedSumRepArgument(c.readInt)(c.writeForeignInt))(new r.IsSymbol(function(){return"Ping"}))))));e.Sync=l,e.PlayerAdded=s,e.PlayerRemoved=f,e.PlayerSync=d,e.Welcome=v,e.ServerCommand=m,e.ServerEvents=p,e.Pong=w,e.ClientCommand=y,e.Quit=g,e.Ping=b,e.readForeignServerMsg=I,e.writeForeignClientMsg=E}(t),function(n){"use strict";n["Pure.Entities.Bullet"]=n["Pure.Entities.Bullet"]||{};var e=n["Pure.Entities.Bullet"],t=n["Data.List.Types"],r=n["Pure.Behaviours.BasicBitchPhysics"],a=n["Pure.Entity"],i=n["Pure.Game.Entities.Classes"];e.init=function(n){return function(e){return function(o){return{id:n,location:e,width:5,height:5,velocity:o,friction:1,rotation:0,mass:20,health:1,shield:0,behaviour:new t.Cons(r.init,t.Nil.value),class:i.Bullet.value,networkSync:!1,renderables:new t.Cons({transform:{x:-2.5,y:-2.5,width:5,height:5},color:"#ff0",id:a.sprite.id,image:a.sprite.image,rotation:a.sprite.rotation,visible:a.sprite.visible},t.Nil.value)}}}}}(t),function(n){"use strict";n["Pure.Entities.Tank"]=n["Pure.Entities.Tank"]||{};var e=n["Pure.Entities.Tank"],t=n["Data.List.Types"],r=n["Data.Maybe"],a=n["Pure.Behaviours.BasicBitchPhysics"],i=n["Pure.Behaviours.Damageable"],o=n["Pure.Behaviours.Driven"],u=n["Pure.Behaviours.FiresBullets"],c=n["Pure.Behaviours.NetworkSync"],l=n["Pure.Behaviours.Regenerates"],s=n["Pure.Entity"],f=n["Pure.Game.Entities.Classes"];e.maxHealth=100,e.maxShield=50,e.init=function(n){return function(e){return{id:n,location:e,class:f.Tank.value,width:25,height:25,velocity:{x:0,y:0},friction:.9,rotation:-.25,mass:1e3,health:100,shield:50,networkSync:!0,behaviour:new t.Cons(i.init,new t.Cons(u.init({max:10,speed:25,rate:2,power:25,coolOffPeriod:30}),new t.Cons(a.init,new t.Cons(o.init({maxSpeed:5,acceleration:1500,turningSpeed:.03}),new t.Cons(c.init({force:.08}),new t.Cons(l.init({maxHealth:100,maxShield:50,healthDelay:0,healthRegen:0,shieldDelay:180,shieldRegen:.2}),t.Nil.value)))))),renderables:new t.Cons({transform:{x:-15,y:-15,width:30,height:30},image:new r.Just("shield"),id:"shield",color:s.sprite.color,rotation:s.sprite.rotation,visible:s.sprite.visible},new t.Cons({transform:{x:-12.5,y:-12.5,width:25,height:25},image:new r.Just("ship"),id:"ship",color:s.sprite.color,rotation:s.sprite.rotation,visible:s.sprite.visible},t.Nil.value))}}}}(t),function(n){n.seed=function(){return null},n.random=function(n){return function(e){return n(0)(e)}}}(t["Pure.Game.Main"]=t["Pure.Game.Main"]||{}),function(n){"use strict";n["Pure.Runtime.Scene"]=n["Pure.Runtime.Scene"]||{};var e=n["Pure.Runtime.Scene"],t=n["Data.Array"],r=n["Data.Eq"],a=n["Data.Foldable"],i=n["Data.FoldableWithIndex"],o=n["Data.List"],u=n["Data.List.Types"],c=n["Data.Map.Internal"],l=n["Data.Maybe"],s=n["Data.Ord"],f=n["Data.Symbol"],d=n["Data.Tuple"],v=n["Data.Unit"],m=n["Data.Variant"],p=n["Pure.Entity"],w=m.inj()(new f.IsSymbol(function(){return"tick"}))(f.SProxy.value)(v.unit),y={entities:c.empty,world:{x:-1e3,y:-1e3,width:2e3,height:2e3},onTicked:u.Nil.value};e.initialModel=y,e.onTick=function(n){return function(e){return{entities:e.entities,world:e.world,onTicked:new u.Cons(n,e.onTicked)}}},e.sendCommand=function(n){return function(e){return function(t){var r=c.lookup(p.ordEntityId)(n)(t.entities);if(r instanceof l.Nothing)return new d.Tuple(t,u.Nil.value);if(r instanceof l.Just){var a=p.processCommand(r.value0)(e);return new d.Tuple({entities:c.insert(p.ordEntityId)(n)(a.value0)(t.entities),onTicked:t.onTicked,world:t.world},a.value1)}throw new Error("Failed pattern match at Pure.Runtime.Scene (line 53, column 44 - line 59, column 71): "+[r.constructor.name])}}},e.discardEvents=function(n){return n.value0},e.addEntity=function(n){return function(e){return{entities:c.insert(p.ordEntityId)(n.id)(n)(e.entities),world:e.world,onTicked:e.onTicked}}},e.removeEntity=function(n){return function(e){return{entities:c.delete(p.ordEntityId)(n)(e.entities),world:e.world,onTicked:e.onTicked}}},e.entityById=function(n){return function(e){return a.find(c.foldableMap)(function(e){return r.eq(p.eqEntityId)(e.id)(n)})(e.entities)}},e.tick=function(n){var e,r=i.foldlWithIndex(u.foldableWithIndexList)(function(n){return function(e){return function(t){return c.insert(s.ordInt)(n)(t.value1)(e)}}})(c.empty)(c.toUnfoldableUnordered(u.unfoldableList)(n.entities)),f=c.size(r),v=t.range(0)(f),m={entities:r,events:u.Nil.value,entityRange:v,entityCount:f},y=a.foldl(a.foldableArray)((e=w,function(n){return function(t){return l.maybe(n)(function(r){var a=p.processCommand(r)(e);return{entities:c.insert(s.ordInt)(t)(a.value0)(n.entities),events:new u.Cons(a.value1,n.events),entityCount:n.entityCount,entityRange:n.entityRange}})(c.lookup(s.ordInt)(t)(n.entities))}}))(m)(v),g=a.foldl(u.foldableList)(function(n){return function(e){return e(n)}})(y)(n.onTicked);return d.Tuple.create({entities:a.foldl(u.foldableList)(function(n){return function(e){return c.insert(p.ordEntityId)(e.id)(e)(n)}})(c.empty)(c.values(g.entities)),onTicked:n.onTicked,world:n.world})(o.concat(g.events))}}(t),function(n){"use strict";n["Pure.Runtime.Ticks"]=n["Pure.Runtime.Ticks"]||{};var e=n["Pure.Runtime.Ticks"],t=n["Data.Int"],r=n["Data.Tuple"];e.init=function(n){return function(e){return{timeAtLastFrame:n,leftoverTime:e,timePerFrame:e}}},e.update=function(n){return function(e){var a=n-e.timeAtLastFrame+e.leftoverTime,i=t.floor(a/e.timePerFrame);return r.Tuple.create(i)({leftoverTime:a-t.toNumber(i)*e.timePerFrame,timeAtLastFrame:n,timePerFrame:e.timePerFrame})}}}(t),function(n){"use strict";n["Pure.Game.Main"]=n["Pure.Game.Main"]||{};var e=n["Pure.Game.Main"],t=n["Pure.Game.Main"],r=n["Data.Array"],a=n["Data.Bifunctor"],i=n["Data.Eq"],o=n["Data.Filterable"],u=n["Data.Foldable"],c=n["Data.Functor"],l=n["Data.List"],s=n["Data.List.Types"],f=n["Data.Map.Internal"],d=n["Data.Maybe"],v=n["Data.Monoid"],m=n["Data.Semigroup"],p=n["Data.Symbol"],w=n["Data.Tuple"],y=n["Data.Variant"],g=n["Pure.BuiltIn.Bullets"],b=n["Pure.BuiltIn.Collider"],h=n["Pure.BuiltIn.Explosions"],S=n["Pure.Entities.Bullet"],C=n["Pure.Entities.Tank"],I=n["Pure.Entity"],F=n["Pure.Game.Entities.Classes"],E=n["Pure.Runtime.Scene"],T=n["Pure.Runtime.Ticks"],D=n["Pure.Types"],N=function(n){return{scene:E.onTick(b.onTick(D.EntityCollided.create))(E.initialModel),bullets:g.init(D.BulletHit.create),explosions:h.init,lastTick:0,ticks:T.init(n)(1e3/30),players:f.empty,pendingSpawns:v.mempty(s.monoidList),seed:t.seed}},x=function(n){var e=function(){if(n.class instanceof F.Tank)return C.init(n.id)(n.location);if(n.class instanceof F.Bullet)return S.init(n.id)(n.location)(n.velocity);throw new Error("Failed pattern match at Pure.Game.Main (line 207, column 13 - line 209, column 64): "+[n.class.constructor.name])}();return{id:e.id,location:n.location,width:e.width,height:e.height,rotation:n.rotation,renderables:e.renderables,behaviour:e.behaviour,networkSync:e.networkSync,class:e.class,health:n.health,shield:n.shield,velocity:n.velocity,mass:e.mass,friction:e.friction}};e.pendingSpawn=function(n){return function(e){return c.map(d.functorMaybe)(function(n){return n.ticks})(l.head(o.filter(o.filterableList)(function(e){return i.eq(I.eqEntityId)(e.playerId)(n)})(e.pendingSpawns)))}},e.init=N,e.tick=function(n){return function(e){var i=T.update(n)(e.ticks),o=function(n){return a.rmap(a.bifunctorTuple)(function(e){return m.append(s.semigroupList)(n.value1)(e)})((e=n.value0,r=u.foldl(s.foldableList)(function(n){return function(e){return e.ticks<=0?a.rmap(a.bifunctorTuple)(function(n){return new s.Cons(e.playerId,n)})(n):a.lmap(a.bifunctorTuple)(function(n){return new s.Cons({ticks:e.ticks-1|0,playerId:e.playerId},n)})(n)}})(new w.Tuple(s.Nil.value,s.Nil.value))(e.pendingSpawns),i=E.tick(e.scene),o=u.foldl(s.foldableList)(function(n){return function(e){var r=t.random(w.Tuple.create)(w.fst(n)),a=t.random(w.Tuple.create)(r.value1);return w.Tuple.create(a.value1)(new s.Cons(new D.PlayerSpawn({x:1e3*r.value0-500,y:1e3*a.value0-500,id:e}),w.snd(n)))}})(new w.Tuple(e.seed,s.Nil.value))(w.snd(r)),c=h.tick(e.explosions),l=g.tick(e.bullets)(w.fst(i)),new w.Tuple({scene:w.fst(i),bullets:w.fst(l),explosions:c,lastTick:e.lastTick+1|0,pendingSpawns:w.fst(r),seed:w.fst(o),players:e.players,ticks:e.ticks},m.append(s.semigroupList)(w.snd(i))(m.append(s.semigroupList)(w.snd(l))(w.snd(o))))));var e,r,i,o,c,l},c=u.foldl(u.foldableArray)(function(n){return function(e){return 0===e?n:o(n)}})(new w.Tuple(e,s.Nil.value))(r.range(0)(i.value0));return a.lmap(a.bifunctorTuple)(function(n){return{ticks:i.value1,bullets:n.bullets,explosions:n.explosions,lastTick:n.lastTick,pendingSpawns:n.pendingSpawns,players:n.players,scene:n.scene,seed:n.seed}})(c)}},e.handleEvent=function(n){return function(e){if(e instanceof D.BulletFired)return new w.Tuple({bullets:g.fireBullet(e.value0.owner)(e.value0.location)(e.value0.velocity)(e.value0.power)(n.bullets),explosions:n.explosions,lastTick:n.lastTick,pendingSpawns:n.pendingSpawns,players:n.players,scene:n.scene,seed:n.seed,ticks:n.ticks},s.Nil.value);if(e instanceof D.EntityDestroyed){var t=f.lookup(I.ordEntityId)(e.value0.entity)(n.players);if(t instanceof d.Nothing)return new w.Tuple({scene:E.removeEntity(e.value0.entity)(n.scene),bullets:n.bullets,explosions:n.explosions,lastTick:n.lastTick,pendingSpawns:n.pendingSpawns,players:n.players,seed:n.seed,ticks:n.ticks},s.Nil.value);if(t instanceof d.Just)return new w.Tuple(function(n){return function(e){return function(t){return{scene:E.removeEntity(e)(n.scene),bullets:n.bullets,explosions:n.explosions,players:d.maybe(n.players)(function(e){return f.update(I.ordEntityId)(function(n){return d.Just.create({score:n.score+1|0,id:n.id,lastTick:n.lastTick})})(e)(n.players)})(t),lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:new s.Cons({playerId:e,ticks:300},n.pendingSpawns),seed:n.seed}}}}(n)(e.value0.entity)(e.value0.destroyer),s.Nil.value);throw new Error("Failed pattern match at Pure.Game.Main (line 126, column 48 - line 128, column 75): "+[t.constructor.name])}if(e instanceof D.PlayerSpawn)return new w.Tuple({scene:E.addEntity(C.init(e.value0.id)({x:e.value0.x,y:e.value0.y}))(n.scene),bullets:n.bullets,explosions:n.explosions,lastTick:n.lastTick,pendingSpawns:n.pendingSpawns,players:n.players,seed:n.seed,ticks:n.ticks},s.Nil.value);if(e instanceof D.BulletHit){var r=h.createExplosion(e.value0.entity)(e.value0.bullet.location)(e.value0.bullet.velocity)(n.explosions);return a.lmap(a.bifunctorTuple)(function(e){return{scene:e,explosions:r,bullets:n.bullets,lastTick:n.lastTick,pendingSpawns:n.pendingSpawns,players:n.players,seed:n.seed,ticks:n.ticks}})(E.sendCommand(e.value0.entity)(y.inj()(new p.IsSymbol(function(){return"damage"}))(p.SProxy.value)({amount:e.value0.bullet.power,source:new d.Just(e.value0.bullet.owner)}))(n.scene))}if(e instanceof D.EntityCollided)return new w.Tuple(n,s.Nil.value);throw new Error("Failed pattern match at Pure.Game.Main (line 124, column 43 - line 141, column 38): "+[e.constructor.name])}},e.sendCommand=function(n){return function(e){return function(t){return a.lmap(a.bifunctorTuple)(function(n){return{scene:n,bullets:t.bullets,explosions:t.explosions,lastTick:t.lastTick,pendingSpawns:t.pendingSpawns,players:t.players,seed:t.seed,ticks:t.ticks}})(E.sendCommand(n)(e)(t.scene))}}},e.fromSync=function(n){return function(e){var t=N(n);return{scene:{entities:u.foldl(u.foldableArray)(function(n){return function(e){return f.insert(I.ordEntityId)(e.id)(x(e))(n)}})(f.empty)(e.entities),world:e.world,onTicked:t.scene.onTicked},bullets:t.bullets,explosions:t.explosions,players:u.foldl(u.foldableArray)(function(n){return function(e){return f.insert(I.ordEntityId)(e.id)(e)(n)}})(f.empty)(e.players),lastTick:e.tick,ticks:t.ticks,pendingSpawns:t.pendingSpawns,seed:t.seed}}},e.addPlayer=function(n){return function(e){return{scene:e.scene,bullets:e.bullets,explosions:e.explosions,players:f.insert(I.ordEntityId)(n)({id:n,lastTick:e.lastTick,score:0})(e.players),lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:new s.Cons({playerId:n,ticks:0},e.pendingSpawns),seed:e.seed}}},e.removePlayer=function(n){return function(e){return function(n){return function(e){return{scene:E.removeEntity(n)(e.scene),bullets:e.bullets,explosions:e.explosions,players:e.players,lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:e.pendingSpawns,seed:e.seed}}}(n)({scene:e.scene,bullets:e.bullets,explosions:e.explosions,players:f.delete(I.ordEntityId)(n)(e.players),lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:e.pendingSpawns,seed:e.seed})}},e.mergeSyncInfo=function(n){return function(e){return{scene:u.foldl(u.foldableArray)(function(n){return function(e){return E.discardEvents(E.sendCommand(e.id)(y.inj()(new p.IsSymbol(function(){return"updateServerState"}))(p.SProxy.value)({location:e.location,velocity:e.velocity,rotation:e.rotation}))(n))}})(n.scene)(e.entities),bullets:n.bullets,explosions:n.explosions,players:n.players,lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:n.pendingSpawns,seed:n.seed}}},e.mergePlayerSync=function(n){return function(e){return{scene:E.discardEvents(E.sendCommand(e.id)(y.inj()(new p.IsSymbol(function(){return"updateServerState"}))(p.SProxy.value)({location:e.location,velocity:e.velocity,rotation:e.rotation}))(n.scene)),bullets:n.bullets,explosions:n.explosions,players:n.players,lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:n.pendingSpawns,seed:n.seed}}}}(t),function(n){function e(n){var e=[],t=n;return{subscribe:function(n){e.push(n),n(t)},get:function(){return t},set:function(n){t=n,e.forEach(function(e){e(n)})}}}n.constant=e,n.mapSig=function(n){return function(t){var r=e(n(t.get()));return t.subscribe(function(e){r.set(n(e))}),r}},n.merge=function(n){return function(t){var r=e(n.get());return t.subscribe(r.set),n.subscribe(r.set),r}},n.foldp=function(n){return function(t){return function(r){var a=t,i=e(a);return r.subscribe(function(e){a=n(e)(a),i.set(a)}),i}}},n.sampleOn=function(n){return function(t){var r=e(t.get());return n.subscribe(function(){r.set(t.get())}),r}},n.dropRepeats=function(n){return function(t){var r=t.get(),a=e(r);return t.subscribe(function(e){n.eq(r)(e)||(r=e,a.set(r))}),a}},n.runSignal=function(n){return function(){return n.subscribe(function(n){n()}),{}}}}(t.Signal=t.Signal||{}),function(n){"use strict";n.Signal=n.Signal||{};var e=n.Signal,t=n.Signal,r=n["Data.Functor"],a=new n["Data.Semigroup"].Semigroup(t.merge),i=new r.Functor(t.mapSig);e.functorSignal=i,e.semigroupSignal=a,e.constant=t.constant,e.foldp=t.foldp,e.sampleOn=t.sampleOn,e.dropRepeats=t.dropRepeats,e.runSignal=t.runSignal}(t),function(n){n.channelP=function(n){return function(e){return function(){return n(e)}}},n.sendP=function(n){return function(e){return function(){n.set(e)}}},n.subscribe=function(n){return n}}(t["Signal.Channel"]=t["Signal.Channel"]||{}),function(n){"use strict";n["Signal.Channel"]=n["Signal.Channel"]||{};var e=n["Signal.Channel"],t=n["Signal.Channel"],r=n.Signal,a=t.sendP,i=t.channelP(r.constant);e.channel=i,e.send=a,e.subscribe=t.subscribe}(t),function(n){n.keyPressedP=function(n){return function(e){return function(){var t=n(!1);return window.addEventListener("keydown",function(n){n.keyCode===e&&t.set(!0)}),window.addEventListener("keyup",function(n){n.keyCode===e&&t.set(!1)}),t}}},n.animationFrameP=function(n){return function(e){return function(){var t;window.requestAnimationFrame?(t=window.requestAnimationFrame,window.cancelAnimationFrame):window.mozRequestAnimationFrame?(t=window.mozRequestAnimationFrame,window.mozCancelAnimationFrame):window.webkitRequestAnimationFrame?(t=window.webkitRequestAnimationFrame,window.webkitCancelAnimationFrame):window.msRequestAnimationFrame?(t=window.msRequestAnimationFrame,window.msCancelAnimationFrame):window.oRequestAnimationFrame?(t=window.oRequestAnimationFrame,window.oCancelAnimationFrame):(t=function(n){setTimeout(function(){n(e())},1e3/60)},window.clearTimeout);var r=n(e());return t(function n(e){r.set(e),t(n)}),r}}}}(t["Signal.DOM"]=t["Signal.DOM"]||{}),function(e){function t(){var e="undefined"!=typeof performance?performance:null,t=void 0!==n?n:null;return(e&&(e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow)||t&&t.hrtime&&function(){var n=t.hrtime();return(1e9*n[0]+n[1])/1e6}||Date.now).call(e)}e.now=t,e.everyP=function(n){return function(e){var r=n(t());return setInterval(function(){r.set(t())},e),r}}}(t["Signal.Time"]=t["Signal.Time"]||{}),function(n){"use strict";n["Signal.Time"]=n["Signal.Time"]||{};var e=n["Signal.Time"],t=n["Signal.Time"],r=n.Signal,a=t.everyP(r.constant);e.every=a,e.second=1e3,e.now=t.now}(t),function(n){"use strict";n["Signal.DOM"]=n["Signal.DOM"]||{};var e=n["Signal.DOM"],t=n["Signal.DOM"],r=n.Signal,a=n["Signal.Time"],i=t.keyPressedP(r.constant),o=t.animationFrameP(r.constant)(a.now);e.animationFrame=o,e.keyPressed=i}(t),function(n){"use strict";(t["Web.DOM.Document"]=t["Web.DOM.Document"]||{}).createElement=function(n){return function(e){return function(){return e.createElement(n)}}}}(),function(n){"use strict";n["Web.DOM.Document"]=n["Web.DOM.Document"]||{};var e=n["Web.DOM.Document"],t=n["Web.DOM.Document"],r=n["Unsafe.Coerce"].unsafeCoerce;e.toParentNode=r,e.createElement=t.createElement}(t),function(n){"use strict";(t["Web.DOM.Element"]=t["Web.DOM.Element"]||{}).setAttribute=function(n){return function(e){return function(t){return function(){t.setAttribute(n,e)}}}}}(),function(n){"use strict";n["Web.DOM.Element"]=n["Web.DOM.Element"]||{};var e=n["Web.DOM.Element"],t=n["Web.DOM.Element"],r=n["Unsafe.Coerce"],a=r.unsafeCoerce,i=r.unsafeCoerce;e.toNode=a,e.toEventTarget=i,e.setAttribute=t.setAttribute}(t),function(n){"use strict";var e;n.childNodes=(e="childNodes",function(n){return function(){return n[e]}}),n.setTextContent=function(n){return function(e){return function(){e.textContent=n}}},n.appendChild=function(n){return function(e){return function(){e.appendChild(n)}}},n.removeChild=function(n){return function(e){return function(){e.removeChild(n)}}}}(t["Web.DOM.Node"]=t["Web.DOM.Node"]||{}),function(n){"use strict";n["Web.DOM.Node"]=n["Web.DOM.Node"]||{};var e=n["Web.DOM.Node"],t=n["Web.DOM.Node"];e.childNodes=t.childNodes,e.setTextContent=t.setTextContent,e.appendChild=t.appendChild,e.removeChild=t.removeChild}(t),function(n){"use strict";(t["Web.DOM.NodeList"]=t["Web.DOM.NodeList"]||{}).toArray=function(n){return function(){return[].slice.call(n)}}}(),function(n){"use strict";n["Web.DOM.NodeList"]=n["Web.DOM.NodeList"]||{};var e=n["Web.DOM.NodeList"],t=n["Web.DOM.NodeList"];e.toArray=t.toArray}(t),function(n){"use strict";(t["Web.DOM.ParentNode"]=t["Web.DOM.ParentNode"]||{})._querySelector=function(n){return function(e){return function(){return e.querySelector(n)}}}}(),function(n){"use strict";n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{};var e=n["Web.DOM.ParentNode"],t=n["Web.DOM.ParentNode"],r=n["Data.Functor"],a=n["Data.Nullable"],i=n.Effect;e.querySelector=function(n){var e=r.map(i.functorEffect)(a.toMaybe),o=t._querySelector(n);return function(n){return e(o(n))}}}(t),function(n){"use strict";n.eventListener=function(n){return function(){return function(e){return n(e)()}}},n.addEventListener=function(n){return function(e){return function(t){return function(r){return function(){return r.addEventListener(n,e,t)}}}}}}(t["Web.Event.EventTarget"]=t["Web.Event.EventTarget"]||{}),function(n){"use strict";n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{};var e=n["Web.Event.EventTarget"],t=n["Web.Event.EventTarget"];e.eventListener=t.eventListener,e.addEventListener=t.addEventListener}(t),function(n){"use strict";(t["Web.HTML"]=t["Web.HTML"]||{}).window=function(){return window}}(),function(n){"use strict";n["Web.HTML"]=n["Web.HTML"]||{};var e=n["Web.HTML"],t=n["Web.HTML"];e.window=t.window}(t),function(n){"use strict";n["Web.HTML.Event.EventTypes"]=n["Web.HTML.Event.EventTypes"]||{};n["Web.HTML.Event.EventTypes"].click="click"}(t),function(n){"use strict";n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{};var e=n["Web.HTML.HTMLDocument"],t=n["Unsafe.Coerce"].unsafeCoerce;e.toDocument=t}(t),function(n){"use strict";n.host=function(n){return function(){return n.host}},n.setHref=function(n){return function(e){return function(){e.href=n}}}}(t["Web.HTML.Location"]=t["Web.HTML.Location"]||{}),function(n){"use strict";n["Web.HTML.Location"]=n["Web.HTML.Location"]||{};var e=n["Web.HTML.Location"],t=n["Web.HTML.Location"];e.host=t.host,e.setHref=t.setHref}(t),function(n){"use strict";n.document=function(n){return function(){return n.document}},n.location=function(n){return function(){return n.location}}}(t["Web.HTML.Window"]=t["Web.HTML.Window"]||{}),function(n){"use strict";n["Web.HTML.Window"]=n["Web.HTML.Window"]||{};var e=n["Web.HTML.Window"],t=n["Web.HTML.Window"];e.document=t.document,e.location=t.location}(t),function(n){"use strict";n["Web.Socket.Event.EventTypes"]=n["Web.Socket.Event.EventTypes"]||{};n["Web.Socket.Event.EventTypes"].onMessage="message"}(t),function(n){"use strict";(t["Web.Socket.Event.MessageEvent"]=t["Web.Socket.Event.MessageEvent"]||{}).data_=function(n){return n.data}}(),function(n){"use strict";(t["Web.Internal.FFI"]=t["Web.Internal.FFI"]||{})._unsafeReadProtoTagged=function(n,e,t,r){if("undefined"!=typeof window){var a=window[t];if(null!=a&&r instanceof a)return e(r)}for(var i=r;null!=i;){var o=Object.getPrototypeOf(i),u=o.constructor.name;if(u===t)return e(r);if("Object"===u)return n;i=o}return n}}(),function(n){"use strict";n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{};var e=n["Web.Internal.FFI"],t=n["Web.Internal.FFI"],r=n["Data.Maybe"];e.unsafeReadProtoTagged=function(n){return function(e){return t._unsafeReadProtoTagged(r.Nothing.value,r.Just.create,n,e)}}}(t),function(n){"use strict";n["Web.Socket.Event.MessageEvent"]=n["Web.Socket.Event.MessageEvent"]||{};var e=n["Web.Socket.Event.MessageEvent"],t=n["Web.Socket.Event.MessageEvent"],r=n["Web.Internal.FFI"].unsafeReadProtoTagged("MessageEvent");e.fromEvent=r,e.data_=t.data_}(t),function(n){"use strict";n["Web.Socket.ReadyState"]=n["Web.Socket.ReadyState"]||{};var e=n["Web.Socket.ReadyState"],t=n["Data.Eq"],r=n["Data.Maybe"],a=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),c=new t.Eq(function(n){return function(e){return n instanceof a&&e instanceof a||(n instanceof i&&e instanceof i||(n instanceof o&&e instanceof o||n instanceof u&&e instanceof u))}});e.Open=i,e.Closing=o,e.Closed=u,e.toEnumReadyState=function(n){return 0===n?new r.Just(a.value):1===n?new r.Just(i.value):2===n?new r.Just(o.value):3===n?new r.Just(u.value):r.Nothing.value},e.eqReadyState=c}(t),function(n){"use strict";n.create=function(n){return function(e){return function(){return new WebSocket(n,e)}}},n.readyStateImpl=function(n){return function(){return n.readyState}},n.close=function(n){return function(){return n.close()}},n.sendImpl=function(n){return function(e){return function(){n.send(e)}}}}(t["Web.Socket.WebSocket"]=t["Web.Socket.WebSocket"]||{}),function(n){"use strict";n["Web.Socket.WebSocket"]=n["Web.Socket.WebSocket"]||{};var e=n["Web.Socket.WebSocket"],t=n["Web.Socket.WebSocket"],r=n["Data.Maybe"],a=n["Unsafe.Coerce"],i=n["Web.Socket.ReadyState"],o=a.unsafeCoerce,u=t.sendImpl;e.toEventTarget=o,e.readyState=function(n){return function(){var e=t.readyStateImpl(n)();return r.fromJust()(i.toEnumReadyState(e))}},e.sendString=u,e.create=t.create,e.close=t.close}(t),function(n){"use strict";n["Pure.Main"]=n["Pure.Main"]||{};var e=n["Pure.Main"],t=n.Assets,r=n["Control.Applicative"],a=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad.Except"],u=n["Data.DateTime.Instant"],c=n["Data.Either"],l=n["Data.Eq"],s=n["Data.EuclideanRing"],f=n["Data.Foldable"],d=n["Data.Function"],v=n["Data.Functor"],m=n["Data.Identity"],p=n["Data.Int"],w=n["Data.List.Types"],y=n["Data.Map.Internal"],g=n["Data.Maybe"],b=n["Data.Newtype"],h=n["Data.Ord"],S=n["Data.Semigroup"],C=n["Data.Show"],I=n["Data.Symbol"],F=n["Data.Traversable"],E=n["Data.Tuple"],T=n["Data.Unit"],D=n["Data.Variant"],N=n["Data.Variant.Internal"],x=n.Effect,R=n["Effect.Aff"],k=n["Effect.Now"],P=n.Foreign,M=n["Graphics.Canvas"],q=n.Math,W=n["Pure.Background"],L=n["Pure.Camera"],A=n["Pure.Comms"],B=n["Pure.Entities.Tank"],U=n["Pure.Entity"],O=n["Pure.Game.Main"],_=n["Pure.Runtime.Scene"],V=n.Signal,G=n["Signal.Channel"],J=n["Signal.DOM"],H=n["Signal.Time"],j=n["Simple.JSON"],Q=n["Web.DOM.Document"],z=n["Web.DOM.Element"],Y=n["Web.DOM.Node"],X=n["Web.DOM.NodeList"],K=n["Web.DOM.ParentNode"],Z=n["Web.Event.EventTarget"],$=n["Web.HTML"],nn=n["Web.HTML.Event.EventTypes"],en=n["Web.HTML.HTMLDocument"],tn=n["Web.HTML.Location"],rn=n["Web.HTML.Window"],an=n["Web.Socket.Event.EventTypes"],on=n["Web.Socket.Event.MessageEvent"],un=n["Web.Socket.ReadyState"],cn=n["Web.Socket.WebSocket"],ln=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),sn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),fn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),dn=V.sampleOn(H.every(.3*H.second))(V.constant(T.unit)),vn=function(n){return function(e){return function(t){return g["maybe'"](function(n){return{distance:t.distance+2,fieldOfView:t.fieldOfView,lookAt:t.lookAt,target:t.target}})(function(n){var e=750+20*(q.abs(n.velocity.x)+q.abs(n.velocity.y));return{distance:t.distance+.02*(e-t.distance),fieldOfView:t.fieldOfView,lookAt:n.location,target:t.target}})(_.entityById(b.wrap()(n))(e))}}},mn=V.sampleOn(H.every(H.second/30))(V.constant(T.unit)),pn=function(){var n=J.keyPressed(38)();return V.dropRepeats(D.eqVariant()(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsNil)(new I.IsSymbol(function(){return"updateServerState"})))(new I.IsSymbol(function(){return"turnRight"})))(new I.IsSymbol(function(){return"turnLeft"})))(new I.IsSymbol(function(){return"stopTurnRight"})))(new I.IsSymbol(function(){return"stopTurnLeft"})))(new I.IsSymbol(function(){return"stopPushForward"})))(new I.IsSymbol(function(){return"stopPushBackward"})))(new I.IsSymbol(function(){return"stopFireBullet"})))(new I.IsSymbol(function(){return"startFireBullet"})))(new I.IsSymbol(function(){return"pushForward"})))(new I.IsSymbol(function(){return"pushBackward"})))(new I.IsSymbol(function(){return"damage"})))(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantNil)(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"velocity"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))()(new I.IsSymbol(function(){return"rotation"}))(l.eqNumber))()(new I.IsSymbol(function(){return"location"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"source"}))(g.eqMaybe(U.eqEntityId)))()(new I.IsSymbol(function(){return"amount"}))(l.eqNumber)))))(v.map(V.functorSignal)(function(n){return n?D.inj()(new I.IsSymbol(function(){return"pushForward"}))(I.SProxy.value)(T.unit):D.inj()(new I.IsSymbol(function(){return"stopPushForward"}))(I.SProxy.value)(T.unit)})(n))},wn=function(n){return function(e){return function(){return cn.readyState(n)()instanceof un.Open?cn.sendString(n)(e)():T.unit}}},yn=function(){var n=J.keyPressed(39)();return V.dropRepeats(D.eqVariant()(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsNil)(new I.IsSymbol(function(){return"updateServerState"})))(new I.IsSymbol(function(){return"turnRight"})))(new I.IsSymbol(function(){return"turnLeft"})))(new I.IsSymbol(function(){return"stopTurnRight"})))(new I.IsSymbol(function(){return"stopTurnLeft"})))(new I.IsSymbol(function(){return"stopPushForward"})))(new I.IsSymbol(function(){return"stopPushBackward"})))(new I.IsSymbol(function(){return"stopFireBullet"})))(new I.IsSymbol(function(){return"startFireBullet"})))(new I.IsSymbol(function(){return"pushForward"})))(new I.IsSymbol(function(){return"pushBackward"})))(new I.IsSymbol(function(){return"damage"})))(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantNil)(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"velocity"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))()(new I.IsSymbol(function(){return"rotation"}))(l.eqNumber))()(new I.IsSymbol(function(){return"location"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"source"}))(g.eqMaybe(U.eqEntityId)))()(new I.IsSymbol(function(){return"amount"}))(l.eqNumber)))))(v.map(V.functorSignal)(function(n){return n?D.inj()(new I.IsSymbol(function(){return"turnRight"}))(I.SProxy.value)(T.unit):D.inj()(new I.IsSymbol(function(){return"stopTurnRight"}))(I.SProxy.value)(T.unit)})(n))},gn=function(){var n=J.keyPressed(37)();return V.dropRepeats(D.eqVariant()(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsNil)(new I.IsSymbol(function(){return"updateServerState"})))(new I.IsSymbol(function(){return"turnRight"})))(new I.IsSymbol(function(){return"turnLeft"})))(new I.IsSymbol(function(){return"stopTurnRight"})))(new I.IsSymbol(function(){return"stopTurnLeft"})))(new I.IsSymbol(function(){return"stopPushForward"})))(new I.IsSymbol(function(){return"stopPushBackward"})))(new I.IsSymbol(function(){return"stopFireBullet"})))(new I.IsSymbol(function(){return"startFireBullet"})))(new I.IsSymbol(function(){return"pushForward"})))(new I.IsSymbol(function(){return"pushBackward"})))(new I.IsSymbol(function(){return"damage"})))(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantNil)(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"velocity"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))()(new I.IsSymbol(function(){return"rotation"}))(l.eqNumber))()(new I.IsSymbol(function(){return"location"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"source"}))(g.eqMaybe(U.eqEntityId)))()(new I.IsSymbol(function(){return"amount"}))(l.eqNumber)))))(v.map(V.functorSignal)(function(n){return n?D.inj()(new I.IsSymbol(function(){return"turnLeft"}))(I.SProxy.value)(T.unit):D.inj()(new I.IsSymbol(function(){return"stopTurnLeft"}))(I.SProxy.value)(T.unit)})(n))},bn=function(n){return function(e){return function(t){return function(){return F.for(x.applicativeEffect)(y.traversableMap)(n.entities)(function(n){return M.withContext(t)(function(){return M.translate(t)({translateX:n.location.x,translateY:n.location.y})(),M.rotate(t)(2*n.rotation*q.pi)(),F.for(x.applicativeEffect)(w.traversableList)(n.renderables)(function(n){return M.withContext(t)(n.visible?function(){return M.translate(t)({translateX:n.transform.x,translateY:n.transform.y})(),M.rotate(t)(2*n.rotation*q.pi)(),M.translate(t)({translateX:-n.transform.x,translateY:-n.transform.y})(),M.setFillStyle(t)(b.unwrap()(n.color))(),g.fromMaybe(M.fillRect(t)(n.transform))(v.map(g.functorMaybe)(function(e){return M.drawImageScale(t)(e)(n.transform.x)(n.transform.y)(n.transform.width)(n.transform.height)})(i.bindFlipped(g.bindMaybe)(d.flip(y.lookup(h.ordString))(e))(n.image)))(),T.unit}:r.pure(x.applicativeEffect)(T.unit))})(),M.translate(t)({translateX:-n.location.x,translateY:-n.location.y})()})})(),T.unit}}}},hn=function(n){return function(e){return function(){return M.setFillStyle(e)("#0ff")(),M.beginPath(e)(),F.traverse(w.traversableList)(x.applicativeEffect)(function(n){var t=p.toNumber(n.age)+2;return function(){return M.moveTo(e)(n.location.x+t)(n.location.y)(),M.arc(e)({x:n.location.x,y:n.location.y,start:0,end:2*q.pi,radius:t})(),M.fill(e)(),T.unit}})(n.explosions)(),M.fill(e)()}}},Sn=function(n){return function(e){return function(){return M.setFillStyle(e)("#0ff")(),M.beginPath(e)(),F.traverse(w.traversableList)(x.applicativeEffect)(function(n){return function(){return M.moveTo(e)(n.location.x+2.5)(n.location.y)(),M.arc(e)({x:n.location.x,y:n.location.y,start:0,end:2*q.pi,radius:2.5})(),M.fill(e)(),T.unit}})(n.bullets)(),M.fill(e)()}}},Cn=function(n){return function(){M.clearRect(n.offscreenContext)({x:0,y:0,width:n.camera.config.target.width,height:n.camera.config.target.height})(),M.save(n.offscreenContext)(),L.applyViewport(n.camera.viewport)(n.offscreenContext)(),W.render(n.camera.viewport)(n.game.scene)(n.offscreenContext)(),hn(n.game.explosions)(n.offscreenContext)(),Sn(n.game.bullets)(n.offscreenContext)(),bn(n.game.scene)(n.assets)(n.offscreenContext)(),M.restore(n.offscreenContext)();var e=M.canvasElementToImageSource(n.offscreenCanvas);return M.clearRect(n.renderContext)({x:0,y:0,width:n.camera.config.target.width,height:n.camera.config.target.height})(),M.drawImage(n.renderContext)(e)(0)(0)(),T.unit}},In=V.sampleOn(H.every(H.second))(V.constant(T.unit)),Fn=function(n){return function(e){var t=E.fst(O.tick(e)(n.game)),r=vn(n.playerName)(t.scene)(n.camera.config),a={camera:{config:r,viewport:L.viewportFromConfig(r)},assets:n.assets,canvasElement:n.canvasElement,game:n.game,gameUrl:n.gameUrl,hasError:n.hasError,isStarted:n.isStarted,now:n.now,offscreenCanvas:n.offscreenCanvas,offscreenContext:n.offscreenContext,playerName:n.playerName,renderContext:n.renderContext,serverTick:n.serverTick,socket:n.socket,socketChannel:n.socketChannel,tickLatency:n.tickLatency,window:n.window};return{renderContext:a.renderContext,canvasElement:a.canvasElement,offscreenContext:a.offscreenContext,offscreenCanvas:a.offscreenCanvas,assets:a.assets,camera:a.camera,window:a.window,game:t,playerName:a.playerName,socketChannel:a.socketChannel,socket:a.socket,serverTick:a.serverTick,tickLatency:a.tickLatency,gameUrl:a.gameUrl,isStarted:a.isStarted,hasError:a.hasError,now:e}}},En=function(n){return function(e){if(e instanceof A.Sync)return n.isStarted?{game:O.mergeSyncInfo(n.game)(e.value0),serverTick:e.value0.tick,assets:n.assets,camera:n.camera,canvasElement:n.canvasElement,gameUrl:n.gameUrl,hasError:n.hasError,isStarted:n.isStarted,now:n.now,offscreenCanvas:n.offscreenCanvas,offscreenContext:n.offscreenContext,playerName:n.playerName,renderContext:n.renderContext,socket:n.socket,socketChannel:n.socketChannel,tickLatency:n.tickLatency,window:n.window}:{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:O.fromSync(n.now)(e.value0),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:e.value0.tick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:!0,hasError:n.hasError,now:n.now};if(e instanceof A.PlayerSync)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:O.mergePlayerSync(n.game)(e.value0),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.Welcome)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:n.game,playerName:e.value0.playerId,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:e.value0.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.ServerCommand)return b.unwrap()(e.value0.id)===n.playerName?n:{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:E.fst(O.sendCommand(e.value0.id)(D.expand()(e.value0.cmd))(n.game)),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.ServerEvents)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:f.foldl(f.foldableArray)(function(n){return function(e){return E.fst(O.handleEvent(n)(e))}})(n.game)(e.value0),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.PlayerAdded)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:O.addPlayer(e.value0)(n.game),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.PlayerRemoved)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:O.removePlayer(e.value0)(n.game),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};if(e instanceof A.Pong)return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:n.game,playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.game.lastTick-e.value0|0,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now};throw new Error("Failed pattern match at Pure.Main (line 353, column 30 - line 376, column 60): "+[e.constructor.name])}},Tn=function(n){return function(e){return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:n.game,playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:!0,now:n.now}}},Dn=function(n){return function(e){return{renderContext:n.renderContext,canvasElement:n.canvasElement,offscreenContext:n.offscreenContext,offscreenCanvas:n.offscreenCanvas,assets:n.assets,camera:n.camera,window:n.window,game:E.fst(O.sendCommand(b.wrap()(n.playerName))(D.expand()(e))(n.game)),playerName:n.playerName,socketChannel:n.socketChannel,socket:n.socket,serverTick:n.serverTick,tickLatency:n.tickLatency,gameUrl:n.gameUrl,isStarted:n.isStarted,hasError:n.hasError,now:n.now}}},Nn=function(){var n=J.keyPressed(32)();return V.dropRepeats(D.eqVariant()(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsNil)(new I.IsSymbol(function(){return"updateServerState"})))(new I.IsSymbol(function(){return"turnRight"})))(new I.IsSymbol(function(){return"turnLeft"})))(new I.IsSymbol(function(){return"stopTurnRight"})))(new I.IsSymbol(function(){return"stopTurnLeft"})))(new I.IsSymbol(function(){return"stopPushForward"})))(new I.IsSymbol(function(){return"stopPushBackward"})))(new I.IsSymbol(function(){return"stopFireBullet"})))(new I.IsSymbol(function(){return"startFireBullet"})))(new I.IsSymbol(function(){return"pushForward"})))(new I.IsSymbol(function(){return"pushBackward"})))(new I.IsSymbol(function(){return"damage"})))(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantNil)(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"velocity"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))()(new I.IsSymbol(function(){return"rotation"}))(l.eqNumber))()(new I.IsSymbol(function(){return"location"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"source"}))(g.eqMaybe(U.eqEntityId)))()(new I.IsSymbol(function(){return"amount"}))(l.eqNumber)))))(v.map(V.functorSignal)(function(n){return n?D.inj()(new I.IsSymbol(function(){return"startFireBullet"}))(I.SProxy.value)(T.unit):D.inj()(new I.IsSymbol(function(){return"stopFireBullet"}))(I.SProxy.value)(T.unit)})(n))},xn=function(n){return function(e){return function(){var t=cn.create(n)([])(),r=Z.eventListener(function(n){return f.for_(x.applicativeEffect)(f.foldableMaybe)(on.fromEvent(n))(function(n){return f.for_(x.applicativeEffect)(f.foldableEither)(o.runExcept(P.readString(m.monadIdentity)(on.data_(n))))(e)})})();return Z.addEventListener(an.onMessage)(r)(!1)(cn.toEventTarget(t))(),t}}},Rn=function(n){var e=function(e){return function(t){return function(r){return function(){var a=$.window(),i=rn.location(a)(),o=M.getContext2D(e)(),c=M.getContext2D(t)(),l=M.getCanvasWidth(e)(),s=G.channel("")(),f=tn.host(i)(),d=xn("ws://"+f+"/messaging")(G.send(s))(),m=M.getCanvasHeight(e)(),p=v.map(x.functorEffect)(u.unInstant)(k.now)(),w=O.init(p),y=L.setupCamera({width:l,height:m});return n({offscreenContext:c,offscreenCanvas:t,renderContext:o,assets:r,canvasElement:e,camera:y,window:a,game:w,playerName:"",gameUrl:"",socket:d,socketChannel:s,serverTick:0,now:p,tickLatency:0,isStarted:!1,hasError:!1})()}}}};return R.runAff_(function(n){return function(){var t=M.getCanvasElementById("target")(),i=M.getCanvasElementById("offscreen")();return g.fromMaybe(r.pure(x.applicativeEffect)(T.unit))(a.apply(g.applyMaybe)(a.apply(g.applyMaybe)(v.map(g.functorMaybe)(e)(t))(i))(c.hush(n)))()}})(t.load)},kn=function(){var n=J.keyPressed(40)();return V.dropRepeats(D.eqVariant()(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsCons(N.variantTagsNil)(new I.IsSymbol(function(){return"updateServerState"})))(new I.IsSymbol(function(){return"turnRight"})))(new I.IsSymbol(function(){return"turnLeft"})))(new I.IsSymbol(function(){return"stopTurnRight"})))(new I.IsSymbol(function(){return"stopTurnLeft"})))(new I.IsSymbol(function(){return"stopPushForward"})))(new I.IsSymbol(function(){return"stopPushBackward"})))(new I.IsSymbol(function(){return"stopFireBullet"})))(new I.IsSymbol(function(){return"startFireBullet"})))(new I.IsSymbol(function(){return"pushForward"})))(new I.IsSymbol(function(){return"pushBackward"})))(new I.IsSymbol(function(){return"damage"})))(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantCons(D.eqVariantNil)(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"velocity"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))()(new I.IsSymbol(function(){return"rotation"}))(l.eqNumber))()(new I.IsSymbol(function(){return"location"}))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"y"}))(l.eqNumber))()(new I.IsSymbol(function(){return"x"}))(l.eqNumber))))))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqUnit))(l.eqRec()(l.eqRowCons(l.eqRowCons(l.eqRowNil)()(new I.IsSymbol(function(){return"source"}))(g.eqMaybe(U.eqEntityId)))()(new I.IsSymbol(function(){return"amount"}))(l.eqNumber)))))(v.map(V.functorSignal)(function(n){return n?D.inj()(new I.IsSymbol(function(){return"pushBackward"}))(I.SProxy.value)(T.unit):D.inj()(new I.IsSymbol(function(){return"stopPushBackward"}))(I.SProxy.value)(T.unit)})(n))},Pn=function(){var n=Nn(),e=gn(),t=pn(),r=yn(),a=kn();return S.append(V.semigroupSignal)(n)(S.append(V.semigroupSignal)(e)(S.append(V.semigroupSignal)(t)(S.append(V.semigroupSignal)(r)(a))))},Mn=Rn(function(n){return function(){var e=Pn(),t=J.animationFrame(),a=v.map(x.functorEffect)(en.toDocument)(rn.document(n.window))(),o=rn.location(n.window)(),f=v.map(x.functorEffect)(u.unInstant)(k.now)(),d=G.channel({time:f,hasError:!1})(),m=G.channel(!1)(),p=Z.eventListener(function(n){return G.send(m)(!0)})(),w=K.querySelector("#game-info")(Q.toParentNode(a))(),h=K.querySelector("#latency-info")(Q.toParentNode(a))(),I=K.querySelector("#player-list")(Q.toParentNode(a))(),E=K.querySelector("#game-message")(Q.toParentNode(a))(),D=K.querySelector("#health-bar")(Q.toParentNode(a))(),N=K.querySelector("#shield-bar")(Q.toParentNode(a))(),R=K.querySelector("#quit")(Q.toParentNode(a))(),P=G.subscribe(n.socketChannel),M=G.subscribe(m),q=v.map(V.functorSignal)(sn.create)(G.subscribe(d)),W=V.foldp(function(n){return function(e){if(n instanceof ln)return Dn(e)(n.value0);if(n instanceof sn)return Fn({renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:e.game,playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,hasError:n.value0.hasError,now:e.now})(n.value0.time);if(n instanceof fn)return c.either(Tn(e))(En(e))(j.readJSON(A.readForeignServerMsg)(n.value0));throw new Error("Failed pattern match at Pure.Main (line 227, column 28 - line 230, column 98): "+[n.constructor.name])}})(n)(S.append(V.semigroupSignal)(q)(S.append(V.semigroupSignal)(v.map(V.functorSignal)(ln.create)(e))(v.map(V.functorSignal)(fn.create)(P))));return V.runSignal(v.map(V.functorSignal)(function(e){return function(){var e=v.map(x.functorEffect)(u.unInstant)(k.now)(),t=cn.readyState(n.socket)();return G.send(d)({time:e,hasError:l.eq(un.eqReadyState)(t)(un.Closing.value)||l.eq(un.eqReadyState)(t)(un.Closed.value)})()}})(mn))(),V.runSignal(v.map(V.functorSignal)(function(e){return wn(n.socket)(j.writeJSON(A.writeForeignClientMsg)(A.ClientCommand.create(e)))})(e))(),V.runSignal(v.map(V.functorSignal)(function(e){return e?function(){return wn(n.socket)(j.writeJSON(A.writeForeignClientMsg)(A.Quit.value))(),tn.setHref("/")(o)(),T.unit}:r.pure(x.applicativeEffect)(T.unit)})(M))(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(n){return Z.addEventListener(nn.click)(p)(!0)(z.toEventTarget(n))})(R)(),V.runSignal(v.map(V.functorSignal)(function(n){return function(){return g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){return function(){return z.setAttribute("href")(n.gameUrl)(e)(),Y.setTextContent(n.gameUrl)(z.toNode(e))()}})(w)(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){return n.hasError?Y.setTextContent("Error: Not connected")(z.toNode(e)):Y.setTextContent("Connected ("+C.show(C.showInt)(33*n.tickLatency|0)+"ms)")(z.toNode(e))})(h)(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){if(n.hasError)return Y.setTextContent("Server disconnected, try refreshing or switch games")(z.toNode(e));var t=O.pendingSpawn(b.wrap()(n.playerName))(n.game);if(t instanceof g.Nothing)return Y.setTextContent("")(z.toNode(e));if(t instanceof g.Just)return Y.setTextContent("Waiting "+C.show(C.showInt)(s.div(s.euclideanRingInt)(t.value0)(30))+" seconds to respawn")(z.toNode(e));throw new Error("Failed pattern match at Pure.Main (line 286, column 30 - line 288, column 150): "+[t.constructor.name])})(E)(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){return g.maybe(z.setAttribute("style")("width: 0%")(e))(function(n){var t=C.show(C.showNumber)(n.health/B.maxHealth*100);return z.setAttribute("style")("width: "+t+"%")(e)})(_.entityById(b.wrap()(n.playerName))(n.game.scene))})(D)(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){return g.maybe(z.setAttribute("style")("width: 0%")(e))(function(n){var t=C.show(C.showNumber)(n.shield/B.maxShield*100);return z.setAttribute("style")("width: "+t+"%")(e)})(_.entityById(b.wrap()(n.playerName))(n.game.scene))})(N)(),g.maybe(r.pure(x.applicativeEffect)(T.unit))(function(e){var t=z.toNode(e);return function(){var e=i.bindFlipped(x.bindEffect)(X.toArray)(Y.childNodes(t))();return F.traverse(F.traversableArray)(x.applicativeEffect)(function(n){return Y.removeChild(n)(t)})(e)(),F.traverse(y.traversableMap)(x.applicativeEffect)(function(n){return function(){var e=v.map(x.functorEffect)(z.toNode)(Q.createElement("li")(a))();return Y.setTextContent(b.unwrap()(n.id)+": "+C.show(C.showInt)(n.score))(e)(),Y.appendChild(e)(t)()}})(n.game.players)(),T.unit}})(I)(),T.unit}})(V.sampleOn(dn)(W)))(),V.runSignal(v.map(V.functorSignal)(function(e){return wn(n.socket)(j.writeJSON(A.writeForeignClientMsg)(new A.Ping(e.game.lastTick)))})(V.sampleOn(In)(W)))(),V.runSignal(v.map(V.functorSignal)(Cn)(V.sampleOn(t)(W)))()}});e.rotateLeftSignal=gn,e.thrustSignal=pn,e.rotateRightSignal=yn,e.brakeSignal=kn,e.fireSignal=Nn,e.inputSignal=Pn,e.Input=ln,e.GameTick=sn,e.Ws=fn,e.tickSignal=mn,e.pingSignal=In,e.uiUpdateSignal=dn,e.load=Rn,e.gameInfoSelector="#game-info",e.playerListSelector="#player-list",e.latencyInfoSelector="#latency-info",e.gameMessageSelector="#game-message",e.healthSelector="#health-bar",e.shieldSelector="#shield-bar",e.quitSelector="#quit",e.main=Mn,e.safeSend=wn,e.handleServerError=Tn,e.handleServerMessage=En,e.handleClientCommand=Dn,e.handleTick=Fn,e.trackPlayer=vn,e.render=Cn,e.prepareScene=function(n){return function(n){return n}},e.renderExplosions=hn,e.renderBullets=Sn,e.renderScene=bn,e.createSocket=xn,e.destroySocket=function(n){return function(){return cn.close(n)(),T.unit}}}(t),t["Pure.Main"].main();
},{"process":"pBGv"}]},{},["C4Nx"], null)