parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"C4Nx":[function(require,module,exports) {
var process = require("process");
var e=require("process");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t={};!function(e){"use strict";e["Control.Semigroupoid"]=e["Control.Semigroupoid"]||{};var n=e["Control.Semigroupoid"],t=new function(e){this.compose=e}(function(e){return function(n){return function(t){return e(n(t))}}});n.compose=function(e){return e.compose},n.semigroupoidFn=t}(t),function(e){"use strict";e["Control.Category"]=e["Control.Category"]||{};var n=e["Control.Category"],t=e["Control.Semigroupoid"],r=new function(e,n){this.Semigroupoid0=e,this.identity=n}(function(){return t.semigroupoidFn},function(e){return e});n.identity=function(e){return e.identity},n.categoryFn=r}(t),function(e){"use strict";e["Data.Function"]=e["Data.Function"]||{};var n=e["Data.Function"];n.flip=function(e){return function(n){return function(t){return e(t)(n)}}},n.const=function(e){return function(n){return e}}}(t),function(e){"use strict";(t["Data.Functor"]=t["Data.Functor"]||{}).arrayMap=function(e){return function(n){for(var t=n.length,r=new Array(t),a=0;a<t;a++)r[a]=e(n[a]);return r}}}(),function(e){"use strict";(t["Data.Unit"]=t["Data.Unit"]||{}).unit={}}(),function(e){"use strict";e["Data.Unit"]=e["Data.Unit"]||{};var n=e["Data.Unit"],t=e["Data.Unit"];n.unit=t.unit}(t),function(e){"use strict";e["Data.Functor"]=e["Data.Functor"]||{};var n=e["Data.Functor"],t=e["Data.Functor"],r=e["Data.Function"],a=e["Data.Unit"],u=function(e){this.map=e},i=function(e){return e.map},o=new u(t.arrayMap);n.Functor=u,n.map=i,n.void=function(e){return i(e)(r.const(a.unit))},n.functorArray=o}(t),function(e){"use strict";e["Control.Apply"]=e["Control.Apply"]||{};var n=e["Control.Apply"],t=e["Control.Category"],r=e["Data.Function"],a=e["Data.Functor"],u=function(e){return e.apply};n.Apply=function(e,n){this.Functor0=e,this.apply=n},n.apply=u,n.applySecond=function(e){return function(n){return function(i){return u(e)(a.map(e.Functor0())(r.const(t.identity(t.categoryFn)))(n))(i)}}},n.lift2=function(e){return function(n){return function(t){return function(r){return u(e)(a.map(e.Functor0())(n)(t))(r)}}}}}(t),function(e){"use strict";e["Control.Applicative"]=e["Control.Applicative"]||{};var n=e["Control.Applicative"],t=e["Control.Apply"],r=function(e){return e.pure};n.Applicative=function(e,n){this.Apply0=e,this.pure=n},n.pure=r,n.liftA1=function(e){return function(n){return function(a){return t.apply(e.Apply0())(r(e)(n))(a)}}}}(t),function(e){"use strict";e["Control.Bind"]=e["Control.Bind"]||{};var n=e["Control.Bind"],t=e["Data.Function"],r=function(e){return e.bind},a=function(e){return t.flip(r(e))},u=new function(e){this.discard=e}(function(e){return r(e)});n.Bind=function(e,n){this.Apply0=e,this.bind=n},n.bind=r,n.bindFlipped=a,n.discard=function(e){return e.discard},n.composeKleisliFlipped=function(e){return function(n){return function(t){return function(r){return a(e)(n)(t(r))}}}},n.discardUnit=u}(t),function(e){"use strict";e["Data.Bifunctor"]=e["Data.Bifunctor"]||{};var n=e["Data.Bifunctor"],t=e["Control.Category"],r=function(e){return e.bimap};n.Bifunctor=function(e){this.bimap=e},n.lmap=function(e){return function(n){return r(e)(n)(t.identity(t.categoryFn))}},n.rmap=function(e){return r(e)(t.identity(t.categoryFn))}}(t),function(e){"use strict";e.foldrArray=function(e){return function(n){return function(t){for(var r=n,a=t.length-1;a>=0;a--)r=e(t[a])(r);return r}}},e.foldlArray=function(e){return function(n){return function(t){for(var r=n,a=t.length,u=0;u<a;u++)r=e(r)(t[u]);return r}}}}(t["Data.Foldable"]=t["Data.Foldable"]||{}),function(e){"use strict";var n=function(e){return function(n){return e===n}};e.eqIntImpl=n,e.eqNumberImpl=n,e.eqStringImpl=n}(t["Data.Eq"]=t["Data.Eq"]||{}),function(e){"use strict";e["Data.Eq"]=e["Data.Eq"]||{};var n=e["Data.Eq"],t=e["Data.Eq"],r=function(e){this.eq=e},a=new r(t.eqStringImpl),u=new r(t.eqNumberImpl),i=new r(t.eqIntImpl);n.Eq=r,n.eq=function(e){return e.eq},n.eqInt=i,n.eqNumber=u,n.eqString=a}(t),function(e){"use strict";e["Data.Maybe"]=e["Data.Maybe"]||{};var n=e["Data.Maybe"],t=e["Control.Apply"],r=e["Control.Bind"],a=e["Control.Category"],u=e["Data.Eq"],i=e["Data.Functor"],o=function(){function e(){}return e.value=new e,e}(),l=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),c=function(e){return function(n){return function(t){if(t instanceof o)return e;if(t instanceof l)return n(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 217, column 1 - line 217, column 51): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}},s=new i.Functor(function(e){return function(n){return n instanceof l?new l(e(n.value0)):o.value}}),f=new t.Apply(function(){return s},function(e){return function(n){if(e instanceof l)return i.map(s)(e.value0)(n);if(e instanceof o)return o.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[e.constructor.name,n.constructor.name])}}),d=new r.Bind(function(){return f},function(e){return function(n){if(e instanceof l)return n(e.value0);if(e instanceof o)return o.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[e.constructor.name,n.constructor.name])}});n.Nothing=o,n.Just=l,n.maybe=c,n.fromMaybe=function(e){return c(e)(a.identity(a.categoryFn))},n.fromJust=function(e){return function(e){if(e instanceof l)return e.value0;throw new Error("Failed pattern match at Data.Maybe (line 268, column 1 - line 268, column 46): "+[e.constructor.name])}},n.functorMaybe=s,n.applyMaybe=f,n.bindMaybe=d,n.eqMaybe=function(e){return new u.Eq(function(n){return function(t){return n instanceof o&&t instanceof o||n instanceof l&&t instanceof l&&u.eq(e)(n.value0)(t.value0)}})}}(t),function(e){"use strict";e["Data.Monoid"]=e["Data.Monoid"]||{};var n=e["Data.Monoid"];n.Monoid=function(e,n){this.Semigroup0=e,this.mempty=n},n.mempty=function(e){return e.mempty}}(t),function(e){"use strict";e["Data.Semigroup"]=e["Data.Semigroup"]||{};var n=e["Data.Semigroup"];n.Semigroup=function(e){this.append=e},n.append=function(e){return e.append}}(t),function(e){"use strict";e["Data.Foldable"]=e["Data.Foldable"]||{};var n=e["Data.Foldable"],t=e["Data.Foldable"],r=e["Control.Applicative"],a=e["Control.Apply"],u=e["Data.Function"],i=e["Data.Maybe"],o=e["Data.Monoid"],l=e["Data.Semigroup"],c=e["Data.Unit"],s=function(e,n,t){this.foldMap=e,this.foldl=n,this.foldr=t},f=function(e){return e.foldr},d=function(e){return function(n){return function(t){return f(n)((u=a.applySecond(e.Apply0()),function(e){return u(t(e))}))(r.pure(e)(c.unit));var u}}},v=function(e){return e.foldl},m=new s(function(e){return function(n){return function(t){if(t instanceof i.Nothing)return o.mempty(e);if(t instanceof i.Just)return n(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): "+[n.constructor.name,t.constructor.name])}}},function(e){return function(n){return function(t){if(t instanceof i.Nothing)return n;if(t instanceof i.Just)return e(n)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}},function(e){return function(n){return function(t){if(t instanceof i.Nothing)return n;if(t instanceof i.Just)return e(t.value0)(n);throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}}),p=new s(function(e){return(n=p,function(e){return function(t){return f(n)(function(n){return function(r){return l.append(e.Semigroup0())(t(n))(r)}})(o.mempty(e))}})(e);var n},t.foldlArray,t.foldrArray);n.Foldable=s,n.foldr=f,n.foldl=v,n.foldMap=function(e){return e.foldMap},n.traverse_=d,n.for_=function(e){return function(n){return u.flip(d(e)(n))}},n.find=function(e){return function(n){return v(e)(function(e){return function(t){return e instanceof i.Nothing&&n(t)?new i.Just(t):e}})(i.Nothing.value)}},n.foldableArray=p,n.foldableMaybe=m}(t),function(e){"use strict";e["Data.Either"]=e["Data.Either"]||{};var n=e["Data.Either"],t=e["Control.Applicative"],r=e["Control.Apply"],a=e["Data.Bifunctor"],u=e["Data.Foldable"],i=e["Data.Function"],o=e["Data.Functor"],l=e["Data.Maybe"],c=e["Data.Monoid"],s=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),f=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),d=new o.Functor(function(e){return function(n){if(n instanceof s)return new s(n.value0);if(n instanceof f)return new f(e(n.value0));throw new Error("Failed pattern match at Data.Either (line 38, column 1 - line 38, column 52): "+[n.constructor.name])}}),v=new u.Foldable(function(e){return function(n){return function(t){if(t instanceof s)return c.mempty(e);if(t instanceof f)return n(t.value0);throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): "+[n.constructor.name,t.constructor.name])}}},function(e){return function(n){return function(t){if(t instanceof s)return n;if(t instanceof f)return e(n)(t.value0);throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}},function(e){return function(n){return function(t){if(t instanceof s)return n;if(t instanceof f)return e(t.value0)(n);throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}}),m=function(e){return function(n){return function(t){if(t instanceof s)return e(t.value0);if(t instanceof f)return n(t.value0);throw new Error("Failed pattern match at Data.Either (line 238, column 1 - line 238, column 64): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}},p=m(i.const(l.Nothing.value))(l.Just.create),w=new a.Bifunctor(function(e){return function(n){return function(t){if(t instanceof s)return new s(e(t.value0));if(t instanceof f)return new f(n(t.value0));throw new Error("Failed pattern match at Data.Either (line 46, column 1 - line 48, column 36): "+[e.constructor.name,n.constructor.name,t.constructor.name])}}}),y=new r.Apply(function(){return d},function(e){return function(n){if(e instanceof s)return new s(e.value0);if(e instanceof f)return o.map(d)(e.value0)(n);throw new Error("Failed pattern match at Data.Either (line 82, column 1 - line 84, column 30): "+[e.constructor.name,n.constructor.name])}}),g=new t.Applicative(function(){return y},f.create);n.Left=s,n.Right=f,n.either=m,n.hush=p,n.functorEither=d,n.bifunctorEither=w,n.applicativeEither=g,n.foldableEither=v}(t),function(e){"use strict";e["Control.Alt"]=e["Control.Alt"]||{};var n=e["Control.Alt"];n.Alt=function(e,n){this.Functor0=e,this.alt=n},n.alt=function(e){return e.alt}}(t),function(e){"use strict";e["Control.Plus"]=e["Control.Plus"]||{};var n=e["Control.Plus"];n.Plus=function(e,n){this.Alt0=e,this.empty=n},n.empty=function(e){return e.empty}}(t),function(e){"use strict";(t["Data.FunctorWithIndex"]=t["Data.FunctorWithIndex"]||{}).mapWithIndexArray=function(e){return function(n){for(var t=n.length,r=Array(t),a=0;a<t;a++)r[a]=e(a)(n[a]);return r}}}(),function(e){"use strict";e["Data.FunctorWithIndex"]=e["Data.FunctorWithIndex"]||{};var n=e["Data.FunctorWithIndex"],t=e["Data.FunctorWithIndex"],r=e["Data.Functor"],a=new function(e,n){this.Functor0=e,this.mapWithIndex=n}(function(){return r.functorArray},t.mapWithIndexArray);n.mapWithIndex=function(e){return e.mapWithIndex},n.functorWithIndexArray=a}(t),function(e){"use strict";e["Data.FoldableWithIndex"]=e["Data.FoldableWithIndex"]||{};var n=e["Data.FoldableWithIndex"],t=e["Data.Foldable"],r=e["Data.FunctorWithIndex"],a=e["Data.Monoid"],u=e["Data.Semigroup"],i=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),o=function(e,n,t,r){this.Foldable0=e,this.foldMapWithIndex=n,this.foldlWithIndex=t,this.foldrWithIndex=r},l=new o(function(){return t.foldableArray},function(e){return(n=l,function(e){return function(t){return n.foldrWithIndex(function(n){return function(r){return function(a){return u.append(e.Semigroup0())(t(n)(r))(a)}}})(a.mempty(e))}})(e);var n},function(e){return function(n){var a=t.foldl(t.foldableArray)(function(n){return function(t){return e(t.value0)(n)(t.value1)}})(n),u=r.mapWithIndex(r.functorWithIndexArray)(i.create);return function(e){return a(u(e))}}},function(e){return function(n){var a=t.foldr(t.foldableArray)(function(n){return function(t){return e(n.value0)(n.value1)(t)}})(n),u=r.mapWithIndex(r.functorWithIndexArray)(i.create);return function(e){return a(u(e))}}});n.FoldableWithIndex=o,n.foldlWithIndex=function(e){return e.foldlWithIndex},n.foldableWithIndexArray=l}(t),function(e){"use strict";e["Data.NonEmpty"]=e["Data.NonEmpty"]||{};var n=e["Data.NonEmpty"],t=e["Control.Plus"],r=e["Data.Functor"],a=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}();n.NonEmpty=a,n.singleton=function(e){return function(n){return new a(n,t.empty(e))}},n.functorNonEmpty=function(e){return new r.Functor(function(n){return function(t){return new a(n(t.value0),r.map(e)(n)(t.value1))}})}}(t),function(e){"use strict";(t["Data.Traversable"]=t["Data.Traversable"]||{}).traverseArrayImpl=function(){function e(e){return[e]}function n(e){return function(n){return[e,n]}}function t(e){return function(n){return function(t){return[e,n,t]}}}function r(e){return function(n){return e.concat(n)}}return function(a){return function(u){return function(i){return function(o){return function(l){return function c(s,f){switch(f-s){case 0:return i([]);case 1:return u(e)(o(l[s]));case 2:return a(u(n)(o(l[s])))(o(l[s+1]));case 3:return a(a(u(t)(o(l[s])))(o(l[s+1])))(o(l[s+2]));default:var d=s+2*Math.floor((f-s)/4);return a(u(r)(c(s,d)))(c(d,f))}}(0,l.length)}}}}}}()}(),function(e){"use strict";e["Data.Traversable"]=e["Data.Traversable"]||{};var n=e["Data.Traversable"],t=e["Data.Traversable"],r=e["Control.Applicative"],a=e["Control.Apply"],u=e["Control.Category"],i=e["Data.Foldable"],o=e["Data.Functor"],l=function(e,n,t,r){this.Foldable1=e,this.Functor0=n,this.sequence=t,this.traverse=r},c=function(e){return e.traverse},s=new l(function(){return i.foldableArray},function(){return o.functorArray},function(e){return(n=s,function(e){return c(n)(e)(u.identity(u.categoryFn))})(e);var n},function(e){return t.traverseArrayImpl(a.apply(e.Apply0()))(o.map(e.Apply0().Functor0()))(r.pure(e))});n.Traversable=l,n.traverse=c,n.sequence=function(e){return e.sequence},n.for=function(e){return function(n){return function(t){return function(r){return c(n)(e)(r)(t)}}}},n.traversableArray=s}(t),function(e){"use strict";e["Data.Tuple"]=e["Data.Tuple"]||{};var n=e["Data.Tuple"],t=e["Data.Bifunctor"],r=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),a=new t.Bifunctor(function(e){return function(n){return function(t){return new r(e(t.value0),n(t.value1))}}});n.Tuple=r,n.fst=function(e){return e.value0},n.snd=function(e){return e.value1},n.bifunctorTuple=a}(t),function(e){"use strict";e["Data.Unfoldable"]=e["Data.Unfoldable"]||{};var n=e["Data.Unfoldable"];n.Unfoldable=function(e,n){this.Unfoldable10=e,this.unfoldr=n},n.unfoldr=function(e){return e.unfoldr}}(t),function(e){"use strict";e["Data.Unfoldable1"]=e["Data.Unfoldable1"]||{};e["Data.Unfoldable1"].Unfoldable1=function(e){this.unfoldr1=e}}(t),function(e){"use strict";e["Data.List.Types"]=e["Data.List.Types"]||{};var n,t=e["Data.List.Types"],r=e["Control.Alt"],a=e["Control.Applicative"],u=e["Control.Apply"],i=e["Control.Bind"],o=e["Control.Category"],l=e["Control.Plus"],c=e["Data.Foldable"],s=e["Data.FoldableWithIndex"],f=e["Data.Function"],d=e["Data.Functor"],v=e["Data.Maybe"],m=e["Data.Monoid"],p=e["Data.NonEmpty"],w=e["Data.Semigroup"],y=e["Data.Traversable"],g=e["Data.Tuple"],b=e["Data.Unfoldable"],S=e["Data.Unfoldable1"],I=function(){function e(){}return e.value=new e,e}(),h=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),F=function(e){return e},C=new d.Functor(function(e){var n;return n=I.value,function(t){var r,a=n,u=!1;function i(n,r){return r instanceof h&&r.value1 instanceof h&&r.value1.value1 instanceof h?(a=new h(r,n),void(t=r.value1.value1.value1)):(u=!0,(o=n,function(n){for(var t,r,a,u=o,i=!1;!i;)a=n,t=(r=u)instanceof h&&r.value0 instanceof h&&r.value0.value1 instanceof h&&r.value0.value1.value1 instanceof h?(u=r.value1,void(n=new h(e(r.value0.value0),new h(e(r.value0.value1.value0),new h(e(r.value0.value1.value1.value0),a))))):(i=!0,a);return t})((i=r)instanceof h&&i.value1 instanceof h&&i.value1.value1 instanceof I?new h(e(i.value0),new h(e(i.value1.value0),I.value)):i instanceof h&&i.value1 instanceof I?new h(e(i.value0),I.value):I.value));var i,o}for(;!u;)r=i(a,t);return r}}),E=p.functorNonEmpty(C),D=new c.Foldable(function(e){return function(n){return c.foldl(D)(function(t){var r=w.append(e.Semigroup0())(t);return function(e){return r(n(e))}})(m.mempty(e))}},function(e){return function(n){return function(t){var r,a=n,u=!1;function i(n,r){if(r instanceof I)return u=!0,n;if(r instanceof h)return a=e(n)(r.value0),void(t=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 109, column 12 - line 111, column 30): "+[r.constructor.name])}for(;!u;)r=i(a,t);return r}}},function(e){return function(n){var t=c.foldl(D)(f.flip(h.create))(I.value),r=c.foldl(D)(f.flip(e))(n);return function(e){return r(t(e))}}}),T=new s.FoldableWithIndex(function(){return D},function(e){return function(n){return s.foldlWithIndex(T)(function(t){return function(r){var a=w.append(e.Semigroup0())(r),u=n(t);return function(e){return a(u(e))}}})(m.mempty(e))}},function(e){return function(n){var t=c.foldl(D)(function(n){return function(t){return new g.Tuple(n.value0+1|0,e(n.value0)(n.value1)(t))}})(new g.Tuple(0,n));return function(e){return g.snd(t(e))}}},function(e){return function(n){return function(t){var r=c.foldl(D)(function(e){return function(n){return new g.Tuple(e.value0+1|0,new h(n,e.value1))}})(new g.Tuple(0,I.value))(t);return g.snd(c.foldl(D)(function(n){return function(t){return new g.Tuple(n.value0-1|0,e(n.value0-1|0)(t)(n.value1))}})(new g.Tuple(r.value0,n))(r.value1))}}}),N=new w.Semigroup(function(e){return function(n){return c.foldr(D)(h.create)(n)(e)}}),R=new m.Monoid(function(){return N},I.value),x=new w.Semigroup(function(e){return function(n){return new p.NonEmpty(e.value0,w.append(N)(e.value1)(function(e){return new h(e.value0,e.value1)}(n)))}}),k=new y.Traversable(function(){return D},function(){return C},function(e){return y.traverse(k)(e)(o.identity(o.categoryFn))},function(e){return function(n){var t=d.map(e.Apply0().Functor0())(c.foldl(D)(f.flip(h.create))(I.value)),r=c.foldl(D)(function(t){var r=u.lift2(e.Apply0())(f.flip(h.create))(t);return function(e){return r(n(e))}})(a.pure(e)(I.value));return function(e){return t(r(e))}}}),W=new S.Unfoldable1(function(e){return function(n){var t;return(t=n,function(n){var r,a=t,u=!1;function i(t,r){var i=e(t);if(i.value1 instanceof v.Just)return a=i.value1.value0,void(n=new h(i.value0,r));if(i.value1 instanceof v.Nothing)return u=!0,c.foldl(D)(f.flip(h.create))(I.value)(new h(i.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 133, column 22 - line 135, column 61): "+[i.constructor.name])}for(;!u;)r=i(a,n);return r})(I.value)}}),M=new b.Unfoldable(function(){return W},function(e){return function(n){var t;return(t=n,function(n){var r,a=t,u=!1;function i(t,r){var i=e(t);if(i instanceof v.Nothing)return u=!0,c.foldl(D)(f.flip(h.create))(I.value)(r);if(i instanceof v.Just)return a=i.value0.value1,void(n=new h(i.value0.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 140, column 22 - line 142, column 52): "+[i.constructor.name])}for(;!u;)r=i(a,n);return r})(I.value)}}),P=new u.Apply(function(){return C},function(e){return function(n){if(e instanceof I)return I.value;if(e instanceof h)return w.append(N)(d.map(C)(e.value0)(n))(u.apply(P)(e.value1)(n));throw new Error("Failed pattern match at Data.List.Types (line 155, column 1 - line 157, column 48): "+[e.constructor.name,n.constructor.name])}}),A=new u.Apply(function(){return E},function(e){return function(n){return new p.NonEmpty(e.value0(n.value0),w.append(N)(u.apply(P)(e.value1)(new h(n.value0,I.value)))(u.apply(P)(new h(e.value0,e.value1))(n.value1)))}}),L=new i.Bind(function(){return P},function(e){return function(n){if(e instanceof I)return I.value;if(e instanceof h)return w.append(N)(n(e.value0))(i.bind(L)(e.value1)(n));throw new Error("Failed pattern match at Data.List.Types (line 162, column 1 - line 164, column 37): "+[e.constructor.name,n.constructor.name])}}),B=new a.Applicative(function(){return P},function(e){return new h(e,I.value)}),_=new r.Alt(function(){return C},w.append(N)),U=new l.Plus(function(){return _},I.value),O=new a.Applicative(function(){return A},(n=p.singleton(U),function(e){return F(n(e))}));t.Nil=I,t.Cons=h,t.NonEmptyList=F,t.semigroupList=N,t.monoidList=R,t.functorList=C,t.foldableList=D,t.foldableWithIndexList=T,t.unfoldableList=M,t.traversableList=k,t.applicativeList=B,t.bindList=L,t.altList=_,t.plusList=U,t.functorNonEmptyList=E,t.applicativeNonEmptyList=O,t.semigroupNonEmptyList=x}(t),function(e){"use strict";var n=function(e){return function(n){return function(t){return function(r){return function(a){return r<a?e:r===a?n:t}}}}};e.ordIntImpl=n,e.ordNumberImpl=n,e.ordStringImpl=n}(t["Data.Ord"]=t["Data.Ord"]||{}),function(e){"use strict";e["Data.Ordering"]=e["Data.Ordering"]||{};var n=e["Data.Ordering"],t=function(){function e(){}return e.value=new e,e}(),r=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}();n.LT=t,n.GT=r,n.EQ=a}(t),function(e){"use strict";e["Data.Ord"]=e["Data.Ord"]||{};var n=e["Data.Ord"],t=e["Data.Ord"],r=e["Data.Eq"],a=e["Data.Ordering"],u=function(e,n){this.Eq0=e,this.compare=n},i=new u(function(){return r.eqString},t.ordStringImpl(a.LT.value)(a.EQ.value)(a.GT.value)),o=new u(function(){return r.eqNumber},t.ordNumberImpl(a.LT.value)(a.EQ.value)(a.GT.value)),l=new u(function(){return r.eqInt},t.ordIntImpl(a.LT.value)(a.EQ.value)(a.GT.value)),c=function(e){return e.compare};n.compare=c,n.min=function(e){return function(n){return function(t){var r=c(e)(n)(t);if(r instanceof a.LT)return n;if(r instanceof a.EQ)return n;if(r instanceof a.GT)return t;throw new Error("Failed pattern match at Data.Ord (line 158, column 3 - line 161, column 12): "+[r.constructor.name])}}},n.max=function(e){return function(n){return function(t){var r=c(e)(n)(t);if(r instanceof a.LT)return t;if(r instanceof a.EQ)return n;if(r instanceof a.GT)return n;throw new Error("Failed pattern match at Data.Ord (line 167, column 3 - line 170, column 12): "+[r.constructor.name])}}},n.ordInt=l,n.ordNumber=o,n.ordString=i}(t),function(e){"use strict";e["Data.Map.Internal"]=e["Data.Map.Internal"]||{};var n=e["Data.Map.Internal"],t=e["Control.Applicative"],r=e["Control.Apply"],a=e["Control.Category"],u=e["Data.Foldable"],i=e["Data.Function"],o=e["Data.Functor"],l=e["Data.List.Types"],c=e["Data.Maybe"],s=e["Data.Monoid"],f=e["Data.Ord"],d=e["Data.Ordering"],v=e["Data.Semigroup"],m=e["Data.Traversable"],p=e["Data.Tuple"],w=e["Data.Unfoldable"],y=function(){function e(){}return e.value=new e,e}(),g=function(){function e(e,n,t,r){this.value0=e,this.value1=n,this.value2=t,this.value3=r}return e.create=function(n){return function(t){return function(r){return function(a){return new e(n,t,r,a)}}}},e}(),b=function(){function e(e,n,t,r,a,u,i){this.value0=e,this.value1=n,this.value2=t,this.value3=r,this.value4=a,this.value5=u,this.value6=i}return e.create=function(n){return function(t){return function(r){return function(a){return function(u){return function(i){return function(o){return new e(n,t,r,a,u,i,o)}}}}}}},e}(),S=function(){function e(e,n,t){this.value0=e,this.value1=n,this.value2=t}return e.create=function(n){return function(t){return function(r){return new e(n,t,r)}}},e}(),I=function(){function e(e,n,t){this.value0=e,this.value1=n,this.value2=t}return e.create=function(n){return function(t){return function(r){return new e(n,t,r)}}},e}(),h=function(){function e(e,n,t,r,a,u){this.value0=e,this.value1=n,this.value2=t,this.value3=r,this.value4=a,this.value5=u}return e.create=function(n){return function(t){return function(r){return function(a){return function(u){return function(i){return new e(n,t,r,a,u,i)}}}}}},e}(),F=function(){function e(e,n,t,r,a,u){this.value0=e,this.value1=n,this.value2=t,this.value3=r,this.value4=a,this.value5=u}return e.create=function(n){return function(t){return function(r){return function(a){return function(u){return function(i){return new e(n,t,r,a,u,i)}}}}}},e}(),C=function(){function e(e,n,t,r,a,u){this.value0=e,this.value1=n,this.value2=t,this.value3=r,this.value4=a,this.value5=u}return e.create=function(n){return function(t){return function(r){return function(a){return function(u){return function(i){return new e(n,t,r,a,u,i)}}}}}},e}(),E=function(){function e(e,n,t,r){this.value0=e,this.value1=n,this.value2=t,this.value3=r}return e.create=function(n){return function(t){return function(r){return function(a){return new e(n,t,r,a)}}}},e}(),D=function e(n){if(n instanceof y)return l.Nil.value;if(n instanceof g)return v.append(l.semigroupList)(e(n.value0))(v.append(l.semigroupList)(t.pure(l.applicativeList)(n.value2))(e(n.value3)));if(n instanceof b)return v.append(l.semigroupList)(e(n.value0))(v.append(l.semigroupList)(t.pure(l.applicativeList)(n.value2))(v.append(l.semigroupList)(e(n.value3))(v.append(l.semigroupList)(t.pure(l.applicativeList)(n.value5))(e(n.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 612, column 1 - line 612, column 40): "+[n.constructor.name])},T=function(e){return function(n){return new g(y.value,e,n,y.value)}},N=function(e){return function(n){var t=f.compare(e);return function(e){var r,a=!1;function u(r){if(r instanceof y)return a=!0,c.Nothing.value;if(r instanceof g){var u=t(n)(r.value1);return u instanceof d.EQ?(a=!0,new c.Just(r.value2)):u instanceof d.LT?void(e=r.value0):void(e=r.value3)}if(r instanceof b){var i=t(n)(r.value1);if(i instanceof d.EQ)return a=!0,new c.Just(r.value2);var o=t(n)(r.value4);return o instanceof d.EQ?(a=!0,new c.Just(r.value5)):i instanceof d.LT?void(e=r.value0):o instanceof d.GT?void(e=r.value6):void(e=r.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 200, column 5 - line 200, column 22): "+[r.constructor.name])}for(;!a;)r=u(e);return r}}},R=new o.Functor(function(e){return function(n){if(n instanceof y)return y.value;if(n instanceof g)return new g(o.map(R)(e)(n.value0),n.value1,e(n.value2),o.map(R)(e)(n.value3));if(n instanceof b)return new b(o.map(R)(e)(n.value0),n.value1,e(n.value2),o.map(R)(e)(n.value3),n.value4,e(n.value5),o.map(R)(e)(n.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 96, column 1 - line 99, column 110): "+[e.constructor.name,n.constructor.name])}}),x=function(e){return function(n){return function(t){var r,a=e,u=n,i=!1;function o(e,n,r){if(n instanceof l.Nil)return i=!0,r;if(n instanceof l.Cons){if(n.value0 instanceof S)return a=e,u=n.value1,void(t=new g(r,n.value0.value0,n.value0.value1,n.value0.value2));if(n.value0 instanceof I)return a=e,u=n.value1,void(t=new g(n.value0.value0,n.value0.value1,n.value0.value2,r));if(n.value0 instanceof h)return a=e,u=n.value1,void(t=new b(r,n.value0.value0,n.value0.value1,n.value0.value2,n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof F)return a=e,u=n.value1,void(t=new b(n.value0.value0,n.value0.value1,n.value0.value2,r,n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof C)return a=e,u=n.value1,void(t=new b(n.value0.value0,n.value0.value1,n.value0.value2,n.value0.value3,n.value0.value4,n.value0.value5,r));throw new Error("Failed pattern match at Data.Map.Internal (line 418, column 3 - line 423, column 88): "+[n.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 415, column 1 - line 415, column 80): "+[n.constructor.name,r.constructor.name])}for(;!i;)r=o(a,u,t);return r}}},k=function(e){return function(n){return function(t){var r,a=function(n){return function(t){var r,a=n,u=!1;function i(n,r){if(n instanceof l.Nil)return u=!0,new g(r.value0,r.value1,r.value2,r.value3);if(n instanceof l.Cons){if(n.value0 instanceof S)return u=!0,x(e)(n.value1)(new b(r.value0,r.value1,r.value2,r.value3,n.value0.value0,n.value0.value1,n.value0.value2));if(n.value0 instanceof I)return u=!0,x(e)(n.value1)(new b(n.value0.value0,n.value0.value1,n.value0.value2,r.value0,r.value1,r.value2,r.value3));if(n.value0 instanceof h)return a=n.value1,void(t=new E(new g(r.value0,r.value1,r.value2,r.value3),n.value0.value0,n.value0.value1,new g(n.value0.value2,n.value0.value3,n.value0.value4,n.value0.value5)));if(n.value0 instanceof F)return a=n.value1,void(t=new E(new g(n.value0.value0,n.value0.value1,n.value0.value2,r.value0),r.value1,r.value2,new g(r.value3,n.value0.value3,n.value0.value4,n.value0.value5)));if(n.value0 instanceof C)return a=n.value1,void(t=new E(new g(n.value0.value0,n.value0.value1,n.value0.value2,n.value0.value3),n.value0.value4,n.value0.value5,new g(r.value0,r.value1,r.value2,r.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 454, column 5 - line 459, column 108): "+[n.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 451, column 3 - line 451, column 56): "+[n.constructor.name,r.constructor.name])}for(;!u;)r=i(a,t);return r}},u=f.compare(e);return r=l.Nil.value,function(i){var o,c=r,s=!1;function f(r,o){if(o instanceof y)return s=!0,a(r)(new E(y.value,n,t,y.value));if(o instanceof g){var f=u(n)(o.value1);return f instanceof d.EQ?(s=!0,x(e)(r)(new g(o.value0,n,t,o.value3))):f instanceof d.LT?(c=new l.Cons(new S(o.value1,o.value2,o.value3),r),void(i=o.value0)):(c=new l.Cons(new I(o.value0,o.value1,o.value2),r),void(i=o.value3))}if(o instanceof b){var v=u(n)(o.value1);if(v instanceof d.EQ)return s=!0,x(e)(r)(new b(o.value0,n,t,o.value3,o.value4,o.value5,o.value6));var m=u(n)(o.value4);return m instanceof d.EQ?(s=!0,x(e)(r)(new b(o.value0,o.value1,o.value2,o.value3,n,t,o.value6))):v instanceof d.LT?(c=new l.Cons(new h(o.value1,o.value2,o.value3,o.value4,o.value5,o.value6),r),void(i=o.value0)):v instanceof d.GT&&m instanceof d.LT?(c=new l.Cons(new F(o.value0,o.value1,o.value2,o.value4,o.value5,o.value6),r),void(i=o.value3)):(c=new l.Cons(new C(o.value0,o.value1,o.value2,o.value3,o.value4,o.value5),r),void(i=o.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 434, column 3 - line 434, column 55): "+[r.constructor.name,o.constructor.name])}for(;!s;)o=f(c,i);return o}}}},W=new u.Foldable(function(e){return function(n){return function(t){return u.foldMap(l.foldableList)(e)(n)(D(t))}}},function(e){return function(n){return function(t){return u.foldl(l.foldableList)(e)(n)(D(t))}}},function(e){return function(n){return function(t){return u.foldr(l.foldableList)(e)(n)(D(t))}}}),M=new m.Traversable(function(){return W},function(){return R},function(e){return m.traverse(M)(e)(a.identity(a.categoryFn))},function(e){return function(n){return function(a){if(a instanceof y)return t.pure(e)(y.value);if(a instanceof g)return r.apply(e.Apply0())(r.apply(e.Apply0())(r.apply(e.Apply0())(o.map(e.Apply0().Functor0())(g.create)(m.traverse(M)(e)(n)(a.value0)))(t.pure(e)(a.value1)))(n(a.value2)))(m.traverse(M)(e)(n)(a.value3));if(a instanceof b)return r.apply(e.Apply0())(r.apply(e.Apply0())(r.apply(e.Apply0())(r.apply(e.Apply0())(r.apply(e.Apply0())(r.apply(e.Apply0())(o.map(e.Apply0().Functor0())(b.create)(m.traverse(M)(e)(n)(a.value0)))(t.pure(e)(a.value1)))(n(a.value2)))(m.traverse(M)(e)(n)(a.value3)))(t.pure(e)(a.value4)))(n(a.value5)))(m.traverse(M)(e)(n)(a.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 119, column 1 - line 134, column 31): "+[n.constructor.name,a.constructor.name])}}}),P=y.value,A=function(e){return function(n){return function(t){return c.maybe(t)(p.snd)(function(e){return function(n){var t,r=function(n){return function(t){var r,a=n,u=!1;function i(n,r){if(n instanceof l.Nil)return u=!0,r;if(n instanceof l.Cons){if(n.value0 instanceof S&&n.value0.value2 instanceof y&&r instanceof y)return u=!0,x(e)(n.value1)(new g(y.value,n.value0.value0,n.value0.value1,y.value));if(n.value0 instanceof I&&n.value0.value0 instanceof y&&r instanceof y)return u=!0,x(e)(n.value1)(new g(y.value,n.value0.value1,n.value0.value2,y.value));if(n.value0 instanceof S&&n.value0.value2 instanceof g)return a=n.value1,void(t=new b(r,n.value0.value0,n.value0.value1,n.value0.value2.value0,n.value0.value2.value1,n.value0.value2.value2,n.value0.value2.value3));if(n.value0 instanceof I&&n.value0.value0 instanceof g)return a=n.value1,void(t=new b(n.value0.value0.value0,n.value0.value0.value1,n.value0.value0.value2,n.value0.value0.value3,n.value0.value1,n.value0.value2,r));if(n.value0 instanceof S&&n.value0.value2 instanceof b)return u=!0,x(e)(n.value1)(new g(new g(r,n.value0.value0,n.value0.value1,n.value0.value2.value0),n.value0.value2.value1,n.value0.value2.value2,new g(n.value0.value2.value3,n.value0.value2.value4,n.value0.value2.value5,n.value0.value2.value6)));if(n.value0 instanceof I&&n.value0.value0 instanceof b)return u=!0,x(e)(n.value1)(new g(new g(n.value0.value0.value0,n.value0.value0.value1,n.value0.value0.value2,n.value0.value0.value3),n.value0.value0.value4,n.value0.value0.value5,new g(n.value0.value0.value6,n.value0.value1,n.value0.value2,r)));if(n.value0 instanceof h&&n.value0.value2 instanceof y&&n.value0.value5 instanceof y&&r instanceof y)return u=!0,x(e)(n.value1)(new b(y.value,n.value0.value0,n.value0.value1,y.value,n.value0.value3,n.value0.value4,y.value));if(n.value0 instanceof F&&n.value0.value0 instanceof y&&n.value0.value5 instanceof y&&r instanceof y)return u=!0,x(e)(n.value1)(new b(y.value,n.value0.value1,n.value0.value2,y.value,n.value0.value3,n.value0.value4,y.value));if(n.value0 instanceof C&&n.value0.value0 instanceof y&&n.value0.value3 instanceof y&&r instanceof y)return u=!0,x(e)(n.value1)(new b(y.value,n.value0.value1,n.value0.value2,y.value,n.value0.value4,n.value0.value5,y.value));if(n.value0 instanceof h&&n.value0.value2 instanceof g)return u=!0,x(e)(n.value1)(new g(new b(r,n.value0.value0,n.value0.value1,n.value0.value2.value0,n.value0.value2.value1,n.value0.value2.value2,n.value0.value2.value3),n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof F&&n.value0.value0 instanceof g)return u=!0,x(e)(n.value1)(new g(new b(n.value0.value0.value0,n.value0.value0.value1,n.value0.value0.value2,n.value0.value0.value3,n.value0.value1,n.value0.value2,r),n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof F&&n.value0.value5 instanceof g)return u=!0,x(e)(n.value1)(new g(n.value0.value0,n.value0.value1,n.value0.value2,new b(r,n.value0.value3,n.value0.value4,n.value0.value5.value0,n.value0.value5.value1,n.value0.value5.value2,n.value0.value5.value3)));if(n.value0 instanceof C&&n.value0.value3 instanceof g)return u=!0,x(e)(n.value1)(new g(n.value0.value0,n.value0.value1,n.value0.value2,new b(n.value0.value3.value0,n.value0.value3.value1,n.value0.value3.value2,n.value0.value3.value3,n.value0.value4,n.value0.value5,r)));if(n.value0 instanceof h&&n.value0.value2 instanceof b)return u=!0,x(e)(n.value1)(new b(new g(r,n.value0.value0,n.value0.value1,n.value0.value2.value0),n.value0.value2.value1,n.value0.value2.value2,new g(n.value0.value2.value3,n.value0.value2.value4,n.value0.value2.value5,n.value0.value2.value6),n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof F&&n.value0.value0 instanceof b)return u=!0,x(e)(n.value1)(new b(new g(n.value0.value0.value0,n.value0.value0.value1,n.value0.value0.value2,n.value0.value0.value3),n.value0.value0.value4,n.value0.value0.value5,new g(n.value0.value0.value6,n.value0.value1,n.value0.value2,r),n.value0.value3,n.value0.value4,n.value0.value5));if(n.value0 instanceof F&&n.value0.value5 instanceof b)return u=!0,x(e)(n.value1)(new b(n.value0.value0,n.value0.value1,n.value0.value2,new g(r,n.value0.value3,n.value0.value4,n.value0.value5.value0),n.value0.value5.value1,n.value0.value5.value2,new g(n.value0.value5.value3,n.value0.value5.value4,n.value0.value5.value5,n.value0.value5.value6)));if(n.value0 instanceof C&&n.value0.value3 instanceof b)return u=!0,x(e)(n.value1)(new b(n.value0.value0,n.value0.value1,n.value0.value2,new g(n.value0.value3.value0,n.value0.value3.value1,n.value0.value3.value2,n.value0.value3.value3),n.value0.value3.value4,n.value0.value3.value5,new g(n.value0.value3.value6,n.value0.value4,n.value0.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 511, column 9 - line 528, column 136): "+[n.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 508, column 5 - line 528, column 136): "+[n.constructor.name])}for(;!u;)r=i(a,t);return r}},a=function(e){return function(n){var t,a=e,u=!1;function i(e,t){if(t instanceof g&&t.value0 instanceof y&&t.value3 instanceof y)return u=!0,r(e)(y.value);if(t instanceof g)return a=new l.Cons(new I(t.value0,t.value1,t.value2),e),void(n=t.value3);if(t instanceof b&&t.value0 instanceof y&&t.value3 instanceof y&&t.value6 instanceof y)return u=!0,r(new l.Cons(new I(y.value,t.value1,t.value2),e))(y.value);if(t instanceof b)return a=new l.Cons(new C(t.value0,t.value1,t.value2,t.value3,t.value4,t.value5),e),void(n=t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 540, column 5 - line 544, column 107): "+[t.constructor.name])}for(;!u;)t=i(a,n);return t}},u=function(e){var n,t=!1;function r(n){if(n instanceof g&&n.value3 instanceof y)return t=!0,{key:n.value1,value:n.value2};if(n instanceof g)e=n.value3;else{if(n instanceof b&&n.value6 instanceof y)return t=!0,{key:n.value4,value:n.value5};if(!(n instanceof b))throw new Error("Failed pattern match at Data.Map.Internal (line 531, column 33 - line 535, column 45): "+[n.constructor.name]);e=n.value6}}for(;!t;)n=r(e);return n},i=f.compare(e);return t=l.Nil.value,function(o){var s,f=t,v=!1;function m(t,s){if(s instanceof y)return v=!0,c.Nothing.value;if(s instanceof g){var m=i(n)(s.value1);if(s.value3 instanceof y&&m instanceof d.EQ)return v=!0,new c.Just(new p.Tuple(s.value2,r(t)(y.value)));if(m instanceof d.EQ){var w=u(s.value0);return v=!0,new c.Just(new p.Tuple(s.value2,a(new l.Cons(new S(w.key,w.value,s.value3),t))(s.value0)))}return m instanceof d.LT?(f=new l.Cons(new S(s.value1,s.value2,s.value3),t),void(o=s.value0)):(f=new l.Cons(new I(s.value0,s.value1,s.value2),t),void(o=s.value3))}if(s instanceof b){var E=s.value0 instanceof y&&s.value3 instanceof y&&s.value6 instanceof y,D=(m=i(n)(s.value4),i(n)(s.value1));return E&&D instanceof d.EQ?(v=!0,new c.Just(new p.Tuple(s.value2,x(e)(t)(new g(y.value,s.value4,s.value5,y.value))))):E&&m instanceof d.EQ?(v=!0,new c.Just(new p.Tuple(s.value5,x(e)(t)(new g(y.value,s.value1,s.value2,y.value))))):D instanceof d.EQ?(w=u(s.value0),v=!0,new c.Just(new p.Tuple(s.value2,a(new l.Cons(new h(w.key,w.value,s.value3,s.value4,s.value5,s.value6),t))(s.value0)))):m instanceof d.EQ?(w=u(s.value3),v=!0,new c.Just(new p.Tuple(s.value5,a(new l.Cons(new F(s.value0,s.value1,s.value2,w.key,w.value,s.value6),t))(s.value3)))):D instanceof d.LT?(f=new l.Cons(new h(s.value1,s.value2,s.value3,s.value4,s.value5,s.value6),t),void(o=s.value0)):D instanceof d.GT&&m instanceof d.LT?(f=new l.Cons(new F(s.value0,s.value1,s.value2,s.value4,s.value5,s.value6),t),void(o=s.value3)):(f=new l.Cons(new C(s.value0,s.value1,s.value2,s.value3,s.value4,s.value5),t),void(o=s.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 481, column 34 - line 504, column 80): "+[s.constructor.name])}for(;!v;)s=m(f,o);return s}}}(e)(n)(t))}}},L=function(e){return function(n){return function(t){return function(r){var a=n(N(e)(t)(r));if(a instanceof c.Nothing)return A(e)(t)(r);if(a instanceof c.Just)return k(e)(t)(a.value0)(r);throw new Error("Failed pattern match at Data.Map.Internal (line 549, column 15 - line 551, column 25): "+[a.constructor.name])}}}},B=function(e){return function(n){return function(t){return function(r){var a;return u.foldl(l.foldableList)(function(t){return function(r){return L(e)((a=c.maybe(r.value1)(n(r.value1)),function(e){return c.Just.create(a(e))}))(r.value0)(t);var a}})(r)((a=l.unfoldableList,function(e){return w.unfoldr(a)(function(e){var n,t=!1;function r(n){if(n instanceof l.Nil)return t=!0,c.Nothing.value;if(n instanceof l.Cons){if(n.value0 instanceof y)return void(e=n.value1);if(n.value0 instanceof g&&n.value0.value0 instanceof y&&n.value0.value3 instanceof y)return t=!0,c.Just.create(new p.Tuple(new p.Tuple(n.value0.value1,n.value0.value2),n.value1));if(n.value0 instanceof g&&n.value0.value0 instanceof y)return t=!0,c.Just.create(new p.Tuple(new p.Tuple(n.value0.value1,n.value0.value2),new l.Cons(n.value0.value3,n.value1)));if(n.value0 instanceof g)return void(e=new l.Cons(n.value0.value0,new l.Cons(T(n.value0.value1)(n.value0.value2),new l.Cons(n.value0.value3,n.value1))));if(n.value0 instanceof b)return void(e=new l.Cons(n.value0.value0,new l.Cons(T(n.value0.value1)(n.value0.value2),new l.Cons(n.value0.value3,new l.Cons(T(n.value0.value4)(n.value0.value5),new l.Cons(n.value0.value6,n.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 577, column 18 - line 586, column 71): "+[n.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 576, column 3 - line 576, column 19): "+[n.constructor.name])}for(;!t;)n=r(e);return n})(new l.Cons(e,l.Nil.value))})(t))}}}},_=function(e){return new v.Semigroup(function(e){return B(e)(i.const)}(e))};n.insert=k,n.lookup=N,n.fromFoldable=function(e){return function(n){return u.foldl(n)(function(n){return function(t){return k(e)(t.value0)(t.value1)(n)}})(P)}},n.toUnfoldableUnordered=function(e){return function(n){return w.unfoldr(e)(function(e){var n,t=!1;function r(n){if(n instanceof l.Nil)return t=!0,c.Nothing.value;if(n instanceof l.Cons){if(n.value0 instanceof y)return void(e=n.value1);if(n.value0 instanceof g)return t=!0,c.Just.create(new p.Tuple(new p.Tuple(n.value0.value1,n.value0.value2),new l.Cons(n.value0.value0,new l.Cons(n.value0.value3,n.value1))));if(n.value0 instanceof b)return t=!0,c.Just.create(new p.Tuple(new p.Tuple(n.value0.value1,n.value0.value2),new l.Cons(T(n.value0.value4)(n.value0.value5),new l.Cons(n.value0.value0,new l.Cons(n.value0.value3,new l.Cons(n.value0.value6,n.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 598, column 18 - line 603, column 77): "+[n.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 597, column 3 - line 597, column 19): "+[n.constructor.name])}for(;!t;)n=r(e);return n})(new l.Cons(n,l.Nil.value))}},n.delete=A,n.update=function(e){return function(n){return function(t){return function(r){return L(e)(c.maybe(c.Nothing.value)(n))(t)(r)}}}},n.values=D,n.size=function e(n){if(n instanceof y)return 0;if(n instanceof g)return(1+e(n.value0)|0)+e(n.value3)|0;if(n instanceof b)return((2+e(n.value0)|0)+e(n.value3)|0)+e(n.value6)|0;throw new Error("Failed pattern match at Data.Map.Internal (line 662, column 1 - line 662, column 35): "+[n.constructor.name])},n.monoidMap=function(e){return new s.Monoid(function(){return _(e)},P)},n.foldableMap=W,n.traversableMap=M}(t),function(e){"use strict";var n=function(){var e={},n="Pure",t="Throw",r="Catch",a="Sync",u="Async",i="Bind",o="Bracket",l="Fork",c="Sequential",s="Map",f="Apply",d="Alt",v="Cons",m="Resume",p="Release",w="Finalizer",y="Finalized",g="Forked";function b(e,n,t,r){this.tag=e,this._1=n,this._2=t,this._3=r}function S(e){var n=function(n,t,r){return new b(e,n,t,r)};return n.tag=e,n}function I(e){return new b(n,void 0)}function h(e){try{e()}catch(n){setTimeout(function(){throw n},0)}}function F(e,n,t){try{return n(t())}catch(r){return e(r)}}function C(e,n,t){try{return n(t)()}catch(r){return t(e(r))(),I}}var E=function(){var e=1024,n=0,t=0,r=new Array(e),a=!1;function u(){var u;for(a=!0;0!==n;)n--,u=r[t],r[t]=void 0,t=(t+1)%e,u();a=!1}return{isDraining:function(){return a},enqueue:function(i){var o;n===e&&(o=a,u(),a=o),r[(t+n)%e]=i,n++,a||u()}}}();var D=0,T=1,N=2,R=3,x=4,k=5,W=6;function M(e,s,f){var d=0,g=D,S=f,I=null,P=null,L=null,B=null,_=null,U=0,O=0,q=null,G=!0;function J(f){for(var O,H,Q;;)switch(O=null,H=null,Q=null,g){case N:g=T;try{S=L(S),null===B?L=null:(L=B._1,B=B._2)}catch(j){g=k,I=e.left(j),S=null}break;case R:e.isLeft(S)?(g=k,I=S,S=null):null===L?g=k:(g=N,S=e.fromRight(S));break;case T:switch(S.tag){case i:L&&(B=new b(v,L,B)),L=S._2,g=T,S=S._1;break;case n:null===L?(g=k,S=e.right(S._1)):(g=N,S=S._1);break;case a:g=R,S=F(e.left,e.right,S._1);break;case u:return g=x,void(S=C(e.left,S._1,function(e){return function(){d===f&&(d++,E.enqueue(function(){d===f+1&&(g=R,S=e,J(d))}))}}));case t:g=k,I=e.left(S._1),S=null;break;case r:_=new b(v,S,null===L?_:new b(v,new b(m,L,B),_,P),P),L=null,B=null,g=T,S=S._1;break;case o:U++,_=new b(v,S,null===L?_:new b(v,new b(m,L,B),_,P),P),L=null,B=null,g=T,S=S._1;break;case l:g=R,O=M(e,s,S._2),s&&s.register(O),S._1&&O.run(),S=e.right(O);break;case c:g=T,S=A(e,s,S._1)}break;case k:if(L=null,B=null,null===_)g=W,S=P||I||S;else switch(O=_._3,Q=_._1,_=_._2,Q.tag){case r:P&&P!==O&&0===U?g=k:I&&(g=T,S=Q._2(e.fromLeft(I)),I=null);break;case m:P&&P!==O&&0===U||I?g=k:(L=Q._1,B=Q._2,g=N,S=e.fromRight(S));break;case o:U--,null===I&&(H=e.fromRight(S),_=new b(v,new b(p,Q._2,H),_,O),(P===O||U>0)&&(g=T,S=Q._3(H)));break;case p:_=new b(v,new b(y,S,I),_,P),g=T,S=P&&P!==O&&0===U?Q._1.killed(e.fromLeft(P))(Q._2):I?Q._1.failed(e.fromLeft(I))(Q._2):Q._1.completed(e.fromRight(S))(Q._2),I=null,U++;break;case w:U++,_=new b(v,new b(y,S,I),_,P),g=T,S=Q._1;break;case y:U--,g=k,S=Q._1,I=Q._2}break;case W:for(var z in q)q.hasOwnProperty(z)&&(G=G&&q[z].rethrow,h(q[z].handler(S)));return q=null,void(P&&I?setTimeout(function(){throw e.fromLeft(I)},0):e.isLeft(S)&&G&&setTimeout(function(){if(G)throw e.fromLeft(S)},0));case D:g=T;break;case x:return}}function H(e){return function(){if(g===W)return G=G&&e.rethrow,e.handler(S)(),function(){};var n=O++;return(q=q||{})[n]=e,function(){null!==q&&delete q[n]}}}return{kill:function(n,t){return function(){if(g===W)return t(e.right(void 0))(),function(){};var r=H({rethrow:!1,handler:function(){return t(e.right(void 0))}})();switch(g){case D:P=e.left(n),g=W,S=P,J(d);break;case x:null===P&&(P=e.left(n)),0===U&&(g===x&&(_=new b(v,new b(w,S(n)),_,P)),g=k,S=null,I=null,J(++d));break;default:null===P&&(P=e.left(n)),0===U&&(g=k,S=null,I=null)}return r}},join:function(e){return function(){var n=H({rethrow:!1,handler:e})();return g===D&&J(d),n}},onComplete:H,isSuspended:function(){return g===D},run:function(){g===D&&(E.isDraining()?J(d):E.enqueue(function(){J(d)}))}}}function P(n,t,r,a){var i=0,o={},l=0,c={},m=new Error("[ParAff] Early exit"),p=null,w=e;function y(t,r,a){var u,i,l=r,c=null,m=null,p=0,w={};e:for(;;)switch(u=null,l.tag){case g:if(l._3===e&&(u=o[l._1],w[p++]=u.kill(t,function(e){return function(){0===--p&&a(e)()}})),null===c)break e;l=c._2,null===m?c=null:(c=m._1,m=m._2);break;case s:l=l._2;break;case f:case d:c&&(m=new b(v,c,m)),c=l,l=l._1}if(0===p)a(n.right(void 0))();else for(i=0,u=p;i<u;i++)w[i]=w[i]();return w}function S(t){return function(r){return function(){delete o[t._1],t._3=r,function t(r,u,i){var o,v,w,g,b,S;for(n.isLeft(r)?(o=r,v=null):(v=r,o=null);;){if(w=null,g=null,b=null,S=null,null!==p)return;if(null===u)return void a(o||v)();if(u._3!==e)return;switch(u.tag){case s:null===o?(u._3=n.right(u._1(n.fromRight(v))),v=u._3):u._3=o;break;case f:if(w=u._1._3,g=u._2._3,o){if(u._3=o,b=!0,S=l++,c[S]=y(m,o===w?u._2:u._1,function(){return function(){delete c[S],b?b=!1:null===i?t(o,null,null):t(o,i._1,i._2)}}),b)return void(b=!1)}else{if(w===e||g===e)return;v=n.right(n.fromRight(w)(n.fromRight(g))),u._3=v}break;case d:if(w=u._1._3,g=u._2._3,w===e&&n.isLeft(g)||g===e&&n.isLeft(w))return;if(w!==e&&n.isLeft(w)&&g!==e&&n.isLeft(g))o=v===w?g:w,v=null,u._3=o;else if(u._3=v,b=!0,S=l++,c[S]=y(m,v===w?u._2:u._1,function(){return function(){delete c[S],b?b=!1:null===i?t(v,null,null):t(v,i._1,i._2)}}),b)return void(b=!1)}null===i?u=null:(u=i._1,i=i._2)}}(r,t._2._1,t._2._2)}}}return function(){var a,u,l=T,c=r,m=null,p=null;e:for(;;)switch(a=null,u=null,l){case T:switch(c.tag){case s:m&&(p=new b(v,m,p)),m=new b(s,c._1,e,e),c=c._2;break;case f:m&&(p=new b(v,m,p)),m=new b(f,e,c._2,e),c=c._1;break;case d:m&&(p=new b(v,m,p)),m=new b(d,e,c._2,e),c=c._1;break;default:u=i++,l=k,a=c,c=new b(g,u,new b(v,m,p),e),(a=M(n,t,a)).onComplete({rethrow:!1,handler:S(c)})(),o[u]=a,t&&t.register(a)}break;case k:if(null===m)break e;m._1===e?(m._1=c,l=T,c=m._2,m._2=e):(m._2=c,c=m,null===p?m=null:(m=p._1,p=p._2))}for(w=c,u=0;u<i;u++)o[u].run()}(),function(e){return new b(u,function(t){return function(){return function(e,t){var r;for(var a in p=n.left(e),c)if(c.hasOwnProperty(a))for(a in r=c[a])r.hasOwnProperty(a)&&r[a]();c=null;var i=y(e,w,t);return function(e){return new b(u,function(e){return function(){for(var e in i)i.hasOwnProperty(e)&&i[e]();return I}})}}(e,t)}})}}function A(e,n,t){return new b(u,function(r){return function(){return P(e,n,t,r)}})}return b.EMPTY=e,b.Pure=S(n),b.Throw=S(t),b.Catch=S(r),b.Sync=S(a),b.Async=S(u),b.Bind=S(i),b.Bracket=S(o),b.Fork=S(l),b.Seq=S(c),b.ParMap=S(s),b.ParApply=S(f),b.ParAlt=S(d),b.Fiber=M,b.Supervisor=function(e){var n={},t=0,r=0;return{register:function(e){var a=t++;e.onComplete({rethrow:!0,handler:function(e){return function(){r--,delete n[a]}}})(),n[a]=e,r++},isEmpty:function(){return 0===r},killAll:function(u,i){return function(){if(0===r)return i();var o=0,l={};function c(t){l[t]=n[t].kill(u,function(n){return function(){delete l[t],o--,e.isLeft(n)&&e.fromLeft(n)&&setTimeout(function(){throw e.fromLeft(n)},0),0===o&&i()}})()}for(var s in n)n.hasOwnProperty(s)&&(o++,c(s));return n={},t=0,r=0,function(e){return new b(a,function(){for(var e in l)l.hasOwnProperty(e)&&l[e]()})}}}}},b.Scheduler=E,b.nonCanceler=I,b}();e._pure=n.Pure,e._throwError=n.Throw,e._catchError=function(e){return function(t){return n.Catch(e,t)}},e._map=function(e){return function(t){return t.tag===n.Pure.tag?n.Pure(e(t._1)):n.Bind(t,function(t){return n.Pure(e(t))})}},e._bind=function(e){return function(t){return n.Bind(e,t)}},e._liftEffect=n.Sync,e._parAffMap=function(e){return function(t){return n.ParMap(e,t)}},e._parAffApply=function(e){return function(t){return n.ParApply(e,t)}},e.makeAff=n.Async,e._makeFiber=function(e,t){return function(){return n.Fiber(e,null,t)}},e._sequential=n.Seq}(t["Effect.Aff"]=t["Effect.Aff"]||{}),function(e){"use strict";e["Control.Monad"]=e["Control.Monad"]||{};var n=e["Control.Monad"],t=e["Control.Applicative"],r=e["Control.Bind"];n.Monad=function(e,n){this.Applicative0=e,this.Bind1=n},n.ap=function(e){return function(n){return function(a){return r.bind(e.Bind1())(n)(function(n){return r.bind(e.Bind1())(a)(function(r){return t.pure(e.Applicative0())(n(r))})})}}}}(t),function(e){"use strict";e["Control.Monad.Error.Class"]=e["Control.Monad.Error.Class"]||{};var n=e["Control.Monad.Error.Class"],t=e["Control.Applicative"],r=e["Data.Either"],a=e["Data.Functor"];n.throwError=function(e){return e.throwError},n.MonadThrow=function(e,n){this.Monad0=e,this.throwError=n},n.MonadError=function(e,n){this.MonadThrow0=e,this.catchError=n},n.try=function(e){return function(n){return e.catchError(a.map(e.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(r.Right.create)(n))((u=t.pure(e.MonadThrow0().Monad0().Applicative0()),function(e){return u(r.Left.create(e))}));var u}}}(t),function(e){"use strict";e["Control.Parallel.Class"]=e["Control.Parallel.Class"]||{};var n=e["Control.Parallel.Class"];n.parallel=function(e){return e.parallel},n.sequential=function(e){return e.sequential},n.Parallel=function(e,n,t,r){this.Applicative1=e,this.Monad0=n,this.parallel=t,this.sequential=r}}(t),function(e){"use strict";e["Control.Parallel"]=e["Control.Parallel"]||{};var n=e["Control.Parallel"],t=e["Control.Category"],r=e["Control.Parallel.Class"],a=e["Data.Foldable"];n.parSequence_=function(e){return function(n){return function(e){return function(n){return function(t){var u,i=r.sequential(e),o=a.traverse_(e.Applicative1())(n)((u=r.parallel(e),function(e){return u(t(e))}));return function(e){return i(o(e))}}}}(e)(n)(t.identity(t.categoryFn))}}}(t),function(e){"use strict";e.pureE=function(e){return function(){return e}},e.bindE=function(e){return function(n){return function(){return n(e())()}}}}(t.Effect=t.Effect||{}),function(e){"use strict";e.Effect=e.Effect||{};var n=e.Effect,t=e.Effect,r=e["Control.Applicative"],a=e["Control.Apply"],u=e["Control.Bind"],i=e["Control.Monad"],o=e["Data.Functor"],l=new i.Monad(function(){return f},function(){return c}),c=new u.Bind(function(){return s},t.bindE),s=new a.Apply(function(){return d},i.ap(l)),f=new r.Applicative(function(){return s},t.pureE),d=new o.Functor(r.liftA1(f));n.functorEffect=d,n.applicativeEffect=f,n.bindEffect=c}(t),function(e){"use strict";e["Effect.Class"]=e["Effect.Class"]||{};var n=e["Effect.Class"];n.liftEffect=function(e){return e.liftEffect},n.MonadEffect=function(e,n){this.Monad0=e,this.liftEffect=n}}(t),function(e){"use strict";(t["Partial.Unsafe"]=t["Partial.Unsafe"]||{}).unsafePartial=function(e){return e()}}(),function(e){"use strict";(t["Partial"]=t["Partial"]||{}).crashWith=function(){return function(e){throw new Error(e)}}}(),function(e){"use strict";e.Partial=e.Partial||{};var n=e.Partial,t=e.Partial;n.crashWith=t.crashWith}(t),function(e){"use strict";e["Partial.Unsafe"]=e["Partial.Unsafe"]||{};var n=e["Partial.Unsafe"],t=e["Partial.Unsafe"],r=e.Partial;n.unsafeCrashWith=function(e){return t.unsafePartial(function(n){return r.crashWith()(e)})}}(t),function(e){"use strict";(t["Unsafe.Coerce"]=t["Unsafe.Coerce"]||{}).unsafeCoerce=function(e){return e}}(),function(e){"use strict";e["Unsafe.Coerce"]=e["Unsafe.Coerce"]||{};var n=e["Unsafe.Coerce"],t=e["Unsafe.Coerce"];n.unsafeCoerce=t.unsafeCoerce}(t),function(e){"use strict";e["Effect.Aff"]=e["Effect.Aff"]||{};var n,t,r=e["Effect.Aff"],a=e["Effect.Aff"],u=e["Control.Applicative"],i=e["Control.Apply"],o=e["Control.Bind"],l=e["Control.Monad"],c=e["Control.Monad.Error.Class"],s=e["Control.Parallel"],f=e["Control.Parallel.Class"],d=e["Data.Either"],v=e["Data.Foldable"],m=e["Data.Function"],p=e["Data.Functor"],w=e["Data.Monoid"],y=e["Data.Semigroup"],g=e["Data.Unit"],b=e.Effect,S=e["Effect.Class"],I=e["Partial.Unsafe"],h=e["Unsafe.Coerce"],F=new p.Functor(a._parAffMap),C=new p.Functor(a._map),E={isLeft:function(e){if(e instanceof d.Left)return!0;if(e instanceof d.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 390, column 12 - line 392, column 20): "+[e.constructor.name])},fromLeft:function(e){if(e instanceof d.Left)return e.value0;if(e instanceof d.Right)return I.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 395, column 20 - line 397, column 54): "+[e.constructor.name])},fromRight:function(e){if(e instanceof d.Right)return e.value0;if(e instanceof d.Left)return I.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 400, column 21 - line 402, column 54): "+[e.constructor.name])},left:d.Left.create,right:d.Right.create},D=function(e){return function(){var n=function(e){return a._makeFiber(E,e)}(e)();return n.run(),n}},T=new i.Apply(function(){return F},a._parAffApply),N=new l.Monad(function(){return k},function(){return R}),R=new o.Bind(function(){return x},a._bind),x=new i.Apply(function(){return C},l.ap(N)),k=new u.Applicative(function(){return x},a._pure),W=new S.MonadEffect(function(){return N},a._liftEffect),M=new c.MonadThrow(function(){return N},a._throwError),P=new c.MonadError(function(){return M},a._catchError),A=new f.Parallel(function(){return L},function(){return N},h.unsafeCoerce,a._sequential),L=new u.Applicative(function(){return T},(n=f.parallel(A),t=u.pure(k),function(e){return n(t(e))})),B=new y.Semigroup(function(e){return function(n){return function(t){return s.parSequence_(A)(v.foldableArray)([e(t),n(t)])}}}),_=m.const(u.pure(k)(g.unit)),U=new w.Monoid(function(){return B},_);r.runAff_=function(e){return function(n){return p.void(b.functorEffect)(function(e){return function(n){return D(o.bindFlipped(R)((t=S.liftEffect(W),function(n){return t(e(n))}))(c.try(P)(n)));var t}}(e)(n))}},r.applicativeAff=k,r.bindAff=R,r.monoidCanceler=U,r.makeAff=a.makeAff}(t),function(e){"use strict";e.error=function(e){return new Error(e)},e.message=function(e){return e.message},e.catchException=function(e){return function(n){return function(){try{return n()}catch(t){return t instanceof Error||"[object Error]"===Object.prototype.toString.call(t)?e(t)():e(new Error(t.toString()))()}}}}}(t["Effect.Exception"]=t["Effect.Exception"]||{}),function(e){"use strict";e["Effect.Exception"]=e["Effect.Exception"]||{};var n=e["Effect.Exception"],t=e["Effect.Exception"],r=e["Control.Applicative"],a=e["Data.Either"],u=e["Data.Functor"],i=e.Effect;n.try=function(e){return t.catchException((n=r.pure(i.applicativeEffect),function(e){return n(a.Left.create(e))}))(u.map(i.functorEffect)(a.Right.create)(e));var n},n.error=t.error,n.message=t.message}(t),function(e){"use strict";e.canvasElementToImageSource=function(e){return e},e.tryLoadImageImpl=function(e){return function(n){return function(t){return function(){var r=new Image;r.src=e,r.addEventListener("load",function(){t(r)()},!1),r.addEventListener("error",function(e){n()},!1)}}}},e.getCanvasElementByIdImpl=function(e,n,t){return function(){var r=document.getElementById(e);return r&&r instanceof HTMLCanvasElement?n(r):t}},e.getContext2D=function(e){return function(){return e.getContext("2d")}},e.getCanvasWidth=function(e){return function(){return e.width}},e.getCanvasHeight=function(e){return function(){return e.height}},e.setLineWidth=function(e){return function(n){return function(){e.lineWidth=n}}},e.setFillStyle=function(e){return function(n){return function(){e.fillStyle=n}}},e.beginPath=function(e){return function(){e.beginPath()}},e.stroke=function(e){return function(){e.stroke()}},e.fill=function(e){return function(){e.fill()}},e.lineTo=function(e){return function(n){return function(t){return function(){e.lineTo(n,t)}}}},e.moveTo=function(e){return function(n){return function(t){return function(){e.moveTo(n,t)}}}},e.arc=function(e){return function(n){return function(){e.arc(n.x,n.y,n.radius,n.start,n.end)}}},e.fillRect=function(e){return function(n){return function(){e.fillRect(n.x,n.y,n.width,n.height)}}},e.clearRect=function(e){return function(n){return function(){e.clearRect(n.x,n.y,n.width,n.height)}}},e.scale=function(e){return function(n){return function(){e.scale(n.scaleX,n.scaleY)}}},e.rotate=function(e){return function(n){return function(){e.rotate(n)}}},e.translate=function(e){return function(n){return function(){e.translate(n.translateX,n.translateY)}}},e.save=function(e){return function(){e.save()}},e.restore=function(e){return function(){e.restore()}},e.drawImage=function(e){return function(n){return function(t){return function(r){return function(){e.drawImage(n,t,r)}}}}},e.drawImageScale=function(e){return function(n){return function(t){return function(r){return function(a){return function(u){return function(){e.drawImage(n,t,r,a,u)}}}}}}},e.createRadialGradient=function(e){return function(n){return function(){return e.createRadialGradient(n.x0,n.y0,n.r0,n.x1,n.y1,n.r1)}}},e.addColorStop=function(e){return function(n){return function(t){return function(){e.addColorStop(n,t)}}}}}(t["Graphics.Canvas"]=t["Graphics.Canvas"]||{}),function(e){"use strict";e["Graphics.Canvas"]=e["Graphics.Canvas"]||{};var n=e["Graphics.Canvas"],t=e["Graphics.Canvas"],r=e["Data.Maybe"];n.getCanvasElementById=function(e){return t.getCanvasElementByIdImpl(e,r.Just.create,r.Nothing.value)},n.withContext=function(e){return function(n){return function(){t.save(e)();var r=n();return t.restore(e)(),r}}},n.tryLoadImage=function(e){return function(n){return t.tryLoadImageImpl(e)(n(r.Nothing.value))(function(e){return n(r.Just.create(e))})}},n.getContext2D=t.getContext2D,n.getCanvasWidth=t.getCanvasWidth,n.getCanvasHeight=t.getCanvasHeight,n.setLineWidth=t.setLineWidth,n.setFillStyle=t.setFillStyle,n.beginPath=t.beginPath,n.stroke=t.stroke,n.fill=t.fill,n.lineTo=t.lineTo,n.moveTo=t.moveTo,n.arc=t.arc,n.fillRect=t.fillRect,n.clearRect=t.clearRect,n.scale=t.scale,n.rotate=t.rotate,n.translate=t.translate,n.save=t.save,n.restore=t.restore,n.canvasElementToImageSource=t.canvasElementToImageSource,n.drawImage=t.drawImage,n.drawImageScale=t.drawImageScale,n.createRadialGradient=t.createRadialGradient,n.addColorStop=t.addColorStop}(t),function(e){"use strict";e.Assets=e.Assets||{};var n,t=e.Assets,r=e["Control.Applicative"],a=e["Control.Bind"],u=e["Data.Either"],i=e["Data.List.Types"],o=e["Data.Map.Internal"],l=e["Data.Maybe"],c=e["Data.Monoid"],s=e["Data.Ord"],f=e["Data.Tuple"],d=e["Effect.Aff"],v=e["Effect.Exception"],m=e["Graphics.Canvas"],p=a.bind(d.bindAff)((n="/art/ship.png",d.makeAff(function(e){return function(){return m.tryLoadImage(n)(function(t){return e(l.maybe(u.Left.create(v.error("Could not load "+n)))(u.Right.create)(t))})(),c.mempty(d.monoidCanceler)}})))(function(e){return r.pure(d.applicativeAff)(o.fromFoldable(s.ordString)(i.foldableList)(new i.Cons(new f.Tuple("ship",e),i.Nil.value)))});t.load=p}(t),function(e){"use strict";e["Control.Monad.Except.Trans"]=e["Control.Monad.Except.Trans"]||{};var n=e["Control.Monad.Except.Trans"],t=e["Control.Alt"],r=e["Control.Applicative"],a=e["Control.Apply"],u=e["Control.Bind"],i=e["Control.Monad"],o=e["Control.Monad.Error.Class"],l=e["Data.Either"],c=e["Data.Functor"],s=e["Data.Semigroup"],f=function(e){return e},d=function(e){return function(n){return e(n)}},v=function(e){return new c.Functor(function(n){return d(c.map(e)(c.map(l.functorEither)(n)))})},m=function(e){return new i.Monad(function(){return y(e)},function(){return p(e)})},p=function(e){return new u.Bind(function(){return w(e)},function(n){return function(t){return u.bind(e.Bind1())(n)(l.either((a=r.pure(e.Applicative0()),function(e){return a(l.Left.create(e))}))(function(e){return t(e)}));var a}})},w=function(e){return new a.Apply(function(){return v(e.Bind1().Apply0().Functor0())},i.ap(m(e)))},y=function(e){return new r.Applicative(function(){return w(e)},(n=r.pure(e.Applicative0()),function(e){return f(n(l.Right.create(e)))}));var n};n.ExceptT=f,n.runExceptT=function(e){return e},n.withExceptT=function(e){return function(n){return function(t){var r;return f(c.map(e)((r=n,function(e){if(e instanceof l.Right)return new l.Right(e.value0);if(e instanceof l.Left)return new l.Left(r(e.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 42, column 3 - line 42, column 32): "+[r.constructor.name,e.constructor.name])}))(t))}}},n.mapExceptT=d,n.functorExceptT=v,n.applicativeExceptT=y,n.bindExceptT=p,n.altExceptT=function(e){return function(n){return new t.Alt(function(){return v(n.Bind1().Apply0().Functor0())},function(t){return function(a){return u.bind(n.Bind1())(t)(function(t){if(t instanceof l.Right)return r.pure(n.Applicative0())(new l.Right(t.value0));if(t instanceof l.Left)return u.bind(n.Bind1())(a)(function(a){if(a instanceof l.Right)return r.pure(n.Applicative0())(new l.Right(a.value0));if(a instanceof l.Left)return r.pure(n.Applicative0())(new l.Left(s.append(e)(t.value0)(a.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[a.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])})}})}},n.monadThrowExceptT=function(e){return new o.MonadThrow(function(){return m(e)},(n=r.pure(e.Applicative0()),function(e){return f(n(l.Left.create(e)))}));var n}}(t),function(e){"use strict";e["Data.Newtype"]=e["Data.Newtype"]||{};var n=e["Data.Newtype"];n.unwrap=function(e){return e.unwrap},n.wrap=function(e){return e.wrap},n.Newtype=function(e,n){this.unwrap=e,this.wrap=n}}(t),function(e){"use strict";e["Data.Identity"]=e["Data.Identity"]||{};var n=e["Data.Identity"],t=e["Control.Applicative"],r=e["Control.Apply"],a=e["Control.Bind"],u=e["Control.Monad"],i=e["Data.Functor"],o=function(e){return e},l=new e["Data.Newtype"].Newtype(function(e){return e},o),c=new i.Functor(function(e){return function(n){return e(n)}}),s=new r.Apply(function(){return c},function(e){return function(n){return e(n)}}),f=new a.Bind(function(){return s},function(e){return function(n){return n(e)}}),d=new t.Applicative(function(){return s},o),v=new u.Monad(function(){return d},function(){return f});n.Identity=o,n.newtypeIdentity=l,n.functorIdentity=c,n.applicativeIdentity=d,n.monadIdentity=v}(t),function(e){"use strict";e["Control.Monad.Except"]=e["Control.Monad.Except"]||{};var n,t=e["Control.Monad.Except"],r=e["Control.Monad.Except.Trans"],a=e["Data.Identity"],u=e["Data.Newtype"],i=r.withExceptT(a.functorIdentity),o=(n=u.unwrap(a.newtypeIdentity),function(e){return n(r.runExceptT(e))});t.runExcept=o,t.mapExcept=function(e){return r.mapExceptT((n=u.unwrap(a.newtypeIdentity),function(t){return a.Identity(e(n(t)))}));var n},t.withExcept=i}(t),function(e){"use strict";e["Control.Monad.State"]=e["Control.Monad.State"]||{};var n=e["Control.Monad.State"],t=e["Data.Identity"],r=e["Data.Newtype"];n.runState=function(e){var n=r.unwrap(t.newtypeIdentity);return function(t){return n(e(t))}}}(t),function(e){"use strict";e["Control.Monad.State.Class"]=e["Control.Monad.State.Class"]||{};var n=e["Control.Monad.State.Class"],t=e["Data.Tuple"],r=e["Data.Unit"],a=function(e){return e.state};n.MonadState=function(e,n){this.Monad0=e,this.state=n},n.gets=function(e){return function(n){return a(e)(function(e){return new t.Tuple(n(e),e)})}},n.modify_=function(e){return function(n){return a(e)(function(e){return new t.Tuple(r.unit,n(e))})}}}(t),function(e){"use strict";e["Control.Monad.State.Trans"]=e["Control.Monad.State.Trans"]||{};var n=e["Control.Monad.State.Trans"],t=e["Control.Applicative"],r=e["Control.Apply"],a=e["Control.Bind"],u=e["Control.Monad"],i=e["Control.Monad.State.Class"],o=e["Data.Functor"],l=e["Data.Tuple"],c=function(e){return new u.Monad(function(){return d(e)},function(){return s(e)})},s=function(e){return new a.Bind(function(){return f(e)},function(n){return function(t){return function(r){return a.bind(e.Bind1())(n(r))(function(e){return t(e.value0)(e.value1)})}}})},f=function(e){return new r.Apply(function(){return n=e.Bind1().Apply0().Functor0(),new o.Functor(function(e){return function(t){return function(r){return o.map(n)(function(n){return new l.Tuple(e(n.value0),n.value1)})(t(r))}}});var n},u.ap(c(e)))},d=function(e){return new t.Applicative(function(){return f(e)},function(n){return function(r){return t.pure(e.Applicative0())(new l.Tuple(n,r))}})};n.applicativeStateT=d,n.bindStateT=s,n.monadStateStateT=function(e){return new i.MonadState(function(){return c(e)},function(n){return r=t.pure(e.Applicative0()),function(e){return r(n(e))};var r})}}(t),function(e){"use strict";(t["Data.Array"]=t["Data.Array"]||{}).range=function(e){return function(n){for(var t=e>n?-1:1,r=new Array(t*(n-e)+1),a=e,u=0;a!==n;)r[u++]=a,a+=t;return r[u]=a,r}}}(),function(e){"use strict";e["Data.Array"]=e["Data.Array"]||{};var n=e["Data.Array"],t=e["Data.Array"];n.range=t.range}(t),function(e){"use strict";e["Data.Boolean"]=e["Data.Boolean"]||{};e["Data.Boolean"].otherwise=!0}(t),function(e){"use strict";e.topInt=2147483647,e.bottomInt=-2147483648}(t["Data.Bounded"]=t["Data.Bounded"]||{}),function(e){"use strict";e["Data.Bounded"]=e["Data.Bounded"]||{};var n=e["Data.Bounded"],t=e["Data.Bounded"],r=e["Data.Ord"],a=new function(e,n,t){this.Ord0=e,this.bottom=n,this.top=t}(function(){return r.ordInt},t.bottomInt,t.topInt);n.bottom=function(e){return e.bottom},n.top=function(e){return e.top},n.boundedInt=a}(t),function(e){"use strict";e["Data.List"]=e["Data.List"]||{};var n,t=e["Data.List"],r=e["Control.Bind"],a=e["Control.Category"],u=e["Data.Boolean"],i=e["Data.Foldable"],o=e["Data.List.Types"],l=e["Data.Maybe"],c=(n=o.Nil.value,function(e){var t,r=n,a=!1;function u(n,t){if(t instanceof o.Nil)return a=!0,n;if(t instanceof o.Cons)return r=new o.Cons(t.value0,n),void(e=t.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[n.constructor.name,t.constructor.name])}for(;!a;)t=u(r,e);return t}),s=function(e){var n;return n=o.Nil.value,function(t){var r,a=n,u=!1;function i(n,r){if(r instanceof o.Nil)return u=!0,c(n);if(r instanceof o.Cons){var i=e(r.value0);if(i instanceof l.Nothing)return a=n,void(t=r.value1);if(i instanceof l.Just)return a=new o.Cons(i.value0,n),void(t=r.value1);throw new Error("Failed pattern match at Data.List (line 419, column 5 - line 421, column 32): "+[i.constructor.name])}throw new Error("Failed pattern match at Data.List (line 417, column 3 - line 417, column 27): "+[n.constructor.name,r.constructor.name])}for(;!u;)r=i(a,t);return r}},f=s(a.identity(a.categoryFn));t.range=function(e){return function(n){if(e===n)return t=e,new o.Cons(t,o.Nil.value);var t,r;if(u.otherwise)return(r=n,function(e){return function(n){return function(t){var a,i=r,l=e,c=n,s=!1;function f(e,n,r,a){if(e===n)return s=!0,new o.Cons(e,a);if(u.otherwise)return i=e+r|0,l=n,c=r,void(t=new o.Cons(e,a));throw new Error("Failed pattern match at Data.List (line 148, column 3 - line 149, column 65): "+[e.constructor.name,n.constructor.name,r.constructor.name,a.constructor.name])}for(;!s;)a=f(i,l,c,t);return a}}})(e)(e>n?1:-1)(o.Nil.value);throw new Error("Failed pattern match at Data.List (line 144, column 1 - line 144, column 32): "+[e.constructor.name,n.constructor.name])}},t.snoc=function(e){return function(n){return i.foldr(o.foldableList)(o.Cons.create)(new o.Cons(n,o.Nil.value))(e)}},t.concat=function(e){return r.bind(o.bindList)(e)(a.identity(a.categoryFn))},t.filter=function(e){var n;return n=o.Nil.value,function(t){var r,a=n,i=!1;function l(n,r){if(r instanceof o.Nil)return i=!0,c(n);if(r instanceof o.Cons){if(e(r.value0))return a=new o.Cons(r.value0,n),void(t=r.value1);if(u.otherwise)return a=n,void(t=r.value1)}throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[n.constructor.name,r.constructor.name])}for(;!i;)r=l(a,t);return r}},t.mapMaybe=s,t.catMaybes=f}(t),function(e){"use strict";e["Data.Compactable"]=e["Data.Compactable"]||{};var n=e["Data.Compactable"],t=e["Control.Alt"],r=e["Control.Applicative"],a=e["Control.Plus"],u=e["Data.Either"],i=e["Data.Foldable"],o=e["Data.List"],l=e["Data.List.Types"],c=new function(e,n){this.compact=e,this.separate=n}(o.catMaybes,i.foldl(l.foldableList)(function(e){return function(n){if(n instanceof u.Left)return{left:t.alt(l.altList)(e.left)(r.pure(l.applicativeList)(n.value0)),right:e.right};if(n instanceof u.Right)return{right:t.alt(l.altList)(e.right)(r.pure(l.applicativeList)(n.value0)),left:e.left};throw new Error("Failed pattern match at Data.Compactable (line 131, column 14 - line 133, column 54): "+[n.constructor.name])}})({left:a.empty(l.plusList),right:a.empty(l.plusList)}));n.compactableList=c}(t),function(e){"use strict";e["Data.DateTime.Instant"]=e["Data.DateTime.Instant"]||{};e["Data.DateTime.Instant"].unInstant=function(e){return e}}(t),function(e){"use strict";e["Data.Exists"]=e["Data.Exists"]||{};var n=e["Data.Exists"],t=e["Unsafe.Coerce"],r=t.unsafeCoerce,a=t.unsafeCoerce;n.mkExists=a,n.runExists=r}(t),function(e){"use strict";e["Data.Filterable"]=e["Data.Filterable"]||{};var n=e["Data.Filterable"],t=e["Data.Compactable"],r=e["Data.Either"],a=e["Data.Foldable"],u=e["Data.List"],i=e["Data.List.Types"],o=new function(e,n,t,r,a,u){this.Compactable0=e,this.Functor1=n,this.filter=t,this.filterMap=r,this.partition=a,this.partitionMap=u}(function(){return t.compactableList},function(){return i.functorList},u.filter,function(e){return u.mapMaybe(e)},function(e){return function(n){return a.foldr(i.foldableList)(function(n){return function(t){return e(n)?{no:t.no,yes:new i.Cons(n,t.yes)}:{no:new i.Cons(n,t.no),yes:t.yes}}})({no:i.Nil.value,yes:i.Nil.value})(n)}},function(e){return function(n){return a.foldr(i.foldableList)(function(n){return function(t){var a=e(n);if(a instanceof r.Left)return{left:new i.Cons(a.value0,t.left),right:t.right};if(a instanceof r.Right)return{left:t.left,right:new i.Cons(a.value0,t.right)};throw new Error("Failed pattern match at Data.Filterable (line 190, column 36 - line 192, column 83): "+[a.constructor.name])}})({left:i.Nil.value,right:i.Nil.value})(n)}});n.filterMap=function(e){return e.filterMap},n.filterableList=o}(t),function(e){"use strict";e["Data.Generic.Rep"]=e["Data.Generic.Rep"]||{};var n=e["Data.Generic.Rep"],t=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),r=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),a=function(){function e(){}return e.value=new e,e}();n.Generic=function(e,n){this.from=e,this.to=n},n.to=function(e){return e.to},n.from=function(e){return e.from},n.NoArguments=a,n.Inl=t,n.Inr=r,n.Constructor=function(e){return e},n.Argument=function(e){return e}}(t),function(e){"use strict";e.fromNumberImpl=function(e){return function(n){return function(t){return(0|t)===t?e(t):n}}},e.toNumber=function(e){return e}}(t["Data.Int"]=t["Data.Int"]||{}),function(e){"use strict";(t["Global"]=t["Global"]||{}).infinity=1/0}(),function(e){"use strict";e.Global=e.Global||{};var n=e.Global,t=e.Global;n.infinity=t.infinity}(t),function(e){"use strict";e.abs=Math.abs,e.ceil=Math.ceil,e.cos=Math.cos,e.floor=Math.floor,e.sin=Math.sin,e.sqrt=Math.sqrt,e.tan=Math.tan,e.pi=Math.PI}(t.Math=t.Math||{}),function(e){"use strict";e.Math=e.Math||{};var n=e.Math,t=e.Math;n.abs=t.abs,n.ceil=t.ceil,n.cos=t.cos,n.floor=t.floor,n.sin=t.sin,n.sqrt=t.sqrt,n.tan=t.tan,n.pi=t.pi}(t),function(e){"use strict";e["Data.Int"]=e["Data.Int"]||{};var n=e["Data.Int"],t=e["Data.Int"],r=e["Data.Boolean"],a=e["Data.Bounded"],u=e["Data.Maybe"],i=e.Global,o=e.Math,l=t.fromNumberImpl(u.Just.create)(u.Nothing.value),c=function(e){if(e===i.infinity)return 0;if(e===-i.infinity)return 0;if(e>=t.toNumber(a.top(a.boundedInt)))return a.top(a.boundedInt);if(e<=t.toNumber(a.bottom(a.boundedInt)))return a.bottom(a.boundedInt);if(r.otherwise)return u.fromMaybe(0)(l(e));throw new Error("Failed pattern match at Data.Int (line 66, column 1 - line 66, column 29): "+[e.constructor.name])};n.fromNumber=l,n.ceil=function(e){return c(o.ceil(e))},n.floor=function(e){return c(o.floor(e))},n.toNumber=t.toNumber}(t),function(e){"use strict";e["Data.List.NonEmpty"]=e["Data.List.NonEmpty"]||{};var n,t=e["Data.List.NonEmpty"],r=e["Data.List.Types"],a=e["Data.NonEmpty"],u=(n=a.singleton(r.plusList),function(e){return r.NonEmptyList(n(e))});t.singleton=u}(t),function(e){"use strict";(t["Data.Nullable"]=t["Data.Nullable"]||{}).nullable=function(e,n,t){return null==e?n:t(e)}}(),function(e){"use strict";e["Data.Nullable"]=e["Data.Nullable"]||{};var n=e["Data.Nullable"],t=e["Data.Nullable"],r=e["Data.Maybe"];n.toMaybe=function(e){return t.nullable(e,r.Nothing.value,r.Just.create)}}(t),function(e){"use strict";(t["Data.Ring"]=t["Data.Ring"]||{}).numSub=function(e){return function(n){return e-n}}}(),function(e){"use strict";e.numAdd=function(e){return function(n){return e+n}},e.numMul=function(e){return function(n){return e*n}}}(t["Data.Semiring"]=t["Data.Semiring"]||{}),function(e){"use strict";e["Data.Symbol"]=e["Data.Symbol"]||{};var n=e["Data.Symbol"],t=function(){function e(){}return e.value=new e,e}();n.IsSymbol=function(e){this.reflectSymbol=e},n.reflectSymbol=function(e){return e.reflectSymbol},n.SProxy=t}(t),function(e){"use strict";e.unsafeGet=function(e){return function(n){return n[e]}},e.unsafeSet=function(e){return function(n){return function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r[e]=n,r}}}}(t["Record.Unsafe"]=t["Record.Unsafe"]||{}),function(e){"use strict";e["Record.Unsafe"]=e["Record.Unsafe"]||{};var n=e["Record.Unsafe"],t=e["Record.Unsafe"];n.unsafeGet=t.unsafeGet,n.unsafeSet=t.unsafeSet}(t),function(e){"use strict";e["Type.Data.Row"]=e["Type.Data.Row"]||{};var n=e["Type.Data.Row"],t=function(){function e(){}return e.value=new e,e}();n.RProxy=t}(t),function(e){"use strict";e["Type.Data.RowList"]=e["Type.Data.RowList"]||{};var n=e["Type.Data.RowList"],t=function(){function e(){}return e.value=new e,e}();n.RLProxy=t}(t),function(e){"use strict";e["Data.Semiring"]=e["Data.Semiring"]||{};var n=e["Data.Semiring"],t=e["Data.Semiring"],r=e["Data.Symbol"],a=e["Record.Unsafe"],u=e["Type.Data.Row"],i=e["Type.Data.RowList"],o=function(e,n,t,r){this.addRecord=e,this.mulRecord=n,this.oneRecord=t,this.zeroRecord=r},l=function(e,n,t,r){this.add=e,this.mul=n,this.one=t,this.zero=r},c=function(e){return e.zeroRecord},s=new o(function(e){return function(e){return function(e){return{}}}},function(e){return function(e){return function(e){return{}}}},function(e){return function(e){return{}}},function(e){return function(e){return{}}}),f=new l(t.numAdd,t.numMul,1,0),d=function(e){return e.oneRecord},v=function(e){return e.mulRecord},m=function(e){return e.addRecord},p=function(e){return e.add};n.add=p,n.semiringNumber=f,n.semiringRecord=function(e){return function(e){return new l(m(e)(i.RLProxy.value),v(e)(i.RLProxy.value),d(e)(i.RLProxy.value)(u.RProxy.value),c(e)(i.RLProxy.value)(u.RProxy.value))}},n.semiringRecordNil=s,n.semiringRecordCons=function(e){return function(n){return function(n){return function(t){return new o(function(u){return function(u){return function(o){var l=m(n)(i.RLProxy.value)(u)(o),c=r.reflectSymbol(e)(r.SProxy.value),s=a.unsafeSet(c),f=a.unsafeGet(c);return s(p(t)(f(u))(f(o)))(l)}}},function(u){return function(u){return function(o){var l=v(n)(i.RLProxy.value)(u)(o),c=r.reflectSymbol(e)(r.SProxy.value),s=a.unsafeSet(c),f=a.unsafeGet(c);return s(t.mul(f(u))(f(o)))(l)}}},function(o){return function(o){var l=d(n)(i.RLProxy.value)(u.RProxy.value),c=r.reflectSymbol(e)(r.SProxy.value);return a.unsafeSet(c)(t.one)(l)}},function(o){return function(o){var l=c(n)(i.RLProxy.value)(u.RProxy.value),s=r.reflectSymbol(e)(r.SProxy.value);return a.unsafeSet(s)(t.zero)(l)}})}}}}}(t),function(e){"use strict";e["Data.Ring"]=e["Data.Ring"]||{};var n=e["Data.Ring"],t=e["Data.Ring"],r=e["Data.Semiring"],a=e["Data.Symbol"],u=e["Record.Unsafe"],i=e["Type.Data.RowList"],o=function(e,n){this.SemiringRecord0=e,this.subRecord=n},l=function(e,n){this.Semiring0=e,this.sub=n},c=function(e){return e.subRecord},s=function(e){return e.sub},f=new o(function(){return r.semiringRecordNil},function(e){return function(e){return function(e){return{}}}}),d=new l(function(){return r.semiringNumber},t.numSub);n.sub=s,n.ringNumber=d,n.ringRecord=function(e){return function(e){return new l(function(){return r.semiringRecord()(e.SemiringRecord0())},c(e)(i.RLProxy.value))}},n.ringRecordNil=f,n.ringRecordCons=function(e){return function(n){return function(n){return function(t){return new o(function(){return r.semiringRecordCons(e)()(n.SemiringRecord0())(t.Semiring0())},function(r){return function(r){return function(o){var l=c(n)(i.RLProxy.value)(r)(o),f=a.reflectSymbol(e)(a.SProxy.value),d=u.unsafeSet(f),v=u.unsafeGet(f);return d(s(t)(v(r))(v(o)))(l)}}})}}}}}(t),function(e){"use strict";(t["Data.Show"]=t["Data.Show"]||{}).showIntImpl=function(e){return e.toString()}}(),function(e){"use strict";e["Data.Show"]=e["Data.Show"]||{};var n=e["Data.Show"],t=new function(e){this.show=e}(e["Data.Show"].showIntImpl);n.show=function(e){return e.show},n.showInt=t}(t),function(e){"use strict";e["Data.TraversableWithIndex"]=e["Data.TraversableWithIndex"]||{};var n=e["Data.TraversableWithIndex"],t=e["Data.FoldableWithIndex"],r=e["Data.FunctorWithIndex"],a=e["Data.Traversable"],u=new function(e,n,t,r){this.FoldableWithIndex1=e,this.FunctorWithIndex0=n,this.Traversable2=t,this.traverseWithIndex=r}(function(){return t.foldableWithIndexArray},function(){return r.functorWithIndexArray},function(){return a.traversableArray},function(e){return(n=u,function(e){return function(t){var u=a.sequence(n.Traversable2())(e),i=r.mapWithIndex(n.FunctorWithIndex0())(t);return function(e){return u(i(e))}}})(e);var n});n.traverseWithIndex=function(e){return e.traverseWithIndex},n.traversableWithIndexArray=u}(t),function(e){"use strict";(t["Effect.Now"]=t["Effect.Now"]||{}).now=function(){return Date.now()}}(),function(e){"use strict";e["Effect.Now"]=e["Effect.Now"]||{};var n=e["Effect.Now"],t=e["Effect.Now"];n.now=t.now}(t),function(e){"use strict";(t["Effect.Uncurried"]=t["Effect.Uncurried"]||{}).runEffectFn1=function(e){return function(n){return function(){return e(n)}}}}(),function(e){"use strict";e["Effect.Uncurried"]=e["Effect.Uncurried"]||{};var n=e["Effect.Uncurried"],t=e["Effect.Uncurried"];n.runEffectFn1=t.runEffectFn1}(t),function(e){"use strict";(t["Effect.Unsafe"]=t["Effect.Unsafe"]||{}).unsafePerformEffect=function(e){return e()}}(),function(e){"use strict";e["Effect.Unsafe"]=e["Effect.Unsafe"]||{};var n=e["Effect.Unsafe"],t=e["Effect.Unsafe"];n.unsafePerformEffect=t.unsafePerformEffect}(t),function(e){"use strict";e.unsafeToForeign=function(e){return e},e.unsafeFromForeign=function(e){return e},e.typeOf=function(e){return n(e)},e.tagOf=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t.Foreign=t.Foreign||{}),function(e){"use strict";e.Foreign=e.Foreign||{};var n,t=e.Foreign,r=e.Foreign,a=e["Control.Applicative"],u=e["Control.Monad.Error.Class"],i=e["Control.Monad.Except"],o=e["Control.Monad.Except.Trans"],l=e["Data.Boolean"],c=e["Data.Either"],s=e["Data.Function"],f=e["Data.Identity"],d=e["Data.Int"],v=e["Data.List.NonEmpty"],m=e["Data.Maybe"],p=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),w=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),y=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),g=function(){function e(e,n){this.value0=e,this.value1=n}return e.create=function(n){return function(t){return new e(n,t)}},e}(),b=(n=u.throwError(o.monadThrowExceptT(f.monadIdentity)),function(e){return n(v.singleton(e))}),S=function(e){return function(n){if(r.tagOf(n)===e)return a.pure(o.applicativeExceptT(f.monadIdentity))(r.unsafeFromForeign(n));if(l.otherwise)return b(new w(e,r.tagOf(n)));throw new Error("Failed pattern match at Foreign (line 106, column 1 - line 106, column 55): "+[e.constructor.name,n.constructor.name])}},I=S("Number"),h=S("String");t.ForeignError=p,t.TypeMismatch=w,t.ErrorAtIndex=y,t.ErrorAtProperty=g,t.readString=h,t.readNumber=I,t.readInt=function(e){var n,t=c.Left.create(v.singleton(new w("Int",r.tagOf(e)))),u=(n=m.maybe(t)(a.pure(c.applicativeEither)),function(e){return n(d.fromNumber(e))});return i.mapExcept(c.either(s.const(t))(u))(I(e))},t.readArray=function(e){if(r.isArray(e))return a.pure(o.applicativeExceptT(f.monadIdentity))(r.unsafeFromForeign(e));if(l.otherwise)return b(new w("array",r.tagOf(e)));throw new Error("Failed pattern match at Foreign (line 147, column 1 - line 147, column 42): "+[e.constructor.name])},t.fail=b,t.unsafeToForeign=r.unsafeToForeign,t.typeOf=r.typeOf,t.isNull=r.isNull,t.isUndefined=r.isUndefined}(t),function(e){"use strict";(t["Foreign.Index"]=t["Foreign.Index"]||{}).unsafeReadPropImpl=function(e,n,t,r){return null==r?e:n(r[t])}}(),function(e){"use strict";e["Foreign.Index"]=e["Foreign.Index"]||{};var n=e["Foreign.Index"],t=e["Foreign.Index"],r=e["Control.Applicative"],a=e["Control.Monad.Except.Trans"],u=e["Data.Identity"],i=e.Foreign,o=function(e){return function(n){return t.unsafeReadPropImpl(i.fail(new i.TypeMismatch("object",i.typeOf(n))),r.pure(a.applicativeExceptT(u.monadIdentity)),e,n)}};n.readProp=o}(t),function(e){"use strict";(t["Record.Unsafe.Union"]=t["Record.Unsafe.Union"]||{}).unsafeUnionFn=function(e,n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var a in e)({}).hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}}(),function(e){"use strict";e["Record.Unsafe.Union"]=e["Record.Unsafe.Union"]||{};var n=e["Record.Unsafe.Union"],t=e["Record.Unsafe.Union"];n.unsafeUnionFn=t.unsafeUnionFn}(t),function(e){"use strict";e.Record=e.Record||{};var n=e.Record,t=e["Data.Symbol"],r=e["Record.Unsafe"],a=e["Record.Unsafe.Union"];n.get=function(e){return function(n){return function(n){return function(a){return r.unsafeGet(t.reflectSymbol(e)(n))(a)}}}},n.union=function(e){return function(e){return function(n){return a.unsafeUnionFn(e,n)}}}}(t),function(e){e._parseJSON=JSON.parse,e._undefined=void 0}(t["Simple.JSON"]=t["Simple.JSON"]||{}),function(e){"use strict";(t["Global.Unsafe"]=t["Global.Unsafe"]||{}).unsafeStringify=function(e){return JSON.stringify(e)}}(),function(e){"use strict";e["Global.Unsafe"]=e["Global.Unsafe"]||{};var n=e["Global.Unsafe"],t=e["Global.Unsafe"];n.unsafeStringify=t.unsafeStringify}(t),function(e){"use strict";e.copyRecord=function(e){var n={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n},e.unsafeInsert=function(e){return function(n){return function(t){return t[e]=n,t}}}}(t["Record.Builder"]=t["Record.Builder"]||{}),function(e){"use strict";e["Record.Builder"]=e["Record.Builder"]||{};var n=e["Record.Builder"],t=e["Record.Builder"],r=e["Control.Category"],a=e["Control.Semigroupoid"],u=e["Data.Symbol"],i=a.semigroupoidFn,o=r.categoryFn;n.build=function(e){return function(n){return e(t.copyRecord(n))}},n.insert=function(e){return function(e){return function(e){return function(n){return function(r){return function(a){return t.unsafeInsert(u.reflectSymbol(e)(n))(r)(a)}}}}}},n.semigroupoidBuilder=i,n.categoryBuilder=o}(t),function(e){"use strict";e["Simple.JSON"]=e["Simple.JSON"]||{};var n,t,r,a=e["Simple.JSON"],u=e["Simple.JSON"],i=e["Control.Applicative"],o=e["Control.Apply"],l=e["Control.Bind"],c=e["Control.Category"],s=e["Control.Monad.Except"],f=e["Control.Monad.Except.Trans"],d=e["Control.Semigroupoid"],v=e["Data.Bifunctor"],m=e["Data.Either"],p=e["Data.Function"],w=e["Data.Functor"],y=e["Data.Identity"],g=e["Data.List.Types"],b=e["Data.Maybe"],S=e["Data.Semigroup"],I=e["Data.Symbol"],h=e["Data.TraversableWithIndex"],F=e["Effect.Exception"],C=e["Effect.Uncurried"],E=e["Effect.Unsafe"],D=e.Foreign,T=e["Foreign.Index"],N=e["Global.Unsafe"],R=e.Record,x=e["Record.Builder"],k=e["Type.Data.RowList"],W=function(e){this.writeImplFields=e},M=function(e){this.writeImpl=e},P=function(e){this.getFields=e},A=function(e){this.readImpl=e},L=function(e){return e.writeImplFields},B=function(e){return e.writeImpl},_=new M(D.unsafeToForeign),U=new M(D.unsafeToForeign),O=new M(D.unsafeToForeign),q=new M(c.identity(c.categoryFn)),G=u._undefined,J=new A(D.readString),H=new A(D.readNumber),Q=new A(D.readInt),z=function(e){return e.readImpl},j=new A(i.pure(f.applicativeExceptT(y.monadIdentity))),V=new P(function(e){return function(e){return i.pure(f.applicativeExceptT(y.monadIdentity))(c.identity(x.categoryBuilder))}}),Y=(t=v.lmap(m.bifunctorEither)((n=i.pure(g.applicativeNonEmptyList),function(e){return n(D.ForeignError.create(F.message(e)))})),r=C.runEffectFn1(u._parseJSON),function(e){return f.ExceptT(y.Identity(t(E.unsafePerformEffect(F.try(r(e))))))}),X=new W(function(e){return function(e){return c.identity(x.categoryBuilder)}}),K=function(e){return e.getFields},Z=function(e){return function(n){return function(t){return function(r){return f.ExceptT(o.apply(n.Apply0())(w.map(n.Apply0().Functor0())(function(e){return function(n){return function(t){if(n instanceof m.Left&&t instanceof m.Right)return new m.Left(n.value0);if(n instanceof m.Left&&t instanceof m.Left)return new m.Left(S.append(e)(n.value0)(t.value0));if(n instanceof m.Right&&t instanceof m.Left)return new m.Left(t.value0);if(n instanceof m.Right&&t instanceof m.Right)return new m.Right(n.value0(t.value0));throw new Error("Failed pattern match at Simple.JSON (line 234, column 1 - line 234, column 90): "+[n.constructor.name,t.constructor.name])}}}(e))(f.runExceptT(t)))(f.runExceptT(r)))}}}};a.readJSON=function(e){var n=l.composeKleisliFlipped(f.bindExceptT(y.monadIdentity))(z(e))(Y);return function(e){return s.runExcept(n(e))}},a.writeJSON=function(e){var n=B(e);return function(e){return N.unsafeStringify(n(e))}},a.write=function(e){return B(e)},a["read'"]=function(e){return z(e)},a.ReadForeign=A,a.readImpl=z,a.WriteForeign=M,a.writeImpl=B,a.readForeign=j,a.readNumber=H,a.readInt=Q,a.readString=J,a.readArray=function(e){return new A(l.composeKleisliFlipped(f.bindExceptT(y.monadIdentity))(h.traverseWithIndex(h.traversableWithIndexArray)(f.applicativeExceptT(y.monadIdentity))(function(n){return function(t){return s.withExcept(w.map(g.functorNonEmptyList)(D.ErrorAtIndex.create(n)))(z(e)(t))}}))(D.readArray))},a.readMaybe=function(e){return new A((n=z(e),function(e){return D.isNull(e)||D.isUndefined(e)?i.pure(f.applicativeExceptT(y.monadIdentity))(b.Nothing.value):w.map(f.functorExceptT(y.functorIdentity))(b.Just.create)(n(e))}));var n},a.readRecord=function(e){return function(e){return new A(function(n){return w.map(f.functorExceptT(y.functorIdentity))(p.flip(x.build)({}))(K(e)(k.RLProxy.value)(n))})}},a.readFieldsCons=function(e){return function(n){return function(t){return function(r){return function(r){return new P(function(r){return function(r){var a=K(t)(k.RLProxy.value)(r),u=I.reflectSymbol(e)(I.SProxy.value),o=s.withExcept(w.map(g.functorNonEmptyList)(D.ErrorAtProperty.create(u))),c=l.bind(f.bindExceptT(y.monadIdentity))(o(l.bindFlipped(f.bindExceptT(y.monadIdentity))(z(n))(T.readProp(u)(r))))(function(n){return i.pure(f.applicativeExceptT(y.monadIdentity))(x.insert()()(e)(I.SProxy.value)(n))});return Z(g.semigroupNonEmptyList)(y.applicativeIdentity)(w.map(f.functorExceptT(y.functorIdentity))(d.compose(x.semigroupoidBuilder))(c))(a)}})}}}}},a.readFieldsNil=V,a.writeForeignForeign=q,a.writeForeignString=_,a.writeForeignInt=O,a.writeForeignNumber=U,a.writeForeignArray=function(e){return new M(function(n){return D.unsafeToForeign(w.map(w.functorArray)(B(e))(n))})},a.writeForeignMaybe=function(e){return new M(b.maybe(G)(B(e)))},a.recordWriteForeign=function(e){return function(e){return new M(function(n){var t=L(e)(k.RLProxy.value)(n);return D.unsafeToForeign(x.build(t)({}))})}},a.consWriteForeignFields=function(e){return function(n){return function(t){return function(r){return function(r){return function(r){return new W(function(r){return function(r){var a=L(t)(k.RLProxy.value)(r),u=B(n)(R.get(e)()(I.SProxy.value)(r));return d.compose(x.semigroupoidBuilder)(x.insert()()(e)(I.SProxy.value)(u))(a)}})}}}}}},a.nilWriteForeignFields=X}(t),function(e){"use strict";e.GenericJSON=e.GenericJSON||{};var n=e.GenericJSON,t=e["Control.Alt"],r=e["Control.Applicative"],a=e["Control.Bind"],u=e["Control.Monad.Except"],i=e["Control.Monad.Except.Trans"],o=e["Data.Functor"],l=e["Data.Generic.Rep"],c=e["Data.Identity"],s=e["Data.List.Types"],f=e["Data.Symbol"],d=e.Foreign,v=e.Record,m=e["Simple.JSON"],p=function(e,n){this.genericTaggedSumRep=e,this.writeGenericTaggedSumRep=n},w=function(e){return e.writeGenericTaggedSumRep},y=function(e){return e.genericTaggedSumRep};n.taggedSumRep=function(e){return function(n){return function(t){return o.map(i.functorExceptT(c.functorIdentity))(l.to(e))(y(n)(t))}}},n.writeTaggedSumRep=function(e){return function(n){return function(t){return w(n)(l.from(e)(t))}}},n.taggedSumRepSum=function(e){return function(n){return new p(function(r){return t.alt(i.altExceptT(s.semigroupNonEmptyList)(c.monadIdentity))(o.map(i.functorExceptT(c.functorIdentity))(l.Inl.create)(y(e)(r)))(o.map(i.functorExceptT(c.functorIdentity))(l.Inr.create)(y(n)(r)))},function(t){if(t instanceof l.Inl)return w(e)(t.value0);if(t instanceof l.Inr)return w(n)(t.value0);throw new Error("Failed pattern match at GenericJSON (line 44, column 32 - line 46, column 47): "+[t.constructor.name])})}},n.taggedSumRepConstructorRecord=function(e){return function(n){return function(t){return function(t){return new p(function(t){var r=f.reflectSymbol(n)(f.SProxy.value);return a.bind(i.bindExceptT(c.monadIdentity))(m["read'"](m.readRecord()(m.readFieldsCons(new f.IsSymbol(function(){return"__type"}))(m.readString)(m.readFieldsNil)()()))(t))(function(n){return n.__type===r?u.withExcept(o.map(s.functorNonEmptyList)(d.ErrorAtProperty.create(r)))(o.map(i.functorExceptT(c.functorIdentity))(l.Constructor)(y(e)(t))):d.fail(d.ForeignError.create("Wrong type tag "+n.__type+" where "+r+" was expected."))})},function(t){var r=f.reflectSymbol(n)(f.SProxy.value),a=m.write(m.writeForeignForeign)(w(e)(t)),u=v.union()({__type:r})(a);return d.unsafeToForeign(u)})}}}},n.taggedSumRepNoArguments=function(e){return new p(function(n){var t=f.reflectSymbol(e)(f.SProxy.value);return a.bind(i.bindExceptT(c.monadIdentity))(m["read'"](m.readString)(n))(function(e){return e===t?r.pure(i.applicativeExceptT(c.monadIdentity))(l.NoArguments.value):d.fail(d.ForeignError.create("Unknown string tag "+t))})},function(n){var t=f.reflectSymbol(e)(f.SProxy.value);return m.write(m.writeForeignString)(t)})},n.taggedSumRepConstructor=function(e){return function(n){return new p(function(t){var r=f.reflectSymbol(n)(f.SProxy.value);return a.bind(i.bindExceptT(c.monadIdentity))(m["read'"](m.readRecord()(m.readFieldsCons(new f.IsSymbol(function(){return"__type"}))(m.readString)(m.readFieldsCons(new f.IsSymbol(function(){return"value"}))(m.readForeign)(m.readFieldsNil)()())()()))(t))(function(n){return n.__type===r?u.withExcept(o.map(s.functorNonEmptyList)(d.ErrorAtProperty.create(r)))(o.map(i.functorExceptT(c.functorIdentity))(l.Constructor)(y(e)(n.value))):d.fail(d.ForeignError.create("Wrong type tag "+n.__type+" where "+r+" was expected."))})},function(t){var r=f.reflectSymbol(n)(f.SProxy.value);return d.unsafeToForeign({__type:r,value:m.write(m.writeForeignForeign)(w(e)(t))})})}},n.taggedSumRepArgument=function(e){return function(n){return new p(function(n){return o.map(i.functorExceptT(c.functorIdentity))(l.Argument)(m.readImpl(e)(n))},function(e){return m.writeImpl(n)(e)})}}}(t),(t["Pure.Background"]=t["Pure.Background"]||{}).setGradientStrokeStyle=function(e){return function(n){return function(){e.strokeStyle=n}}},function(e){"use strict";e["Pure.Background"]=e["Pure.Background"]||{};var n=e["Pure.Background"],t=e["Pure.Background"],r=e["Data.Int"],a=e["Data.List"],u=e["Data.List.Types"],i=e["Data.Ord"],o=e["Data.Traversable"],l=e["Data.Unit"],c=e.Effect,s=e["Graphics.Canvas"];n.render=function(e){return function(n){return function(f){var d=i.max(i.ordInt)(0)(r.floor((e.top-n.world.y)/100)),v=function(e){return 100*r.toNumber(e)+n.world.y},m=function(e){return 100*r.toNumber(e)+n.world.x},p=r.ceil((i.min(i.ordNumber)(e.right)(n.world.x+n.world.width)-n.world.x)/100),w=i.max(i.ordInt)(0)(r.floor((e.left-n.world.x)/100)),y=a.range(w)(p),g=r.ceil((i.min(i.ordNumber)(e.bottom)(n.world.y+n.world.height)-n.world.y)/100),b=a.range(d)(g);return function(){var e=s.createRadialGradient(f)({x0:0,y0:0,r0:200,x1:0,y1:0,r1:2e3})();return s.addColorStop(e)(0)("#fff")(),s.addColorStop(e)(.5)("#00f")(),s.addColorStop(e)(1)("#f00")(),t.setGradientStrokeStyle(f)(e)(),s.setLineWidth(f)(2)(),s.beginPath(f)(),o.traverse(u.traversableList)(c.applicativeEffect)(function(e){var n=m(e);return function(){return o.traverse(u.traversableList)(c.applicativeEffect)(function(e){var t=v(e)-10,r=t+20;return function(){return s.moveTo(f)(n)(t)(),s.lineTo(f)(n)(r)(),l.unit}})(b)(),l.unit}})(y)(),o.traverse(u.traversableList)(c.applicativeEffect)(function(e){var n=v(e);return function(){return o.traverse(u.traversableList)(c.applicativeEffect)(function(e){var t=m(e)-10,r=t+20;return function(){return s.moveTo(f)(t)(n)(),s.lineTo(f)(r)(n)(),l.unit}})(y)(),l.unit}})(b)(),s.stroke(f)(),l.unit}}}}}(t),function(e){"use strict";e["Pure.Math"]=e["Pure.Math"]||{};var n=e["Pure.Math"],t=e.Math;n.point=function(e){return function(n){return{x:e,y:n}}},n.scalePoint=function(e){return function(n){return{x:n.x*e,y:n.y*e}}},n.lerp=function(e){return function(n){return function(t){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}}},n.rotationToVector=function(e){var n=e*t.pi*2;return{x:t.cos(n),y:t.sin(n)}}}(t),function(e){"use strict";e["Pure.Entity"]=e["Pure.Entity"]||{};var n=e["Pure.Entity"],t=e["Control.Monad.State"],r=e["Data.Eq"],a=e["Data.Exists"],u=e["Data.Foldable"],i=e["Data.Generic.Rep"],o=e["Data.List"],l=e["Data.List.Types"],c=e["Data.Newtype"],s=e["Data.Ord"],f=e["Data.Semiring"],d=e["Data.Symbol"],v=e["Data.Tuple"],m=e.GenericJSON,p=e["Pure.Math"],w=e["Simple.JSON"],y=function(){function e(){}return e.value=new e,e}(),g=function(){function e(){}return e.value=new e,e}(),b=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),S=w.writeForeignString,I=w.readString,h=s.ordString,F=new c.Newtype(function(e){return e},function(e){return e}),C=new c.Newtype(function(e){return e},function(e){return e}),E=new i.Generic(function(e){if(e instanceof y)return new i.Inl(i.NoArguments.value);if(e instanceof g)return new i.Inr(i.NoArguments.value);throw new Error("Failed pattern match at Pure.Entity (line 31, column 1 - line 31, column 60): "+[e.constructor.name])},function(e){if(e instanceof i.Inl)return y.value;if(e instanceof i.Inr)return g.value;throw new Error("Failed pattern match at Pure.Entity (line 31, column 1 - line 31, column 60): "+[e.constructor.name])}),D=new w.ReadForeign(m.taggedSumRep(E)(m.taggedSumRepSum(m.taggedSumRepNoArguments(new d.IsSymbol(function(){return"Tank"})))(m.taggedSumRepNoArguments(new d.IsSymbol(function(){return"Bullet"}))))),T=new w.WriteForeign(m.writeTaggedSumRep(E)(m.taggedSumRepSum(m.taggedSumRepNoArguments(new d.IsSymbol(function(){return"Tank"})))(m.taggedSumRepNoArguments(new d.IsSymbol(function(){return"Bullet"}))))),N=r.eqString;n.Tank=y,n.Bullet=g,n.EntityBehaviour=b,n.processCommand=function(e){return function(n){return u.foldr(l.foldableList)(function(e){return function(r){var u=a.runExists(function(e){return function(r){var u=t.runState(r.value0.handleCommand(n)(r.value0.state))({entity:e,events:l.Nil.value});return new v.Tuple({behaviour:new l.Cons(a.mkExists(new b({state:u.value0,handleCommand:r.value0.handleCommand})),e.behaviour),class:u.value1.entity.class,friction:u.value1.entity.friction,height:u.value1.entity.height,id:u.value1.entity.id,location:u.value1.entity.location,mass:u.value1.entity.mass,networkSync:u.value1.entity.networkSync,renderables:u.value1.entity.renderables,rotation:u.value1.entity.rotation,velocity:u.value1.entity.velocity,width:u.value1.entity.width},u.value1.events)}}(r.value0))(e);return new v.Tuple(v.fst(u),o.concat(new l.Cons(v.snd(u),new l.Cons(r.value1,l.Nil.value))))}})(new v.Tuple({behaviour:l.Nil.value,class:e.class,friction:e.friction,height:e.height,id:e.id,location:e.location,mass:e.mass,networkSync:e.networkSync,renderables:e.renderables,rotation:e.rotation,velocity:e.velocity,width:e.width},l.Nil.value))(e.behaviour)}},n.applyForce=function(e){return function(n){return{id:n.id,class:n.class,location:n.location,width:n.width,height:n.height,mass:n.mass,velocity:f.add(f.semiringRecord()(f.semiringRecordCons(new d.IsSymbol(function(){return"x"}))()(f.semiringRecordCons(new d.IsSymbol(function(){return"y"}))()(f.semiringRecordNil)(f.semiringNumber))(f.semiringNumber)))(n.velocity)(p.scalePoint(e.force/n.mass)(e.direction)),friction:n.friction,rotation:n.rotation,renderables:n.renderables,networkSync:n.networkSync,behaviour:n.behaviour}}},n.ntHtmlColor=F,n.ntEntityId=C,n.eqEntityId=N,n.readEntityId=I,n.writeEntityId=S,n.ordEntityId=h,n.writeForeignEntityClass=T,n.readForeignEntityClass=D}(t),function(e){"use strict";e["Pure.Behaviour"]=e["Pure.Behaviour"]||{};var n=e["Pure.Behaviour"],t=e["Control.Bind"],r=e["Control.Monad.State.Class"],a=e["Control.Monad.State.Trans"],u=e["Data.Identity"],i=e["Data.List.Types"],o=e["Pure.Entity"],l=e["Pure.Math"],c=r.gets(a.monadStateStateT(u.monadIdentity))(function(e){return e.entity});n.entity=c,n.updateEntity=function(e){return r.modify_(a.monadStateStateT(u.monadIdentity))(function(n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t.entity=e(n.entity),t})},n.raiseEvent=function(e){return r.modify_(a.monadStateStateT(u.monadIdentity))(function(n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t.events=new i.Cons(e,n.events),t})},n.applyThrust=function(e){return function(n){return t.bind(a.bindStateT(u.monadIdentity))(r.gets(a.monadStateStateT(u.monadIdentity))(function(e){return e.entity}))(function(n){var t=o.applyForce({direction:l.rotationToVector(n.rotation),force:e})(n);return r.modify_(a.monadStateStateT(u.monadIdentity))(function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.entity=t,n})})}},n.rotate=function(e){return r.modify_(a.monadStateStateT(u.monadIdentity))(function(n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t.entity=function(){var t={};for(var r in n.entity)({}).hasOwnProperty.call(n.entity,r)&&(t[r]=n.entity[r]);return t.rotation=n.entity.rotation+e,t}(),t})}}(t),function(e){"use strict";e["Pure.Types"]=e["Pure.Types"]||{};var n=e["Pure.Types"],t=e["Data.Eq"],r=e["Data.Generic.Rep"],a=e["Data.Maybe"],u=e["Data.Symbol"],i=e.GenericJSON,o=e["Pure.Entity"],l=e["Simple.JSON"],c=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),s=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),f=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),d=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),v=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),m=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),p=function(){function e(){}return e.value=new e,e}(),w=function(){function e(){}return e.value=new e,e}(),y=function(){function e(){}return e.value=new e,e}(),g=function(){function e(){}return e.value=new e,e}(),b=function(){function e(){}return e.value=new e,e}(),S=function(){function e(){}return e.value=new e,e}(),I=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),F=function(){function e(){}return e.value=new e,e}(),C=function(){function e(){}return e.value=new e,e}(),E=function(){function e(){}return e.value=new e,e}(),D=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),T=new r.Generic(function(e){if(e instanceof c)return new r.Inl(e.value0);if(e instanceof s)return new r.Inr(new r.Inl(e.value0));if(e instanceof f)return new r.Inr(new r.Inr(new r.Inl(e.value0)));if(e instanceof d)return new r.Inr(new r.Inr(new r.Inr(new r.Inl(e.value0))));if(e instanceof v)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(e.value0))));throw new Error("Failed pattern match at Pure.Types (line 53, column 1 - line 53, column 56): "+[e.constructor.name])},function(e){if(e instanceof r.Inl)return new c(e.value0);if(e instanceof r.Inr&&e.value0 instanceof r.Inl)return new s(e.value0.value0);if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inl)return new f(e.value0.value0.value0);if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inl)return new d(e.value0.value0.value0.value0);if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr)return new v(e.value0.value0.value0.value0);throw new Error("Failed pattern match at Pure.Types (line 53, column 1 - line 53, column 56): "+[e.constructor.name])}),N=new l.ReadForeign(i.taggedSumRep(T)(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"owner"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"power"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"owner"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"power"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())()()())))(new u.IsSymbol(function(){return"BulletFired"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"force"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"left"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"right"}))(o.readEntityId)(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"force"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"left"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"right"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"EntityCollided"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"bullet"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"age"}))(l.readInt)(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"owner"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"power"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()())()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"entity"}))(o.readEntityId)(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"bullet"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"age"}))(l.writeForeignInt)(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"owner"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"power"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"entity"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"BulletHit"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"destroyer"}))(l.readMaybe(o.readEntityId))(l.readFieldsCons(new u.IsSymbol(function(){return"entity"}))(o.readEntityId)(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"destroyer"}))(l.writeForeignMaybe(o.writeEntityId))(l.consWriteForeignFields(new u.IsSymbol(function(){return"entity"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"EntityDestroyed"}))()())(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"id"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"id"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"PlayerSpawn"}))()())))))),R=new l.WriteForeign(i.writeTaggedSumRep(T)(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"owner"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"power"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"owner"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"power"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())()()())))(new u.IsSymbol(function(){return"BulletFired"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"force"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"left"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"right"}))(o.readEntityId)(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"force"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"left"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"right"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"EntityCollided"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"bullet"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"age"}))(l.readInt)(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"owner"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"power"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()())()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"entity"}))(o.readEntityId)(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"bullet"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"age"}))(l.writeForeignInt)(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"owner"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"power"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"entity"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"BulletHit"}))()())(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"destroyer"}))(l.readMaybe(o.readEntityId))(l.readFieldsCons(new u.IsSymbol(function(){return"entity"}))(o.readEntityId)(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"destroyer"}))(l.writeForeignMaybe(o.writeEntityId))(l.consWriteForeignFields(new u.IsSymbol(function(){return"entity"}))(o.writeEntityId)(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"EntityDestroyed"}))()())(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"id"}))(o.readEntityId)(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"id"}))(o.writeEntityId)(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"PlayerSpawn"}))()())))))),x=new r.Generic(function(e){if(e instanceof m)return new r.Inl(e.value0);if(e instanceof p)return new r.Inr(new r.Inl(r.NoArguments.value));if(e instanceof w)return new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value)));if(e instanceof y)return new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value))));if(e instanceof g)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value)))));if(e instanceof b)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value))))));if(e instanceof S)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value)))))));if(e instanceof I)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value))))))));if(e instanceof h)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value)))))))));if(e instanceof F)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value))))))))));if(e instanceof C)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value)))))))))));if(e instanceof E)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inl(r.NoArguments.value))))))))))));if(e instanceof D)return new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(new r.Inr(e.value0))))))))))));throw new Error("Failed pattern match at Pure.Types (line 42, column 1 - line 42, column 64): "+[e.constructor.name])},function(e){if(e instanceof r.Inl)return new m(e.value0);if(e instanceof r.Inr&&e.value0 instanceof r.Inl)return p.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inl)return w.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inl)return y.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inl)return g.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inl)return b.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return S.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return I.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return h.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return F.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return C.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inl)return E.value;if(e instanceof r.Inr&&e.value0 instanceof r.Inr&&e.value0.value0 instanceof r.Inr&&e.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr&&e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0 instanceof r.Inr)return new D(e.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at Pure.Types (line 42, column 1 - line 42, column 64): "+[e.constructor.name])}),k=new l.ReadForeign(i.taggedSumRep(x)(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"amount"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"source"}))(l.readMaybe(o.readEntityId))(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"amount"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"source"}))(l.writeForeignMaybe(o.writeEntityId))(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"Damage"}))()())(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"Tick"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"PushForward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"PushBackward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"TurnLeft"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"TurnRight"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"FireBullet"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopPushForward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopPushBackward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopTurnLeft"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopTurnRight"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopFiring"})))(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"rotation"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"rotation"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"UpdateServerState"}))()())))))))))))))),W=new l.WriteForeign(i.writeTaggedSumRep(x)(i.taggedSumRepSum(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"amount"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"source"}))(l.readMaybe(o.readEntityId))(l.readFieldsNil)()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"amount"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"source"}))(l.writeForeignMaybe(o.writeEntityId))(l.nilWriteForeignFields)()()())()()())))(new u.IsSymbol(function(){return"Damage"}))()())(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"Tick"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"PushForward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"PushBackward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"TurnLeft"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"TurnRight"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"FireBullet"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopPushForward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopPushBackward"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopTurnLeft"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopTurnRight"})))(i.taggedSumRepSum(i.taggedSumRepNoArguments(new u.IsSymbol(function(){return"StopFiring"})))(i.taggedSumRepConstructorRecord(i.taggedSumRepArgument(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"location"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsCons(new u.IsSymbol(function(){return"rotation"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"velocity"}))(l.readRecord()(l.readFieldsCons(new u.IsSymbol(function(){return"x"}))(l.readNumber)(l.readFieldsCons(new u.IsSymbol(function(){return"y"}))(l.readNumber)(l.readFieldsNil)()())()()))(l.readFieldsNil)()())()())()()))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"location"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.consWriteForeignFields(new u.IsSymbol(function(){return"rotation"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"velocity"}))(l.recordWriteForeign()(l.consWriteForeignFields(new u.IsSymbol(function(){return"x"}))(l.writeForeignNumber)(l.consWriteForeignFields(new u.IsSymbol(function(){return"y"}))(l.writeForeignNumber)(l.nilWriteForeignFields)()()())()()()))(l.nilWriteForeignFields)()()())()()())()()())))(new u.IsSymbol(function(){return"UpdateServerState"}))()())))))))))))))),M=new t.Eq(function(e){return function(n){return e instanceof m&&n instanceof m?e.value0.amount===n.value0.amount&&t.eq(a.eqMaybe(o.eqEntityId))(e.value0.source)(n.value0.source):e instanceof p&&n instanceof p||(e instanceof w&&n instanceof w||(e instanceof y&&n instanceof y||(e instanceof g&&n instanceof g||(e instanceof b&&n instanceof b||(e instanceof S&&n instanceof S||(e instanceof I&&n instanceof I||(e instanceof h&&n instanceof h||(e instanceof F&&n instanceof F||(e instanceof C&&n instanceof C||(e instanceof E&&n instanceof E||e instanceof D&&n instanceof D&&(e.value0.location.x===n.value0.location.x&&e.value0.location.y===n.value0.location.y&&e.value0.rotation===n.value0.rotation&&e.value0.velocity.x===n.value0.velocity.x&&e.value0.velocity.y===n.value0.velocity.y)))))))))))}});n.Damage=m,n.Tick=p,n.PushForward=w,n.PushBackward=y,n.TurnLeft=g,n.TurnRight=b,n.FireBullet=S,n.StopPushForward=I,n.StopPushBackward=h,n.StopTurnLeft=F,n.StopTurnRight=C,n.StopFiring=E,n.UpdateServerState=D,n.BulletFired=c,n.EntityCollided=s,n.BulletHit=f,n.EntityDestroyed=d,n.PlayerSpawn=v,n.writeForeignEntityCommand=W,n.readForeignEntityCommand=k,n.eqEntityCommand=M,n.writeForeignGameEvent=R,n.readForeignGameEvent=N}(t),function(e){"use strict";e["Pure.Behaviours.BasicBitchPhysics"]=e["Pure.Behaviours.BasicBitchPhysics"]||{};var n=e["Pure.Behaviours.BasicBitchPhysics"],t=e["Control.Applicative"],r=e["Control.Monad.State.Trans"],a=e["Data.Exists"],u=e["Data.Identity"],i=e["Data.Semiring"],o=e["Data.Symbol"],l=e["Data.Unit"],c=e["Pure.Behaviour"],s=e["Pure.Entity"],f=e["Pure.Math"],d=e["Pure.Types"],v=a.mkExists(new s.EntityBehaviour({state:l.unit,handleCommand:function(e){return function(n){return e instanceof d.Tick?c.updateEntity(function(e){return{id:e.id,class:e.class,location:i.add(i.semiringRecord()(i.semiringRecordCons(new o.IsSymbol(function(){return"x"}))()(i.semiringRecordCons(new o.IsSymbol(function(){return"y"}))()(i.semiringRecordNil)(i.semiringNumber))(i.semiringNumber)))(e.location)(e.velocity),width:e.width,height:e.height,mass:e.mass,velocity:f.scalePoint(e.friction)(e.velocity),friction:e.friction,rotation:e.rotation,renderables:e.renderables,networkSync:e.networkSync,behaviour:e.behaviour}}):t.pure(r.applicativeStateT(u.monadIdentity))(l.unit)}}}));n.init=v}(t),function(e){"use strict";e["Pure.Behaviours.Driven"]=e["Pure.Behaviours.Driven"]||{};var n=e["Pure.Behaviours.Driven"],t=e["Control.Applicative"],r=e["Control.Bind"],a=e["Control.Monad.State.Trans"],u=e["Data.Exists"],i=e["Data.Identity"],o=e["Data.Unit"],l=e["Pure.Behaviour"],c=e["Pure.Entity"],s=e["Pure.Types"];n.init=function(e){return u.mkExists(new c.EntityBehaviour({state:{forward:!1,backward:!1,left:!1,right:!1},handleCommand:function(n){return function(u){return n instanceof s.Tick?r.discard(r.discardUnit)(a.bindStateT(i.monadIdentity))(u.forward?l.applyThrust(e.acceleration)(e.maxSpeed):u.backward?l.applyThrust(-e.acceleration)(e.maxSpeed):t.pure(a.applicativeStateT(i.monadIdentity))(o.unit))(function(){return r.discard(r.discardUnit)(a.bindStateT(i.monadIdentity))(u.left?l.rotate(-e.turningSpeed):u.right?l.rotate(e.turningSpeed):t.pure(a.applicativeStateT(i.monadIdentity))(o.unit))(function(){return t.pure(a.applicativeStateT(i.monadIdentity))(u)})}):n instanceof s.PushForward?t.pure(a.applicativeStateT(i.monadIdentity))({forward:!0,backward:u.backward,left:u.left,right:u.right}):n instanceof s.PushBackward?t.pure(a.applicativeStateT(i.monadIdentity))({backward:!0,forward:u.forward,left:u.left,right:u.right}):n instanceof s.TurnLeft?t.pure(a.applicativeStateT(i.monadIdentity))({left:!0,backward:u.backward,forward:u.forward,right:u.right}):n instanceof s.TurnRight?t.pure(a.applicativeStateT(i.monadIdentity))({right:!0,backward:u.backward,forward:u.forward,left:u.left}):n instanceof s.StopPushForward?t.pure(a.applicativeStateT(i.monadIdentity))({forward:!1,backward:u.backward,left:u.left,right:u.right}):n instanceof s.StopPushBackward?t.pure(a.applicativeStateT(i.monadIdentity))({backward:!1,forward:u.forward,left:u.left,right:u.right}):n instanceof s.StopTurnLeft?t.pure(a.applicativeStateT(i.monadIdentity))({left:!1,backward:u.backward,forward:u.forward,right:u.right}):n instanceof s.StopTurnRight?t.pure(a.applicativeStateT(i.monadIdentity))({right:!1,backward:u.backward,forward:u.forward,left:u.left}):t.pure(a.applicativeStateT(i.monadIdentity))(u)}}}))}}(t),function(e){"use strict";e["Pure.Behaviours.FiresBullets"]=e["Pure.Behaviours.FiresBullets"]||{};var n=e["Pure.Behaviours.FiresBullets"],t=e["Control.Applicative"],r=e["Control.Bind"],a=e["Control.Monad.State.Trans"],u=e["Data.Exists"],i=e["Data.Identity"],o=e["Data.Semiring"],l=e["Data.Symbol"],c=e["Pure.Behaviour"],s=e["Pure.Entity"],f=e["Pure.Math"],d=e["Pure.Types"];n.init=function(e){return u.mkExists(new s.EntityBehaviour({state:{current:0,firingTimer:0,power:e.power},handleCommand:function(n){return function(u){var s=function(e){return f.rotationToVector(e.rotation)},v=function(e){return o.add(o.semiringRecord()(o.semiringRecordCons(new l.IsSymbol(function(){return"x"}))()(o.semiringRecordCons(new l.IsSymbol(function(){return"y"}))()(o.semiringRecordNil)(o.semiringNumber))(o.semiringNumber)))(e.location)(f.scalePoint(e.width)(s(e)))},m=function(n){return o.add(o.semiringRecord()(o.semiringRecordCons(new l.IsSymbol(function(){return"x"}))()(o.semiringRecordCons(new l.IsSymbol(function(){return"y"}))()(o.semiringRecordNil)(o.semiringNumber))(o.semiringNumber)))(f.scalePoint(e.speed)(s(n)))(n.velocity)};return r.bind(a.bindStateT(i.monadIdentity))(c.entity)(function(o){return n instanceof d.FireBullet?u.firingTimer<=0?r.discard(r.discardUnit)(a.bindStateT(i.monadIdentity))(c.raiseEvent(new d.BulletFired({owner:o.id,location:v(o),velocity:m(o),power:u.power})))(function(){return t.pure(a.applicativeStateT(i.monadIdentity))({current:u.current+1|0,firingTimer:e.rate,power:u.power})}):t.pure(a.applicativeStateT(i.monadIdentity))(u):n instanceof d.Tick?t.pure(a.applicativeStateT(i.monadIdentity))({current:u.current>e.max?0:u.current,firingTimer:u.firingTimer>0?u.firingTimer-1|0:u.firingTimer,power:u.power}):t.pure(a.applicativeStateT(i.monadIdentity))(u)})}}}))}}(t),function(e){"use strict";e["Pure.Behaviours.HasHealth"]=e["Pure.Behaviours.HasHealth"]||{};var n=e["Pure.Behaviours.HasHealth"],t=e["Control.Applicative"],r=e["Control.Bind"],a=e["Control.Monad.State.Trans"],u=e["Data.Exists"],i=e["Data.Identity"],o=e["Pure.Behaviour"],l=e["Pure.Entity"],c=e["Pure.Types"];n.init=function(e){return u.mkExists(new l.EntityBehaviour({state:e,handleCommand:function(e){return function(n){if(e instanceof c.Damage){var u=n-e.value0.amount;return r.bind(a.bindStateT(i.monadIdentity))(o.entity)(function(n){return u<=0?r.discard(r.discardUnit)(a.bindStateT(i.monadIdentity))(o.raiseEvent(new c.EntityDestroyed({entity:n.id,destroyer:e.value0.source})))(function(){return t.pure(a.applicativeStateT(i.monadIdentity))(u)}):t.pure(a.applicativeStateT(i.monadIdentity))(u)})}return t.pure(a.applicativeStateT(i.monadIdentity))(n)}}}))}}(t),function(e){"use strict";e["Pure.Behaviours.NetworkSync"]=e["Pure.Behaviours.NetworkSync"]||{};var n=e["Pure.Behaviours.NetworkSync"],t=e["Control.Applicative"],r=e["Control.Bind"],a=e["Control.Monad.State.Trans"],u=e["Data.Exists"],i=e["Data.Identity"],o=e["Data.Ring"],l=e["Data.Semiring"],c=e["Data.Symbol"],s=e["Pure.Behaviour"],f=e["Pure.Entity"],d=e["Pure.Math"],v=e["Pure.Types"];n.init=function(e){return u.mkExists(new f.EntityBehaviour({state:{force:e.force,location:{x:0,y:0},rotation:0,velocity:{x:0,y:0},oldLocation:{x:0,y:0},oldRotation:0,active:!1},handleCommand:function(e){return function(n){return r.bind(a.bindStateT(i.monadIdentity))(s.entity)(function(u){if(e instanceof v.UpdateServerState)return t.pure(a.applicativeStateT(i.monadIdentity))({oldLocation:u.location,oldRotation:u.rotation,location:e.value0.location,rotation:e.value0.rotation,active:!0,force:n.force,velocity:n.velocity});if(e instanceof v.Tick){if(!n.active)return t.pure(a.applicativeStateT(i.monadIdentity))(n);var f=n.rotation+(u.rotation-n.oldRotation),m=l.add(l.semiringRecord()(l.semiringRecordCons(new c.IsSymbol(function(){return"x"}))()(l.semiringRecordCons(new c.IsSymbol(function(){return"y"}))()(l.semiringRecordNil)(l.semiringNumber))(l.semiringNumber)))(n.location)(o.sub(o.ringRecord()(o.ringRecordCons(new c.IsSymbol(function(){return"x"}))()(o.ringRecordCons(new c.IsSymbol(function(){return"y"}))()(o.ringRecordNil)(o.ringNumber))(o.ringNumber)))(u.location)(n.oldLocation)),p=u.rotation+n.force*(f-u.rotation),w=d.lerp(u.location)(m)(n.force);return r.bind(a.bindStateT(i.monadIdentity))(s.updateEntity(function(e){return{id:e.id,class:e.class,location:w,width:e.width,height:e.height,mass:e.mass,velocity:e.velocity,friction:e.friction,rotation:p,renderables:e.renderables,networkSync:e.networkSync,behaviour:e.behaviour}}))(function(){return t.pure(a.applicativeStateT(i.monadIdentity))({rotation:f,location:m,oldRotation:p,oldLocation:w,active:n.active,force:n.force,velocity:n.velocity})})}return t.pure(a.applicativeStateT(i.monadIdentity))(n)})}}}))}}(t),function(e){"use strict";e["Pure.BuiltIn.Bullets"]=e["Pure.BuiltIn.Bullets"]||{};var n=e["Pure.BuiltIn.Bullets"],t=e["Data.Bifunctor"],r=e["Data.Boolean"],a=e["Data.Eq"],u=e["Data.Foldable"],i=e["Data.List"],o=e["Data.List.Types"],l=e["Data.Map.Internal"],c=e["Data.Maybe"],s=e["Data.Ord"],f=e["Data.Semiring"],d=e["Data.Symbol"],v=e["Data.Tuple"],m=e["Pure.Entity"],p=function(e){return function(n){return function(t){if(n.age>150)return new v.Tuple(c.Nothing.value,c.Nothing.value);var i,o=u.find(l.foldableMap)((i=n,function(e){if(a.eq(m.eqEntityId)(i.owner)(e.id))return!1;if(r.otherwise){var n=.5*s.max(s.ordNumber)(e.width)(e.height);return(i.location.x-e.location.x)*(i.location.x-e.location.x)+(i.location.y-e.location.y)*(i.location.y-e.location.y)<n*n}throw new Error("Failed pattern match at Pure.BuiltIn.Bullets (line 63, column 1 - line 63, column 80): "+[i.constructor.name,e.constructor.name])}))(t.entities);if(o instanceof c.Nothing)return new v.Tuple(c.Just.create({age:n.age+1|0,location:f.add(f.semiringRecord()(f.semiringRecordCons(new d.IsSymbol(function(){return"x"}))()(f.semiringRecordCons(new d.IsSymbol(function(){return"y"}))()(f.semiringRecordNil)(f.semiringNumber))(f.semiringNumber)))(n.location)(n.velocity),owner:n.owner,power:n.power,velocity:n.velocity}),c.Nothing.value);if(o instanceof c.Just)return v.Tuple.create(c.Nothing.value)(c.Just.create(e.liftEvent({entity:o.value0.id,bullet:n})));throw new Error("Failed pattern match at Pure.BuiltIn.Bullets (line 55, column 5 - line 59, column 93): "+[o.constructor.name])}}};n.init=function(e){return{bullets:o.Nil.value,liftEvent:e}},n.fireBullet=function(e){return function(n){return function(t){return function(r){return function(a){return{bullets:new o.Cons({location:n,velocity:t,age:0,owner:e,power:r},a.bullets),liftEvent:a.liftEvent}}}}}},n.tick=function(e){return function(n){return t.lmap(v.bifunctorTuple)(function(n){return{bullets:n,liftEvent:e.liftEvent}})(u.foldl(o.foldableList)(function(r){return function(a){var u=p(e)(a)(n);return t.lmap(v.bifunctorTuple)(c.maybe(r.value0)(i.snoc(r.value0)))(t.rmap(v.bifunctorTuple)(c.maybe(r.value1)(i.snoc(r.value1)))(u))}})(new v.Tuple(o.Nil.value,o.Nil.value))(e.bullets))}}}(t),function(e){"use strict";e["Pure.BuiltIn.Collider"]=e["Pure.BuiltIn.Collider"]||{};var n=e["Pure.BuiltIn.Collider"],t=e["Control.Apply"],r=e["Data.Array"],a=e["Data.Boolean"],u=e["Data.Foldable"],i=e["Data.List.Types"],o=e["Data.Map.Internal"],l=e["Data.Maybe"],c=e["Data.Ord"],s=e["Data.Ring"],f=e["Data.Symbol"],d=e.Math,v=e["Pure.Entity"],m=function(e){return d.sqrt(e.x*e.x+e.y*e.y)},p=function(e){return function(n){return t=s.sub(s.ringRecord()(s.ringRecordCons(new f.IsSymbol(function(){return"x"}))()(s.ringRecordCons(new f.IsSymbol(function(){return"y"}))()(s.ringRecordNil)(s.ringNumber))(s.ringNumber)))(n)(e),r=m(t),{x:t.x/r,y:t.y/r};var t,r}},w=function(e){return function(n){return function(r){return function(u){return l.fromMaybe(r)(t.lift2(l.applyMaybe)(function(t){return function(l){var s;if((s=t,function(e){if(s.location.x>e.location.x+e.width)return!1;if(s.location.y>e.location.y+e.height)return!1;if(e.location.x>s.location.x+s.width)return!1;if(e.location.y>s.location.y+s.height)return!1;if(a.otherwise)return!0;throw new Error("Failed pattern match at Pure.BuiltIn.Collider (line 62, column 1 - line 62, column 72): "+[s.constructor.name,e.constructor.name])})(l)){var f=m(l.velocity)*l.mass,d=v.applyForce({direction:p(l.location)(t.location),force:f})(t),w=m(t.velocity)*t.mass,y=v.applyForce({direction:p(t.location)(l.location),force:w})(l);return{entities:o.insert(c.ordInt)(u)(y)(o.insert(c.ordInt)(n)(d)(r.entities)),events:new i.Cons(new i.Cons(e({left:t.id,right:l.id,force:w}),new i.Cons(e({left:l.id,right:t.id,force:f}),i.Nil.value)),r.events),entityCount:r.entityCount,entityRange:r.entityRange}}return r}})(o.lookup(c.ordInt)(n)(r.entities))(o.lookup(c.ordInt)(u)(r.entities)))}}}};n.onTick=function(e){return function(n){return u.foldl(u.foldableArray)(function(e){return function(n){return function(t){return function(i){if(i===n)return t;if(a.otherwise)return u.foldl(u.foldableArray)(w(e)(i))(t)(r.range(i+1|0)(n));throw new Error("Failed pattern match at Pure.BuiltIn.Collider (line 28, column 1 - line 28, column 108): "+[e.constructor.name,n.constructor.name,t.constructor.name,i.constructor.name])}}}}(e)(n.entityCount))(n)(n.entityRange)}}}(t),function(e){"use strict";e["Pure.BuiltIn.Explosions"]=e["Pure.BuiltIn.Explosions"]||{};var n=e["Pure.BuiltIn.Explosions"],t=e["Data.Boolean"],r=e["Data.Filterable"],a=e["Data.List.Types"],u=e["Data.Maybe"],i=function(e){if(e.age>90)return u.Nothing.value;if(t.otherwise)return u.Just.create({age:e.age+1|0,location:e.location,owner:e.owner,velocity:e.velocity});throw new Error("Failed pattern match at Pure.BuiltIn.Explosions (line 41, column 1 - line 41, column 60): "+[e.constructor.name])},o={explosions:a.Nil.value};n.init=o,n.createExplosion=function(e){return function(n){return function(t){return function(r){return{explosions:new a.Cons({location:n,velocity:t,age:0,owner:e},r.explosions)}}}}},n.tick=function(e){return{explosions:r.filterMap(r.filterableList)(i)(e.explosions)}}}(t),function(e){"use strict";e["Pure.Camera"]=e["Pure.Camera"]||{};var n=e["Pure.Camera"],t=e["Data.Unit"],r=e["Graphics.Canvas"],a=e.Math,u=e["Pure.Math"],i=function(e){var n=e.distance*a.tan(e.fieldOfView),t=e.lookAt.x-n/2,r=t+n,i=e.target.width/e.target.height,o=n/i,l=e.lookAt.y-o/2;return{aspectRatio:i,width:n,height:o,left:t,top:l,right:r,bottom:l+o,scale:u.point(e.target.width/n)(e.target.height/o)}};n.setupCamera=function(e){var n={lookAt:u.point(0)(0),distance:1e3,fieldOfView:.78525,target:e};return{config:n,viewport:i(n)}},n.applyViewport=function(e){return function(n){return function(){return r.scale(n)({scaleX:e.scale.x,scaleY:e.scale.y})(),r.translate(n)({translateX:-e.left,translateY:-e.top})(),t.unit}}},n.viewportFromConfig=i}(t),function(e){"use strict";e["Pure.Comms"]=e["Pure.Comms"]||{};var n=e["Pure.Comms"],t=e["Data.Generic.Rep"],r=e["Data.Symbol"],a=e.GenericJSON,u=e["Pure.Entity"],i=e["Pure.Types"],o=e["Simple.JSON"],l=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),c=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),s=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),f=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),d=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),v=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),m=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),p=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),w=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),y=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),g=new t.Generic(function(e){if(e instanceof l)return new t.Inl(e.value0);if(e instanceof c)return new t.Inr(new t.Inl(e.value0));if(e instanceof s)return new t.Inr(new t.Inr(new t.Inl(e.value0)));if(e instanceof f)return new t.Inr(new t.Inr(new t.Inr(new t.Inl(e.value0))));if(e instanceof d)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(e.value0)))));if(e instanceof v)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(e.value0))))));if(e instanceof m)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inl(e.value0)))))));if(e instanceof p)return new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(new t.Inr(e.value0)))))));throw new Error("Failed pattern match at Pure.Comms (line 57, column 1 - line 57, column 56): "+[e.constructor.name])},function(e){if(e instanceof t.Inl)return new l(e.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inl)return new c(e.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inl)return new s(e.value0.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inr&&e.value0.value0.value0 instanceof t.Inl)return new f(e.value0.value0.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inr&&e.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0 instanceof t.Inl)return new d(e.value0.value0.value0.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inr&&e.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0.value0 instanceof t.Inl)return new v(e.value0.value0.value0.value0.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inr&&e.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof t.Inl)return new m(e.value0.value0.value0.value0.value0.value0.value0);if(e instanceof t.Inr&&e.value0 instanceof t.Inr&&e.value0.value0 instanceof t.Inr&&e.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0.value0 instanceof t.Inr&&e.value0.value0.value0.value0.value0.value0 instanceof t.Inr)return new p(e.value0.value0.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at Pure.Comms (line 57, column 1 - line 57, column 56): "+[e.constructor.name])}),b=new o.ReadForeign(a.taggedSumRep(g)(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"entities"}))(o.readArray(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"class"}))(u.readForeignEntityClass)(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(u.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"rotation"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()())()())))(o.readFieldsCons(new r.IsSymbol(function(){return"players"}))(o.readArray(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(u.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"lastTick"}))(o.readInt)(o.readFieldsCons(new r.IsSymbol(function(){return"score"}))(o.readInt)(o.readFieldsNil)()())()())()())))(o.readFieldsCons(new r.IsSymbol(function(){return"tick"}))(o.readInt)(o.readFieldsCons(new r.IsSymbol(function(){return"world"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"height"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"width"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()())()())()()))(o.readFieldsNil)()())()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"entities"}))(o.writeForeignArray(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"class"}))(u.writeForeignEntityClass)(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(u.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"rotation"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())()()())))(o.consWriteForeignFields(new r.IsSymbol(function(){return"players"}))(o.writeForeignArray(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(u.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"lastTick"}))(o.writeForeignInt)(o.consWriteForeignFields(new r.IsSymbol(function(){return"score"}))(o.writeForeignInt)(o.nilWriteForeignFields)()()())()()())()()())))(o.consWriteForeignFields(new r.IsSymbol(function(){return"tick"}))(o.writeForeignInt)(o.consWriteForeignFields(new r.IsSymbol(function(){return"world"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"height"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"width"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()())()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())))(new r.IsSymbol(function(){return"Sync"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(u.readEntityId)(u.writeEntityId))(new r.IsSymbol(function(){return"PlayerAdded"})))(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(u.readEntityId)(u.writeEntityId))(new r.IsSymbol(function(){return"PlayerRemoved"})))(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"class"}))(u.readForeignEntityClass)(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(u.readEntityId)(o.readFieldsCons(new r.IsSymbol(function(){return"location"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsCons(new r.IsSymbol(function(){return"rotation"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"velocity"}))(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"x"}))(o.readNumber)(o.readFieldsCons(new r.IsSymbol(function(){return"y"}))(o.readNumber)(o.readFieldsNil)()())()()))(o.readFieldsNil)()())()())()())()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"class"}))(u.writeForeignEntityClass)(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(u.writeEntityId)(o.consWriteForeignFields(new r.IsSymbol(function(){return"location"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.consWriteForeignFields(new r.IsSymbol(function(){return"rotation"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"velocity"}))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"x"}))(o.writeForeignNumber)(o.consWriteForeignFields(new r.IsSymbol(function(){return"y"}))(o.writeForeignNumber)(o.nilWriteForeignFields)()()())()()()))(o.nilWriteForeignFields)()()())()()())()()())()()())()()())))(new r.IsSymbol(function(){return"PlayerSync"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"gameUrl"}))(o.readString)(o.readFieldsCons(new r.IsSymbol(function(){return"playerId"}))(o.readString)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"gameUrl"}))(o.writeForeignString)(o.consWriteForeignFields(new r.IsSymbol(function(){return"playerId"}))(o.writeForeignString)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"Welcome"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructorRecord(a.taggedSumRepArgument(o.readRecord()(o.readFieldsCons(new r.IsSymbol(function(){return"cmd"}))(i.readForeignEntityCommand)(o.readFieldsCons(new r.IsSymbol(function(){return"id"}))(u.readEntityId)(o.readFieldsNil)()())()()))(o.recordWriteForeign()(o.consWriteForeignFields(new r.IsSymbol(function(){return"cmd"}))(i.writeForeignEntityCommand)(o.consWriteForeignFields(new r.IsSymbol(function(){return"id"}))(u.writeEntityId)(o.nilWriteForeignFields)()()())()()())))(new r.IsSymbol(function(){return"ServerCommand"}))()())(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(o.readArray(i.readForeignGameEvent))(o.writeForeignArray(i.writeForeignGameEvent)))(new r.IsSymbol(function(){return"ServerEvents"})))(a.taggedSumRepConstructor(a.taggedSumRepArgument(o.readInt)(o.writeForeignInt))(new r.IsSymbol(function(){return"Pong"}))))))))))),S=new t.Generic(function(e){if(e instanceof w)return new t.Inl(e.value0);if(e instanceof y)return new t.Inr(e.value0);throw new Error("Failed pattern match at Pure.Comms (line 65, column 1 - line 65, column 56): "+[e.constructor.name])},function(e){if(e instanceof t.Inl)return new w(e.value0);if(e instanceof t.Inr)return new y(e.value0);throw new Error("Failed pattern match at Pure.Comms (line 65, column 1 - line 65, column 56): "+[e.constructor.name])}),I=new o.WriteForeign(a.writeTaggedSumRep(S)(a.taggedSumRepSum(a.taggedSumRepConstructor(a.taggedSumRepArgument(i.readForeignEntityCommand)(i.writeForeignEntityCommand))(new r.IsSymbol(function(){return"ClientCommand"})))(a.taggedSumRepConstructor(a.taggedSumRepArgument(o.readInt)(o.writeForeignInt))(new r.IsSymbol(function(){return"Ping"})))));n.Sync=l,n.PlayerAdded=c,n.PlayerRemoved=s,n.PlayerSync=f,n.Welcome=d,n.ServerCommand=v,n.ServerEvents=m,n.Pong=p,n.ClientCommand=w,n.Ping=y,n.readForeignServerMsg=b,n.writeForeignClientMsg=I}(t),function(e){"use strict";e["Pure.Entities.Bullet"]=e["Pure.Entities.Bullet"]||{};var n=e["Pure.Entities.Bullet"],t=e["Data.List.Types"],r=e["Data.Maybe"],a=e["Pure.Behaviours.BasicBitchPhysics"],u=e["Pure.Entity"];n.init=function(e){return function(n){return function(i){return{id:e,location:n,class:u.Bullet.value,width:5,height:5,velocity:i,friction:1,rotation:0,mass:20,networkSync:!1,behaviour:new t.Cons(a.init,t.Nil.value),renderables:new t.Cons({transform:{x:-2.5,y:-2.5,width:5,height:5},rotation:0,color:"#ff0",image:r.Nothing.value},t.Nil.value)}}}}}(t),function(e){"use strict";e["Pure.Entities.Tank"]=e["Pure.Entities.Tank"]||{};var n=e["Pure.Entities.Tank"],t=e["Data.List.Types"],r=e["Data.Maybe"],a=e["Pure.Behaviours.BasicBitchPhysics"],u=e["Pure.Behaviours.Driven"],i=e["Pure.Behaviours.FiresBullets"],o=e["Pure.Behaviours.HasHealth"],l=e["Pure.Behaviours.NetworkSync"],c=e["Pure.Entity"];n.init=function(e){return function(n){return{id:e,location:n,class:c.Tank.value,width:25,height:25,velocity:{x:0,y:0},friction:.9,rotation:-.25,mass:1e3,networkSync:!0,behaviour:new t.Cons(o.init(100),new t.Cons(i.init({max:100,speed:15,rate:5,power:25}),new t.Cons(a.init,new t.Cons(u.init({maxSpeed:5,acceleration:1500,turningSpeed:.015}),new t.Cons(l.init({force:.05}),t.Nil.value))))),renderables:new t.Cons({transform:{x:-12.5,y:-12.5,width:25,height:25},rotation:0,color:"#f00",image:new r.Just("ship")},t.Nil.value)}}}}(t),function(e){e.seed=function(){return null},e.random=function(e){return function(n){return e(0)(n)}}}(t["Pure.Game.Main"]=t["Pure.Game.Main"]||{}),function(e){"use strict";e["Pure.Runtime.Scene"]=e["Pure.Runtime.Scene"]||{};var n=e["Pure.Runtime.Scene"],t=e["Data.Array"],r=e["Data.Eq"],a=e["Data.Foldable"],u=e["Data.FoldableWithIndex"],i=e["Data.List"],o=e["Data.List.Types"],l=e["Data.Map.Internal"],c=e["Data.Maybe"],s=e["Data.Monoid"],f=e["Data.Ord"],d=e["Data.Tuple"],v=e["Pure.Entity"];n.initialModel=function(e){return{entities:s.mempty(l.monoidMap(v.ordEntityId)),world:{x:-1e3,y:-1e3,width:2e3,height:2e3},tickMsg:e,onTicked:o.Nil.value}},n.onTick=function(e){return function(n){return{entities:n.entities,world:n.world,tickMsg:n.tickMsg,onTicked:new o.Cons(e,n.onTicked)}}},n.sendCommand=function(e){return function(n){return function(t){var r=l.lookup(v.ordEntityId)(e)(t.entities);if(r instanceof c.Nothing)return new d.Tuple(t,o.Nil.value);if(r instanceof c.Just){var a=v.processCommand(r.value0)(n);return new d.Tuple({entities:l.insert(v.ordEntityId)(e)(a.value0)(t.entities),onTicked:t.onTicked,tickMsg:t.tickMsg,world:t.world},a.value1)}throw new Error("Failed pattern match at Pure.Runtime.Scene (line 48, column 3 - line 51, column 87): "+[r.constructor.name])}}},n.discardEvents=function(e){return e.value0},n.addEntity=function(e){return function(n){return{entities:l.insert(v.ordEntityId)(e.id)(e)(n.entities),world:n.world,tickMsg:n.tickMsg,onTicked:n.onTicked}}},n.removeEntity=function(e){return function(n){return{entities:l.delete(v.ordEntityId)(e)(n.entities),world:n.world,tickMsg:n.tickMsg,onTicked:n.onTicked}}},n.entityById=function(e){return function(n){return a.find(l.foldableMap)(function(n){return r.eq(v.eqEntityId)(n.id)(e)})(n.entities)}},n.tick=function(e){var n,r=u.foldlWithIndex(o.foldableWithIndexList)(function(e){return function(n){return function(t){return l.insert(f.ordInt)(e)(t.value1)(n)}}})(s.mempty(l.monoidMap(f.ordInt)))(l.toUnfoldableUnordered(o.unfoldableList)(e.entities)),m=l.size(r),p=t.range(0)(m),w={entities:r,events:o.Nil.value,entityRange:p,entityCount:m},y=a.foldl(a.foldableArray)((n=e.tickMsg,function(e){return function(t){return c.maybe(e)(function(r){var a=v.processCommand(r)(n);return{entities:l.insert(f.ordInt)(t)(a.value0)(e.entities),events:new o.Cons(a.value1,e.events),entityCount:e.entityCount,entityRange:e.entityRange}})(l.lookup(f.ordInt)(t)(e.entities))}}))(w)(p),g=a.foldl(o.foldableList)(function(e){return function(n){return n(e)}})(y)(e.onTicked);return d.Tuple.create({entities:a.foldl(o.foldableList)(function(e){return function(n){return l.insert(v.ordEntityId)(n.id)(n)(e)}})(s.mempty(l.monoidMap(v.ordEntityId)))(l.values(g.entities)),onTicked:e.onTicked,tickMsg:e.tickMsg,world:e.world})(i.concat(g.events))}}(t),function(e){"use strict";e["Pure.Runtime.Ticks"]=e["Pure.Runtime.Ticks"]||{};var n=e["Pure.Runtime.Ticks"],t=e["Data.Int"],r=e["Data.Tuple"];n.init=function(e){return function(n){return{timeAtLastFrame:e,leftoverTime:n,timePerFrame:n}}},n.update=function(e){return function(n){var a=e-n.timeAtLastFrame+n.leftoverTime,u=t.floor(a/n.timePerFrame);return r.Tuple.create(u)({leftoverTime:a-t.toNumber(u)*n.timePerFrame,timeAtLastFrame:e,timePerFrame:n.timePerFrame})}}}(t),function(e){"use strict";e["Pure.Game.Main"]=e["Pure.Game.Main"]||{};var n=e["Pure.Game.Main"],t=e["Pure.Game.Main"],r=e["Data.Array"],a=e["Data.Bifunctor"],u=e["Data.Foldable"],i=e["Data.List.Types"],o=e["Data.Map.Internal"],l=e["Data.Maybe"],c=e["Data.Monoid"],s=e["Data.Semigroup"],f=e["Data.Tuple"],d=e["Pure.BuiltIn.Bullets"],v=e["Pure.BuiltIn.Collider"],m=e["Pure.BuiltIn.Explosions"],p=e["Pure.Entities.Bullet"],w=e["Pure.Entities.Tank"],y=e["Pure.Entity"],g=e["Pure.Runtime.Scene"],b=e["Pure.Runtime.Ticks"],S=e["Pure.Types"],I=function(e){return{scene:g.onTick(v.onTick(S.EntityCollided.create))(g.initialModel(S.Tick.value)),bullets:d.init(S.BulletHit.create),explosions:m.init,lastTick:0,ticks:b.init(e)(1e3/30),players:c.mempty(o.monoidMap(y.ordEntityId)),pendingSpawns:c.mempty(i.monoidList),seed:t.seed}},h=function(e){var n=function(){if(e.class instanceof y.Tank)return w.init(e.id)(e.location);if(e.class instanceof y.Bullet)return p.init(e.id)(e.location)(e.velocity);throw new Error("Failed pattern match at Pure.Game.Main (line 173, column 15 - line 175, column 74): "+[e.class.constructor.name])}();return{id:n.id,class:n.class,location:e.location,width:n.width,height:n.height,mass:n.mass,velocity:e.velocity,friction:n.friction,rotation:e.rotation,renderables:n.renderables,networkSync:n.networkSync,behaviour:n.behaviour}};n.init=I,n.tick=function(e){return function(n){var o=b.update(e)(n.ticks),l=function(e){return a.rmap(f.bifunctorTuple)(function(n){return s.append(i.semigroupList)(e.value1)(n)})((n=e.value0,r=u.foldl(i.foldableList)(function(e){return function(n){return n.ticks<=0?a.rmap(f.bifunctorTuple)(function(e){return new i.Cons(n.playerId,e)})(e):a.lmap(f.bifunctorTuple)(function(e){return new i.Cons({ticks:n.ticks-1|0,playerId:n.playerId},e)})(e)}})(new f.Tuple(i.Nil.value,i.Nil.value))(n.pendingSpawns),o=g.tick(n.scene),l=u.foldl(i.foldableList)(function(e){return function(n){var r=t.random(f.Tuple.create)(f.fst(e)),a=t.random(f.Tuple.create)(r.value1);return f.Tuple.create(a.value1)(new i.Cons(new S.PlayerSpawn({x:1e3*r.value0-500,y:1e3*a.value0-500,id:n}),f.snd(e)))}})(new f.Tuple(n.seed,i.Nil.value))(f.snd(r)),c=m.tick(n.explosions),v=d.tick(n.bullets)(f.fst(o)),new f.Tuple({scene:f.fst(o),bullets:f.fst(v),explosions:c,lastTick:n.lastTick+1|0,pendingSpawns:f.fst(r),seed:f.fst(l),players:n.players,ticks:n.ticks},s.append(i.semigroupList)(f.snd(o))(s.append(i.semigroupList)(f.snd(v))(f.snd(l))))));var n,r,o,l,c,v},c=u.foldl(u.foldableArray)(function(e){return function(n){return 0===n?e:l(e)}})(new f.Tuple(n,i.Nil.value))(r.range(0)(o.value0));return a.lmap(f.bifunctorTuple)(function(e){return{ticks:o.value1,bullets:e.bullets,explosions:e.explosions,lastTick:e.lastTick,pendingSpawns:e.pendingSpawns,players:e.players,scene:e.scene,seed:e.seed}})(c)}},n.handleEvent=function(e){return function(n){if(n instanceof S.BulletFired)return new f.Tuple({bullets:d.fireBullet(n.value0.owner)(n.value0.location)(n.value0.velocity)(n.value0.power)(e.bullets),explosions:e.explosions,lastTick:e.lastTick,pendingSpawns:e.pendingSpawns,players:e.players,scene:e.scene,seed:e.seed,ticks:e.ticks},i.Nil.value);if(n instanceof S.EntityDestroyed)return new f.Tuple(function(e){return function(n){return function(t){return{scene:g.removeEntity(n)(e.scene),bullets:e.bullets,explosions:e.explosions,players:l.maybe(e.players)(function(n){return o.update(y.ordEntityId)(function(e){return l.Just.create({score:e.score+1|0,id:e.id,lastTick:e.lastTick})})(n)(e.players)})(t),lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:new i.Cons({playerId:n,ticks:300},e.pendingSpawns),seed:e.seed}}}}(e)(n.value0.entity)(n.value0.destroyer),i.Nil.value);if(n instanceof S.PlayerSpawn)return new f.Tuple({scene:g.addEntity(w.init(n.value0.id)({x:n.value0.x,y:n.value0.y}))(e.scene),bullets:e.bullets,explosions:e.explosions,lastTick:e.lastTick,pendingSpawns:e.pendingSpawns,players:e.players,seed:e.seed,ticks:e.ticks},i.Nil.value);if(n instanceof S.BulletHit){var t=m.createExplosion(n.value0.entity)(n.value0.bullet.location)(n.value0.bullet.velocity)(e.explosions);return a.lmap(f.bifunctorTuple)(function(n){return{scene:n,explosions:t,bullets:e.bullets,lastTick:e.lastTick,pendingSpawns:e.pendingSpawns,players:e.players,seed:e.seed,ticks:e.ticks}})(g.sendCommand(n.value0.entity)(new S.Damage({amount:n.value0.bullet.power,source:new l.Just(n.value0.bullet.owner)}))(e.scene))}if(n instanceof S.EntityCollided)return new f.Tuple(e,i.Nil.value);throw new Error("Failed pattern match at Pure.Game.Main (line 90, column 3 - line 107, column 25): "+[n.constructor.name])}},n.sendCommand=function(e){return function(n){return function(t){return a.lmap(f.bifunctorTuple)(function(e){return{scene:e,bullets:t.bullets,explosions:t.explosions,lastTick:t.lastTick,pendingSpawns:t.pendingSpawns,players:t.players,seed:t.seed,ticks:t.ticks}})(g.sendCommand(e)(n)(t.scene))}}},n.fromSync=function(e){return function(n){var t=I(e);return{scene:{entities:u.foldl(u.foldableArray)(function(e){return function(n){return o.insert(y.ordEntityId)(n.id)(h(n))(e)}})(c.mempty(o.monoidMap(y.ordEntityId)))(n.entities),world:n.world,tickMsg:t.scene.tickMsg,onTicked:t.scene.onTicked},bullets:t.bullets,explosions:t.explosions,players:u.foldl(u.foldableArray)(function(e){return function(n){return o.insert(y.ordEntityId)(n.id)(n)(e)}})(c.mempty(o.monoidMap(y.ordEntityId)))(n.players),lastTick:n.tick,ticks:t.ticks,pendingSpawns:t.pendingSpawns,seed:t.seed}}},n.addPlayer=function(e){return function(n){return{scene:n.scene,bullets:n.bullets,explosions:n.explosions,players:o.insert(y.ordEntityId)(e)({id:e,lastTick:n.lastTick,score:0})(n.players),lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:new i.Cons({playerId:e,ticks:0},n.pendingSpawns),seed:n.seed}}},n.removePlayer=function(e){return function(n){return function(e){return function(n){return{scene:g.removeEntity(e)(n.scene),bullets:n.bullets,explosions:n.explosions,players:n.players,lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:n.pendingSpawns,seed:n.seed}}}(e)({scene:n.scene,bullets:n.bullets,explosions:n.explosions,players:o.delete(y.ordEntityId)(e)(n.players),lastTick:n.lastTick,ticks:n.ticks,pendingSpawns:n.pendingSpawns,seed:n.seed})}},n.mergeSyncInfo=function(e){return function(n){return{scene:u.foldl(u.foldableArray)(function(e){return function(n){return g.discardEvents(g.sendCommand(n.id)(new S.UpdateServerState({location:n.location,velocity:n.velocity,rotation:n.rotation}))(e))}})(e.scene)(n.entities),bullets:e.bullets,explosions:e.explosions,players:e.players,lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:e.pendingSpawns,seed:e.seed}}},n.mergePlayerSync=function(e){return function(n){return{scene:g.discardEvents(g.sendCommand(n.id)(new S.UpdateServerState({location:n.location,velocity:n.velocity,rotation:n.rotation}))(e.scene)),bullets:e.bullets,explosions:e.explosions,players:e.players,lastTick:e.lastTick,ticks:e.ticks,pendingSpawns:e.pendingSpawns,seed:e.seed}}}}(t),function(e){function n(e){var n=[],t=e;return{subscribe:function(e){n.push(e),e(t)},get:function(){return t},set:function(e){t=e,n.forEach(function(n){n(e)})}}}e.constant=n,e.mapSig=function(e){return function(t){var r=n(e(t.get()));return t.subscribe(function(n){r.set(e(n))}),r}},e.merge=function(e){return function(t){var r=n(e.get());return t.subscribe(r.set),e.subscribe(r.set),r}},e.foldp=function(e){return function(t){return function(r){var a=t,u=n(a);return r.subscribe(function(n){a=e(n)(a),u.set(a)}),u}}},e.sampleOn=function(e){return function(t){var r=n(t.get());return e.subscribe(function(){r.set(t.get())}),r}},e.dropRepeats=function(e){return function(t){var r=t.get(),a=n(r);return t.subscribe(function(n){e.eq(r)(n)||(r=n,a.set(r))}),a}},e.runSignal=function(e){return function(){return e.subscribe(function(e){e()}),{}}}}(t.Signal=t.Signal||{}),function(e){"use strict";e.Signal=e.Signal||{};var n=e.Signal,t=e.Signal,r=e["Data.Functor"],a=new e["Data.Semigroup"].Semigroup(t.merge),u=new r.Functor(t.mapSig);n.functorSignal=u,n.semigroupSignal=a,n.constant=t.constant,n.foldp=t.foldp,n.sampleOn=t.sampleOn,n.dropRepeats=t.dropRepeats,n.runSignal=t.runSignal}(t),function(e){e.channelP=function(e){return function(n){return function(){return e(n)}}},e.sendP=function(e){return function(n){return function(){e.set(n)}}},e.subscribe=function(e){return e}}(t["Signal.Channel"]=t["Signal.Channel"]||{}),function(e){"use strict";e["Signal.Channel"]=e["Signal.Channel"]||{};var n=e["Signal.Channel"],t=e["Signal.Channel"],r=e.Signal,a=t.sendP,u=t.channelP(r.constant);n.channel=u,n.send=a,n.subscribe=t.subscribe}(t),function(e){e.keyPressedP=function(e){return function(n){return function(){var t=e(!1);return window.addEventListener("keydown",function(e){e.keyCode===n&&t.set(!0)}),window.addEventListener("keyup",function(e){e.keyCode===n&&t.set(!1)}),t}}},e.animationFrameP=function(e){return function(n){return function(){var t;window.requestAnimationFrame?(t=window.requestAnimationFrame,window.cancelAnimationFrame):window.mozRequestAnimationFrame?(t=window.mozRequestAnimationFrame,window.mozCancelAnimationFrame):window.webkitRequestAnimationFrame?(t=window.webkitRequestAnimationFrame,window.webkitCancelAnimationFrame):window.msRequestAnimationFrame?(t=window.msRequestAnimationFrame,window.msCancelAnimationFrame):window.oRequestAnimationFrame?(t=window.oRequestAnimationFrame,window.oCancelAnimationFrame):(t=function(e){setTimeout(function(){e(n())},1e3/60)},window.clearTimeout);var r=e(n());return t(function e(n){r.set(n),t(e)}),r}}}}(t["Signal.DOM"]=t["Signal.DOM"]||{}),function(n){function t(){var n="undefined"!=typeof performance?performance:null,t=void 0!==e?e:null;return(n&&(n.now||n.webkitNow||n.msNow||n.oNow||n.mozNow)||t&&t.hrtime&&function(){var e=t.hrtime();return(1e9*e[0]+e[1])/1e6}||Date.now).call(n)}n.now=t,n.everyP=function(e){return function(n){var r=e(t());return setInterval(function(){r.set(t())},n),r}}}(t["Signal.Time"]=t["Signal.Time"]||{}),function(e){"use strict";e["Signal.Time"]=e["Signal.Time"]||{};var n=e["Signal.Time"],t=e["Signal.Time"],r=e.Signal,a=t.everyP(r.constant);n.every=a,n.second=1e3,n.now=t.now}(t),function(e){"use strict";e["Signal.DOM"]=e["Signal.DOM"]||{};var n=e["Signal.DOM"],t=e["Signal.DOM"],r=e.Signal,a=e["Signal.Time"],u=t.keyPressedP(r.constant),i=t.animationFrameP(r.constant)(a.now);n.animationFrame=i,n.keyPressed=u}(t),function(e){"use strict";(t["Web.DOM.Document"]=t["Web.DOM.Document"]||{}).createElement=function(e){return function(n){return function(){return n.createElement(e)}}}}(),function(e){"use strict";e["Web.DOM.Document"]=e["Web.DOM.Document"]||{};var n=e["Web.DOM.Document"],t=e["Web.DOM.Document"],r=e["Unsafe.Coerce"].unsafeCoerce;n.toParentNode=r,n.createElement=t.createElement}(t),function(e){"use strict";(t["Web.DOM.Element"]=t["Web.DOM.Element"]||{}).setAttribute=function(e){return function(n){return function(t){return function(){return t.setAttribute(e,n),{}}}}}}(),function(e){"use strict";e["Web.DOM.Element"]=e["Web.DOM.Element"]||{};var n=e["Web.DOM.Element"],t=e["Web.DOM.Element"],r=e["Unsafe.Coerce"].unsafeCoerce;n.toNode=r,n.setAttribute=t.setAttribute}(t),function(e){"use strict";var n;e.childNodes=(n="childNodes",function(e){return function(){return e[n]}}),e.setTextContent=function(e){return function(n){return function(){return n.textContent=e,{}}}},e.appendChild=function(e){return function(n){return function(){return n.appendChild(e)}}},e.removeChild=function(e){return function(n){return function(){return n.removeChild(e)}}}}(t["Web.DOM.Node"]=t["Web.DOM.Node"]||{}),function(e){"use strict";e["Web.DOM.Node"]=e["Web.DOM.Node"]||{};var n=e["Web.DOM.Node"],t=e["Web.DOM.Node"];n.childNodes=t.childNodes,n.setTextContent=t.setTextContent,n.appendChild=t.appendChild,n.removeChild=t.removeChild}(t),function(e){"use strict";(t["Web.DOM.NodeList"]=t["Web.DOM.NodeList"]||{}).toArray=function(e){return function(){return[].slice.call(e)}}}(),function(e){"use strict";e["Web.DOM.NodeList"]=e["Web.DOM.NodeList"]||{};var n=e["Web.DOM.NodeList"],t=e["Web.DOM.NodeList"];n.toArray=t.toArray}(t),function(e){"use strict";(t["Web.DOM.ParentNode"]=t["Web.DOM.ParentNode"]||{})._querySelector=function(e){return function(n){return function(){return n.querySelector(e)}}}}(),function(e){"use strict";e["Web.DOM.ParentNode"]=e["Web.DOM.ParentNode"]||{};var n=e["Web.DOM.ParentNode"],t=e["Web.DOM.ParentNode"],r=e["Data.Functor"],a=e["Data.Nullable"],u=e.Effect;n.querySelector=function(e){var n=r.map(u.functorEffect)(a.toMaybe),i=t._querySelector(e);return function(e){return n(i(e))}}}(t),function(e){"use strict";e.eventListener=function(e){return function(){return function(n){return e(n)()}}},e.addEventListener=function(e){return function(n){return function(t){return function(r){return function(){return r.addEventListener(e,n,t)}}}}}}(t["Web.Event.EventTarget"]=t["Web.Event.EventTarget"]||{}),function(e){"use strict";e["Web.Event.EventTarget"]=e["Web.Event.EventTarget"]||{};var n=e["Web.Event.EventTarget"],t=e["Web.Event.EventTarget"];n.eventListener=t.eventListener,n.addEventListener=t.addEventListener}(t),function(e){"use strict";(t["Web.HTML"]=t["Web.HTML"]||{}).window=function(){return window}}(),function(e){"use strict";e["Web.HTML"]=e["Web.HTML"]||{};var n=e["Web.HTML"],t=e["Web.HTML"];n.window=t.window}(t),function(e){"use strict";e["Web.HTML.HTMLDocument"]=e["Web.HTML.HTMLDocument"]||{};var n=e["Web.HTML.HTMLDocument"],t=e["Unsafe.Coerce"].unsafeCoerce;n.toDocument=t}(t),function(e){"use strict";(t["Web.HTML.Window"]=t["Web.HTML.Window"]||{}).document=function(e){return function(){return e.document}}}(),function(e){"use strict";e["Web.HTML.Window"]=e["Web.HTML.Window"]||{};var n=e["Web.HTML.Window"],t=e["Web.HTML.Window"];n.document=t.document}(t),function(e){"use strict";e["Web.Socket.Event.EventTypes"]=e["Web.Socket.Event.EventTypes"]||{};e["Web.Socket.Event.EventTypes"].onMessage="message"}(t),function(e){"use strict";(t["Web.Socket.Event.MessageEvent"]=t["Web.Socket.Event.MessageEvent"]||{}).data_=function(e){return e.data}}(),function(e){"use strict";(t["Web.Internal.FFI"]=t["Web.Internal.FFI"]||{})._unsafeReadProtoTagged=function(e,n,t,r){if("undefined"!=typeof window){var a=window[t];return null!=a&&r instanceof a?n(r):e}for(var u=r;null!=u;){var i=Object.getPrototypeOf(u),o=i.constructor.name;if(o===t)return n(r);if("Object"===o)return e;u=i}return e}}(),function(e){"use strict";e["Web.Internal.FFI"]=e["Web.Internal.FFI"]||{};var n=e["Web.Internal.FFI"],t=e["Web.Internal.FFI"],r=e["Data.Maybe"];n.unsafeReadProtoTagged=function(e){return function(n){return t._unsafeReadProtoTagged(r.Nothing.value,r.Just.create,e,n)}}}(t),function(e){"use strict";e["Web.Socket.Event.MessageEvent"]=e["Web.Socket.Event.MessageEvent"]||{};var n=e["Web.Socket.Event.MessageEvent"],t=e["Web.Socket.Event.MessageEvent"],r=e["Web.Internal.FFI"].unsafeReadProtoTagged("MessageEvent");n.fromEvent=r,n.data_=t.data_}(t),function(e){"use strict";e["Web.Socket.ReadyState"]=e["Web.Socket.ReadyState"]||{};var n=e["Web.Socket.ReadyState"],t=e["Data.Maybe"],r=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}();n.Open=a,n.toEnumReadyState=function(e){return 0===e?new t.Just(r.value):1===e?new t.Just(a.value):2===e?new t.Just(u.value):3===e?new t.Just(i.value):t.Nothing.value}}(t),function(e){"use strict";e.create=function(e){return function(n){return function(){return new WebSocket(e,n)}}},e.readyStateImpl=function(e){return function(){return e.readyState}},e.close=function(e){return function(){return e.close()}},e.sendImpl=function(e){return function(n){return function(){e.send(n)}}}}(t["Web.Socket.WebSocket"]=t["Web.Socket.WebSocket"]||{}),function(e){"use strict";e["Web.Socket.WebSocket"]=e["Web.Socket.WebSocket"]||{};var n=e["Web.Socket.WebSocket"],t=e["Web.Socket.WebSocket"],r=e["Data.Maybe"],a=e["Unsafe.Coerce"],u=e["Web.Socket.ReadyState"],i=a.unsafeCoerce,o=t.sendImpl;n.toEventTarget=i,n.readyState=function(e){return function(){var n=t.readyStateImpl(e)();return r.fromJust()(u.toEnumReadyState(n))}},n.sendString=o,n.create=t.create,n.close=t.close}(t),function(e){"use strict";e["Pure.Main"]=e["Pure.Main"]||{};var n=e["Pure.Main"],t=e.Assets,r=e["Control.Applicative"],a=e["Control.Apply"],u=e["Control.Bind"],i=e["Control.Monad.Except"],o=e["Data.DateTime.Instant"],l=e["Data.Either"],c=e["Data.Foldable"],s=e["Data.Function"],f=e["Data.Functor"],d=e["Data.Int"],v=e["Data.List.Types"],m=e["Data.Map.Internal"],p=e["Data.Maybe"],w=e["Data.Newtype"],y=e["Data.Ord"],g=e["Data.Semigroup"],b=e["Data.Show"],S=e["Data.Traversable"],I=e["Data.Tuple"],h=e["Data.Unit"],F=e.Effect,C=e["Effect.Aff"],E=e["Effect.Now"],D=e.Foreign,T=e["Graphics.Canvas"],N=e.Math,R=e["Pure.Background"],x=e["Pure.Camera"],k=e["Pure.Comms"],W=e["Pure.Entity"],M=e["Pure.Game.Main"],P=e["Pure.Runtime.Scene"],A=e["Pure.Types"],L=e.Signal,B=e["Signal.Channel"],_=e["Signal.DOM"],U=e["Signal.Time"],O=e["Simple.JSON"],q=e["Web.DOM.Document"],G=e["Web.DOM.Element"],J=e["Web.DOM.Node"],H=e["Web.DOM.NodeList"],Q=e["Web.DOM.ParentNode"],z=e["Web.Event.EventTarget"],j=e["Web.HTML"],V=e["Web.HTML.HTMLDocument"],Y=e["Web.HTML.Window"],X=e["Web.Socket.Event.EventTypes"],K=e["Web.Socket.Event.MessageEvent"],Z=e["Web.Socket.ReadyState"],$=e["Web.Socket.WebSocket"],ee=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),ne=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),te=function(){function e(e){this.value0=e}return e.create=function(n){return new e(n)},e}(),re=L.sampleOn(U.every(2*U.second))(L.constant(h.unit)),ae=function(e){return function(n){return function(t){return p.maybe(t)(function(e){return{lookAt:e.location,distance:500+10*(N.abs(e.velocity.x)+N.abs(e.velocity.y)),fieldOfView:t.fieldOfView,target:t.target}})(P.entityById(w.wrap(W.ntEntityId)(e))(n))}}},ue=L.sampleOn(U.every(U.second/30))(L.constant(h.unit)),ie=function(){var e=_.keyPressed(38)();return L.dropRepeats(A.eqEntityCommand)(f.map(L.functorSignal)(function(e){return e?A.PushForward.value:A.StopPushForward.value})(e))},oe=function(e){return function(n){return function(){return $.readyState(e)()instanceof Z.Open?$.sendString(e)(n)():h.unit}}},le=function(){var e=_.keyPressed(39)();return L.dropRepeats(A.eqEntityCommand)(f.map(L.functorSignal)(function(e){return e?A.TurnRight.value:A.StopTurnRight.value})(e))},ce=function(){var e=_.keyPressed(37)();return L.dropRepeats(A.eqEntityCommand)(f.map(L.functorSignal)(function(e){return e?A.TurnLeft.value:A.StopTurnLeft.value})(e))},se=function(e){return function(n){return function(t){return function(){return S.for(F.applicativeEffect)(m.traversableMap)(e.entities)(function(e){return T.withContext(t)(function(){return T.translate(t)({translateX:e.location.x,translateY:e.location.y})(),T.rotate(t)(2*e.rotation*N.pi)(),S.for(F.applicativeEffect)(v.traversableList)(e.renderables)(function(e){return T.withContext(t)(function(){return T.translate(t)({translateX:e.transform.x,translateY:e.transform.y})(),T.rotate(t)(2*e.rotation*N.pi)(),T.translate(t)({translateX:-e.transform.x,translateY:-e.transform.y})(),T.setFillStyle(t)(w.unwrap(W.ntHtmlColor)(e.color))(),p.fromMaybe(T.fillRect(t)(e.transform))(f.map(p.functorMaybe)(function(n){return T.drawImageScale(t)(n)(e.transform.x)(e.transform.y)(e.transform.width)(e.transform.height)})(u.bindFlipped(p.bindMaybe)(s.flip(m.lookup(y.ordString))(n))(e.image)))(),h.unit})})(),T.translate(t)({translateX:-e.location.x,translateY:-e.location.y})()})})(),h.unit}}}},fe=function(e){return function(n){return function(){return T.setFillStyle(n)("#0ff")(),T.beginPath(n)(),S.traverse(v.traversableList)(F.applicativeEffect)(function(e){var t=d.toNumber(e.age)+2;return function(){return T.moveTo(n)(e.location.x+t)(e.location.y)(),T.arc(n)({x:e.location.x,y:e.location.y,start:0,end:2*N.pi,radius:t})(),T.fill(n)(),h.unit}})(e.explosions)(),T.fill(n)()}}},de=function(e){return function(n){return function(){return T.setFillStyle(n)("#0ff")(),T.beginPath(n)(),S.traverse(v.traversableList)(F.applicativeEffect)(function(e){return function(){return T.moveTo(n)(e.location.x+2.5)(e.location.y)(),T.arc(n)({x:e.location.x,y:e.location.y,start:0,end:2*N.pi,radius:2.5})(),T.fill(n)(),h.unit}})(e.bullets)(),T.fill(n)()}}},ve=function(e){return function(){T.clearRect(e.offscreenContext)({x:0,y:0,width:e.camera.config.target.width,height:e.camera.config.target.height})(),T.save(e.offscreenContext)(),x.applyViewport(e.camera.viewport)(e.offscreenContext)(),R.render(e.camera.viewport)(e.game.scene)(e.offscreenContext)(),fe(e.game.explosions)(e.offscreenContext)(),de(e.game.bullets)(e.offscreenContext)(),se(e.game.scene)(e.assets)(e.offscreenContext)(),T.restore(e.offscreenContext)();var n=T.canvasElementToImageSource(e.offscreenCanvas);return T.clearRect(e.renderContext)({x:0,y:0,width:e.camera.config.target.width,height:e.camera.config.target.height})(),T.drawImage(e.renderContext)(n)(0)(0)(),h.unit}},me=L.sampleOn(U.every(U.second))(L.constant(h.unit)),pe=function(e){return function(n){var t=I.fst(M.tick(n)(e.game)),r=x.viewportFromConfig(ae(e.playerName)(t.scene)(e.camera.config)),a={camera:{config:e.camera.config,viewport:r},assets:e.assets,canvasElement:e.canvasElement,game:e.game,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now,offscreenCanvas:e.offscreenCanvas,offscreenContext:e.offscreenContext,playerName:e.playerName,renderContext:e.renderContext,serverTick:e.serverTick,socket:e.socket,socketChannel:e.socketChannel,tickLatency:e.tickLatency,window:e.window};return{renderContext:a.renderContext,canvasElement:a.canvasElement,offscreenContext:a.offscreenContext,offscreenCanvas:a.offscreenCanvas,assets:a.assets,camera:a.camera,window:a.window,game:t,playerName:a.playerName,socketChannel:a.socketChannel,socket:a.socket,serverTick:a.serverTick,tickLatency:a.tickLatency,gameUrl:a.gameUrl,isStarted:a.isStarted,now:n}}},we=function(e){return function(n){if(n instanceof k.Sync)return e.isStarted?{game:M.mergeSyncInfo(e.game)(n.value0),serverTick:n.value0.tick,assets:e.assets,camera:e.camera,canvasElement:e.canvasElement,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now,offscreenCanvas:e.offscreenCanvas,offscreenContext:e.offscreenContext,playerName:e.playerName,renderContext:e.renderContext,socket:e.socket,socketChannel:e.socketChannel,tickLatency:e.tickLatency,window:e.window}:{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:M.fromSync(e.now)(n.value0),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:n.value0.tick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:!0,now:e.now};if(n instanceof k.PlayerSync)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:M.mergePlayerSync(e.game)(n.value0),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.Welcome)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:e.game,playerName:n.value0.playerId,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:n.value0.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.ServerCommand)return w.unwrap(W.ntEntityId)(n.value0.id)===e.playerName?e:{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:I.fst(M.sendCommand(n.value0.id)(n.value0.cmd)(e.game)),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.ServerEvents)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:c.foldl(c.foldableArray)(function(e){return function(n){return I.fst(M.handleEvent(e)(n))}})(e.game)(n.value0),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.PlayerAdded)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:M.addPlayer(n.value0)(e.game),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.PlayerRemoved)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:M.removePlayer(n.value0)(e.game),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};if(n instanceof k.Pong)return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:e.game,playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.game.lastTick-n.value0|0,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now};throw new Error("Failed pattern match at Pure.Main (line 254, column 3 - line 287, column 51): "+[n.constructor.name])}},ye=function(e){return function(n){return{renderContext:e.renderContext,canvasElement:e.canvasElement,offscreenContext:e.offscreenContext,offscreenCanvas:e.offscreenCanvas,assets:e.assets,camera:e.camera,window:e.window,game:I.fst(M.sendCommand(w.wrap(W.ntEntityId)(e.playerName))(n)(e.game)),playerName:e.playerName,socketChannel:e.socketChannel,socket:e.socket,serverTick:e.serverTick,tickLatency:e.tickLatency,gameUrl:e.gameUrl,isStarted:e.isStarted,now:e.now}}},ge=function(){var e=_.keyPressed(32)();return L.dropRepeats(A.eqEntityCommand)(f.map(L.functorSignal)(function(e){return e?A.FireBullet.value:A.StopFiring.value})(e))},be=function(e){return function(n){return function(){var t=$.create(e)([])(),r=z.eventListener(function(e){return c.for_(F.applicativeEffect)(c.foldableMaybe)(K.fromEvent(e))(function(e){return c.for_(F.applicativeEffect)(l.foldableEither)(i.runExcept(D.readString(K.data_(e))))(n)})})();return z.addEventListener(X.onMessage)(r)(!1)($.toEventTarget(t))(),t}}},Se=function(e){var n=function(n){return function(t){return function(r){return function(){var a=j.window(),u=T.getContext2D(n)(),i=T.getContext2D(t)(),l=T.getCanvasWidth(n)(),c=B.channel("")(),s=be("ws://localhost:3000/messaging")(B.send(c))(),d=T.getCanvasHeight(n)(),v=f.map(F.functorEffect)(o.unInstant)(E.now)(),m=M.init(v),p=x.setupCamera({width:l,height:d});return e({offscreenContext:i,offscreenCanvas:t,renderContext:u,assets:r,canvasElement:n,camera:p,window:a,game:m,playerName:"",gameUrl:"",socket:s,socketChannel:c,serverTick:0,now:v,tickLatency:0,isStarted:!1})()}}}};return C.runAff_(function(e){return function(){var t=T.getCanvasElementById("target")(),u=T.getCanvasElementById("offscreen")();return p.fromMaybe(r.pure(F.applicativeEffect)(h.unit))(a.apply(p.applyMaybe)(a.apply(p.applyMaybe)(f.map(p.functorMaybe)(n)(t))(u))(l.hush(e)))()}})(t.load)},Ie=function(){var e=_.keyPressed(40)();return L.dropRepeats(A.eqEntityCommand)(f.map(L.functorSignal)(function(e){return e?A.PushBackward.value:A.StopPushBackward.value})(e))},he=function(){var e=ge(),n=ce(),t=ie(),r=le(),a=Ie();return g.append(L.semigroupSignal)(e)(g.append(L.semigroupSignal)(n)(g.append(L.semigroupSignal)(t)(g.append(L.semigroupSignal)(r)(a))))},Fe=Se(function(e){return function(){var n=he(),t=_.animationFrame(),a=f.map(F.functorEffect)(V.toDocument)(Y.document(e.window))(),i=f.map(F.functorEffect)(o.unInstant)(E.now)(),c=B.channel(i)(),s=Q.querySelector("#game-info")(q.toParentNode(a))(),d=Q.querySelector("#latency-info")(q.toParentNode(a))(),v=Q.querySelector("#player-list")(q.toParentNode(a))(),y=B.subscribe(e.socketChannel),I=f.map(L.functorSignal)(ne.create)(B.subscribe(c)),C=L.foldp(function(e){return function(n){if(e instanceof ee)return ye(n)(e.value0);if(e instanceof ne)return pe(n)(e.value0);if(e instanceof te)return l.either(function(e){return n})(we(n))(O.readJSON(k.readForeignServerMsg)(e.value0));throw new Error("Failed pattern match at Pure.Main (line 191, column 42 - line 194, column 113): "+[e.constructor.name])}})(e)(g.append(L.semigroupSignal)(I)(g.append(L.semigroupSignal)(f.map(L.functorSignal)(ee.create)(n))(f.map(L.functorSignal)(te.create)(y))));return L.runSignal(f.map(L.functorSignal)(function(e){return function(){var e=f.map(F.functorEffect)(o.unInstant)(E.now)();return B.send(c)(e)()}})(ue))(),L.runSignal(f.map(L.functorSignal)(function(n){return oe(e.socket)(O.writeJSON(k.writeForeignClientMsg)(new k.ClientCommand(n)))})(n))(),L.runSignal(f.map(L.functorSignal)(function(e){return function(){return p.maybe(r.pure(F.applicativeEffect)(h.unit))(function(n){return function(){return G.setAttribute("href")(e.gameUrl)(n)(),J.setTextContent(e.gameUrl)(G.toNode(n))()}})(s)(),p.maybe(r.pure(F.applicativeEffect)(h.unit))(function(n){return J.setTextContent("Ping: "+b.show(b.showInt)(33*e.tickLatency|0)+"ms")(G.toNode(n))})(d)(),p.maybe(r.pure(F.applicativeEffect)(h.unit))(function(n){var t=G.toNode(n);return function(){var n=u.bindFlipped(F.bindEffect)(H.toArray)(J.childNodes(t))();return S.traverse(S.traversableArray)(F.applicativeEffect)(function(e){return J.removeChild(e)(t)})(n)(),S.traverse(m.traversableMap)(F.applicativeEffect)(function(e){return function(){var n=f.map(F.functorEffect)(G.toNode)(q.createElement("li")(a))();return J.setTextContent(w.unwrap(W.ntEntityId)(e.id)+": "+b.show(b.showInt)(e.score))(n)(),J.appendChild(n)(t)()}})(e.game.players)(),h.unit}})(v)(),h.unit}})(L.sampleOn(re)(C)))(),L.runSignal(f.map(L.functorSignal)(function(n){return oe(e.socket)(O.writeJSON(k.writeForeignClientMsg)(new k.Ping(n.game.lastTick)))})(L.sampleOn(me)(C)))(),L.runSignal(f.map(L.functorSignal)(ve)(L.sampleOn(t)(C)))()}});n.rotateLeftSignal=ce,n.thrustSignal=ie,n.rotateRightSignal=le,n.brakeSignal=Ie,n.fireSignal=ge,n.inputSignal=he,n.Input=ee,n.GameTick=ne,n.Ws=te,n.tickSignal=ue,n.pingSignal=me,n.uiUpdateSignal=re,n.load=Se,n.gameInfoSelector="#game-info",n.playerListSelector="#player-list",n.latencyInfoSelector="#latency-info",n.main=Fe,n.safeSend=oe,n.handleServerMessage=we,n.handleClientCommand=ye,n.handleTick=pe,n.trackPlayer=ae,n.render=ve,n.prepareScene=function(e){return function(e){return e}},n.renderExplosions=fe,n.renderBullets=de,n.renderScene=se,n.createSocket=be,n.destroySocket=function(e){return function(){return $.close(e)(),h.unit}}}(t),t["Pure.Main"].main();
},{"process":"pBGv"}]},{},["C4Nx"], null)